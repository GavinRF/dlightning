class MobileUIEditor{modalAdded=!1;fabAdded=!1;constructor(){this.state={canvasCount:1,selectedCanvases:new Set,navbarStates:new Map},this.alignmentController=new AlignmentController(".canvas-content"),this.animationController=new AnimationController,"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(()=>this.init())):this.init()}init(){console.log("Initializing editor..."),this.initializeFirstCanvas(),this.setupEventListeners(),this.setupDownloadButton(),this.updateTime(),setInterval(this.updateTime,6e4),this.initOnboarding(),this.setupImageUpload(),this.setupIconPicker()}initializeFirstCanvas(){this.createNewCanvas();const e=document.querySelector(".canvas");e.classList="canvas selected",e&&(this.state.selectedCanvases.add(e),e.addEventListener("click",(e=>this.handleCanvasSelection(e))))}updateTime(){const e=new Date,t=e.getHours().toString().padStart(2,"0")+":"+e.getMinutes().toString().padStart(2,"0");document.querySelector(".time").textContent=t}setupEventListeners(){document.querySelectorAll(".component-btn, .addHeadingButton").forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault(),this.handleComponentAddition(e)}))}));const e=document.querySelector(".add-canvas-btn");e&&e.addEventListener("click",(e=>{e.preventDefault(),this.createNewCanvas()})),document.addEventListener("click",(e=>{e.target.classList.contains("delete-canvas-btn")&&this.handleCanvasDelete(e)}))}handleComponentAddition(e){const t=e.getAttribute("data-component"),n=this.state.selectedCanvases.size>0?Array.from(this.state.selectedCanvases):document.querySelectorAll(".canvas");if(["navbar","bottomNav","modal","floatingActionButton"].includes(t)){if(Array.from(n).some((e=>e.querySelector("navbar"===t?".navbar":"bottomNav"===t?"nav":"modal"===t?".modal":".fab"))))return void this.removeComponent(t,n)}n.forEach((n=>{if(!n)return void console.error("No canvas found");let o,a,r;switch(t){case"navbar":o=this.components.navbar(),this.insertNavbar(n,o,"top");break;case"bottomNav":o=this.components.bottomNav(),this.insertNavbar(n,o,"bottom");break;case"modal":if(this.modalAdded){const e=n.querySelector(".modal-wrapper");e&&e.remove()}else o=this.components.modal(),n.appendChild(o);break;case"floatingActionButton":this.fabAdded||(o=this.components.floatingActionButton(),n.appendChild(o));break;case"hero":if(o=this.components.hero(),a=this.wrapComponentInContainer(o,"hero"),r=n.querySelector(".canvas-content"),r){const e=r.firstChild;n.querySelector(".navbar-spacer")&&e?r.insertBefore(a,e.nextSibling):e?r.insertBefore(a,e):r.appendChild(a)}break;case"heading":const s=e.getAttribute("data-level");if(o=this.components.heading(null,s||"h1","Heading Text"),a=this.wrapComponentInContainer(o,"heading"),r=n.querySelector(".canvas-content"),r){const e=r.querySelector("footer")?.closest(".component-container");e?r.insertBefore(a,e):r.appendChild(a)}break;default:const i=(e=>{const t=`#${e}-type`,n=document.querySelector(t);return n?n.value:null})(t);if(o=this.components[t]?.(i),a=this.wrapComponentInContainer(o,`${t}-${i||""}`),r=n.querySelector(".canvas-content"),r){const e=r.querySelector("footer")?.closest(".component-container");e?r.insertBefore(a,e):r.appendChild(a)}}if(!["navbar","bottomNav","modal"].includes(t)){const e=n.querySelector(".phoneScrollCon");e&&(e.scrollTop="hero"===t?0:e.scrollHeight)}}))}wrapComponentInContainer(e,t){const n=document.createElement("div");for(n.className="component-container";n.firstChild;)n.removeChild(n.firstChild);const o=document.createElement("div");o.className="component-handle",o.textContent="⋮";const a=document.createElement("div");a.className="component-content";const r=document.createElement("button");r.className="delete-btn",r.textContent="×";const s=document.createElement("button");s.className="duplicate-btn",s.innerHTML='<i class="fa-solid fa-copy"></i>',n.append(o,a,r,s);if(e.container&&"function"==typeof e.setup?(a.appendChild(e.container),e.setup()):a.appendChild(e),t&&t.includes("-")&&n.setAttribute("data-component-variant",t),a.querySelector('[style*="var(--color"]')){a.querySelectorAll('[style*="var(--color"]').forEach((e=>{console.log("Style found:",e.style.cssText);const t=createColorSwatches(e);Array.isArray(t)?t.forEach((e=>{e&&e.children.length>0&&n.insertBefore(e,n.firstChild)})):t&&t.children.length>0&&n.insertBefore(t,n.firstChild)}))}function i(e){const t=e.querySelector("[data-placeholder]"),n=e.querySelector(".resize-handle");if(!n||!t)return;let o,a;function r(e){const n=a+(e.clientY-o);n>=80&&(t.style.height=`${n}px`)}function s(){document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",s)}n.addEventListener("mousedown",(e=>{o=e.clientY,a=parseInt(window.getComputedStyle(t).height),document.addEventListener("mousemove",r),document.addEventListener("mouseup",s),e.preventDefault()}))}n.querySelector(".delete-btn").addEventListener("click",(()=>n.remove())),n.querySelector(".duplicate-btn").addEventListener("click",(()=>this.duplicateComponent(n,t)));const l=document.createElement("div");l.classList="controls",l.style.cssText="position: absolute; top: -24px; left: 50%; transform: translateX(-50%); display: none; gap: 4px; align-items: center; padding: 4px; background-color: var(--interface-color); border-radius: 6px; z-index: 9939939";const c=document.createElement("button");c.innerHTML='<i class="fas fa-circle-left"></i>',c.className="nav-control prev-nav",c.style.cssText="background: var(--basic-txt-color); padding: 1px; border-radius: 50%; border: none; color: var(--input-bg-color); font-size: 20px; cursor: pointer; opacity: 0; transition: opacity 0.3s;";const d=document.createElement("button");d.innerHTML='<i class="fas fa-circle-right"></i>',d.className="nav-control next-nav",d.style.cssText="background: var(--basic-txt-color); padding: 1px; border-radius: 50%; border: none; color: var(--input-bg-color); font-size: 20px; cursor: pointer; opacity: 0; transition: opacity 0.3s;";const p=document.createElement("span");p.style.cssText="opacity: 0; transition: opacity 0.3s; color: white; font-size: 14px; min-width: 30px; text-align: center;";const u=t?t.replace(/-+$/,""):null;let m=null;u?(m=setupVariants(u),m||(m=[])):(console.error("Invalid componentType provided:",t),m=[]);const h=m.length||0;p.textContent=`1/${h||"N/A"}`,l.appendChild(c),l.appendChild(p),l.appendChild(d);null!==setupVariants(t)&&n.appendChild(l),a.dataset.componentType=t,a.dataset.currentVariant="0",a.dataset.cachedVariants=JSON.stringify(setupVariants(t)||[]);const y=e=>{const t=a.dataset.componentType,o=t.replace(/-+$/,""),r=parseInt(a.dataset.currentVariant),s=setupVariants(o);n.querySelectorAll(".color-swatch-container").forEach((e=>e.remove()));const l=a.innerHTML,c=a.dataset.variantCache?JSON.parse(a.dataset.variantCache):{};c[r]=l,a.dataset.variantCache=JSON.stringify(c);const d=(r+e+s.length)%s.length;a.dataset.currentVariant=d;const u=c[d];if(u)a.innerHTML=u;else{const e=document.createElement("div");e.innerHTML=s[d];const t=e.firstChild;a.innerHTML="",a.appendChild(t)}if(t.startsWith("input")||t.startsWith("searchBar")){a.querySelectorAll("[contenteditable=true]").forEach((e=>{e.addEventListener("input",(function(){""===this.textContent.trim()?this.classList.add("empty"):this.classList.remove("empty")})),e.addEventListener("keypress",(e=>{"Enter"===e.key&&e.preventDefault()})),e.addEventListener("paste",(e=>{e.preventDefault();const t=(e.originalEvent||e).clipboardData.getData("text/plain");document.execCommand("insertText",!1,t)}))}))}if(t.startsWith("textarea")){a.querySelectorAll("[contenteditable=true]").forEach((e=>{e.addEventListener("input",(function(){""===this.textContent.trim()?this.classList.add("empty"):this.classList.remove("empty")}))}))}if(a.querySelector('[style*="var(--color"]')){a.querySelectorAll('[style*="var(--color"]').forEach((e=>{console.log("Variant style found:",e.style.cssText);const t=createColorSwatches(e);Array.isArray(t)?t.forEach((e=>{e&&e.children.length>0&&(n.insertBefore(e,n.firstChild),e.style.visibility="visible",e.style.opacity="1")})):t&&t.children.length>0&&(n.insertBefore(t,n.firstChild),t.style.visibility="visible",t.style.opacity="1")}))}this.setupIconPicker(a),this.setupImageUpload(a),i(n);const m=n.querySelectorAll(".resizeable");if(m.length&&m.forEach((e=>{resizer.makeResizable(e)})),createColorSwatches(a),["avatar-","icon-","floatingActionButton-"].includes(a.dataset.componentType)){a.querySelectorAll(".alignment-arrow").forEach((e=>e.remove()));const e=a.style.justifyContent||"center";createAlignmentControls(a).setAlignment(e)}a.querySelectorAll("*").forEach((e=>{1!==e.childNodes.length||e.childNodes[0].nodeType!==Node.TEXT_NODE||e.classList.contains("non-editable")||e.setAttribute("contentEditable","true")})),a.dataset.currentVariant=d.toString(),p.textContent=`${d+1}/${s.length}`};c.addEventListener("click",(()=>y(-1))),d.addEventListener("click",(()=>y(1))),n.addEventListener("mouseenter",(()=>{l.style.display="flex",c.style.opacity="1",d.style.opacity="1",p.style.opacity="1",n.querySelectorAll(".color-swatch-container").forEach((e=>{e.style.visibility="visible",e.style.opacity="1"}))})),n.addEventListener("mouseleave",(()=>{l.style.display="none",c.style.opacity="0",d.style.opacity="0",p.style.opacity="0",n.querySelectorAll(".color-swatch-container").forEach((e=>{e.style.visibility="hidden",e.style.opacity="0"}))})),this.setupIconPicker(a),this.setupImageUpload(a),i(n),createColorSwatches(a);const x=n.querySelectorAll(".resizeable");return x.length&&x.forEach((e=>{resizer.makeResizable(e)})),n}setupIconPicker=e=>{e.querySelectorAll(".icon-container i").forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault(),showIconPicker(e)}))}))};setupImageUpload(e){e.querySelectorAll(".card-image, .nav-image").forEach((t=>{t.addEventListener("click",(()=>{const n=document.createElement("input");n.type="file",n.accept="image/*",n.onchange=n=>{const o=n.target.files[0];if(o){const n=new FileReader;n.onload=n=>{t.style.backgroundImage=`url(${n.target.result})`,t.style.position="relative",t.style.backgroundSize="cover",t.style.backgroundPosition="center",t.innerHTML="";const o=e.querySelectorAll(".resizeable");o.length&&o.forEach((e=>{resizer.makeResizable(e)}))},n.readAsDataURL(o)}},n.click()}))}))}duplicateComponent(e,t){const n=e.querySelector(".component-content > *"),o=e.getAttribute("data-component-variant");let a;if(o){const[e,t]=o.split("-");this.components[e]&&(a=this.components[e](n))}else{const[e]=t.split("-");this.components[e]&&(a=this.components[e](n))}if(a){const r=this.wrapComponentInContainer(a,o||t),s=r.querySelector(".component-content > *");this.copyUserModifications(n,s);const i=n.querySelector('div[style*="padding"]');if(i){const e=s.querySelector('div[style*="padding"]');e&&(e.style.cssText=i.style.cssText)}e.parentNode.insertBefore(r,e.nextSibling)}}copyUserModifications(e,t){const n=e.querySelector('div[style*="padding"]'),o=t.querySelector('div[style*="padding"]');n&&o&&(o.style.cssText=n.style.cssText),"true"===e.getAttribute("contentEditable")&&(t.textContent=e.textContent,""===e.textContent.trim()?t.classList.add("empty"):t.classList.remove("empty"));const a=e.querySelectorAll('[contenteditable="true"]'),r=t.querySelectorAll('[contenteditable="true"]');a.forEach(((e,t)=>{r[t]&&(r[t].textContent=e.textContent,""===e.textContent.trim()?r[t].classList.add("empty"):r[t].classList.remove("empty"))}));const s=e.querySelectorAll(".fa-square-check"),i=t.querySelectorAll(".fa-square-check");s.forEach(((e,t)=>{i[t]&&(i[t].style.display=e.style.display)}))}removeComponent(e,t){t.forEach((t=>{const n=t.querySelector(".canvas-content");switch(e){case"navbar":const e=t.querySelector(".navContain");if(e){e.remove();let t=n.querySelector(".navbar-spacer");t&&t.remove(),n.style.paddingTop="32px"}break;case"bottomNav":const o=t.querySelector(".bottomNavContain");o&&o.remove();break;case"modal":const a=t.querySelector(".modal-wrapper");a&&(a.remove(),this.modalAdded=!1);break;case"floatingActionButton":const r=t.querySelector(".fab");r&&(r.remove(),this.fabAdded=!1)}}))}createNewCanvas(){this.state.canvasCount++;const e=document.createElement("div");e.className="canvas-wrapper";const t=`canvas-${this.state.canvasCount}`;e.innerHTML=`\n        <div class="canvas-number-container">\n            <div class="canvas-number">Canvas ${this.state.canvasCount}</div>\n            <button class="delete-canvas-btn">×</button>\n        </div>\n        <div class="canvas" id="${t}">\n            <div class="status-bar">\n                <span class="time">12:00</span>\n                <div class="camera"></div>\n                <div class="icons">\n                    <i class="fa-solid fa-signal"></i>\n                    <i class="fa-solid fa-wifi"></i>\n                    <i style="font-size: 14px;" class="fa-solid fa-battery-full"></i>\n                </div>\n                <div style="width: 100%; height: 28px; background-color: rgba(51, 51, 51, 0.48); z-index: -1; position: absolute; top: 0; left: 0;"></div>\n            </div>\n            <div class="phoneScrollCon">\n                <div class="canvas-content"></div>\n            </div>\n        </div>\n    `;const n=document.querySelector(".add-canvas-btn");n&&n.parentElement?n.parentElement.insertBefore(e,n):document.querySelector(".canvas-container").appendChild(e);const o=e.querySelector(".canvas");o.addEventListener("click",(e=>this.handleCanvasSelection(e)));const a=o.querySelector(".canvas-content");a&&new Sortable(a,{animation:150,handle:".component-handle, .colorBlock-container, .card-image",ghostClass:"sortable-ghost",group:"shared-components",scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0,onEnd:function(e){const t=e=>{e.querySelectorAll(".color-swatch-container").forEach((e=>{e.style.visibility="hidden",e.style.opacity="0"}));const t=e.querySelector(".controls"),n=e.querySelector(".prev-btn"),o=e.querySelector(".next-btn"),a=e.querySelector(".variant-number"),r=e.querySelector(".add-image-button"),s=e.querySelector(".size-control"),i=e.querySelector(".left-arrow"),l=e.querySelector(".right-arrow");[e.querySelector(".resize-handle"),t,r,s,i,l].forEach((e=>{e&&(e.style.display="none")})),[n,o,a].forEach((e=>{e&&(e.style.opacity="0")}))};t(e.from),t(e.to)},onMove:function(e){return!e.related.classList.contains("navbar-spacer")},onStart:function(e){e.item.querySelector(".space-range:active")&&e.preventDefault()}}),this.updateCanvasNumbers()}saveCanvas(e){const t=e.querySelector(".canvas-content"),n=e.querySelector(".canvas-timestamp"),o=Array.from(document.querySelectorAll(".canvas-wrapper")).indexOf(e)+1,a={content:t.innerHTML,timestamp:(new Date).toLocaleString(),hasTopNav:this.topNavbarAdded,hasBottomNav:this.bottomNavbarAdded};localStorage.setItem(`canvas_${o}`,JSON.stringify(a)),n.textContent=`Last saved: ${a.timestamp}`}loadSavedCanvases(){Object.keys(localStorage).filter((e=>e.startsWith("canvas_"))).sort(((e,t)=>parseInt(e.split("_")[1])-parseInt(t.split("_")[1]))).forEach((e=>{const t=JSON.parse(localStorage.getItem(e)),n=parseInt(e.split("_")[1]);if(isNaN(n))return void console.warn("Invalid canvas index for key:",e);for(;document.querySelectorAll(".canvas-wrapper").length<n;)this.createNewCanvas();const o=document.querySelectorAll(".canvas-wrapper")[n-1];if(o){const e=o.querySelector(".canvas-content"),n=o.querySelector(".canvas-timestamp");if(e&&t.content&&(e.innerHTML=t.content,e.querySelectorAll(".delete-btn").forEach((e=>{e.onclick=function(){this.closest(".component-container").remove()}}))),n&&t.timestamp&&(n.textContent=`Last saved: ${t.timestamp}`),t.hasTopNav){this.topNavbarAdded=!0;const e=this.components.navbar();this.insertNavbar(e,"top")}if(t.hasBottomNav){this.bottomNavbarAdded=!0;const e=this.components.bottomNav();this.insertNavbar(e,"bottom")}e&&new Sortable(e,{animation:150,handle:".component-handle, .colorBlock-container, .card-image",ghostClass:"sortable-ghost",group:"shared-components",scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0,onEnd:function(e){const t=e=>{e.querySelectorAll(".color-swatch-container").forEach((e=>{e.style.visibility="hidden",e.style.opacity="0"}));const t=e.querySelector(".controls"),n=e.querySelector(".prev-btn"),o=e.querySelector(".next-btn"),a=e.querySelector(".variant-number"),r=e.querySelector(".add-image-button"),s=e.querySelector(".size-control"),i=e.querySelector(".left-arrow"),l=e.querySelector(".right-arrow");[e.querySelector(".resize-handle"),t,r,s,i,l].forEach((e=>{e&&(e.style.display="none")})),[n,o,a].forEach((e=>{e&&(e.style.opacity="0")}))};t(e.from),t(e.to)},onMove:function(e){return!e.related.classList.contains("navbar-spacer")},onStart:function(e){e.item.querySelector(".space-range:active")&&e.preventDefault()}})}}))}handleCanvasDelete(e){const t=e.target.closest(".canvas-wrapper");if(!t)return;const n=t.querySelector(".canvas");if(confirm("Are you sure you want to delete this canvas?")){if(this.state.selectedCanvases.has(n)){this.state.selectedCanvases.delete(n);const e=t.previousElementSibling.querySelector(".canvas");e&&this.handleSingleSelect(e)}t.remove(),this.updateCanvasNumbers()}}makeTextEditable(e){e.addEventListener("click",(function(){if(e.querySelector("input"))return;const t=this.textContent,n=document.createElement("input");n.value=t,n.style.width="100%",n.style.boxSizing="border-box",n.style.font=window.getComputedStyle(this).font,e.dataset.originalText=t,this.textContent="",this.appendChild(n),n.focus(),n.addEventListener("blur",(function(){const t=this.value||e.dataset.originalText;this.remove(),e.textContent=t})),n.addEventListener("keypress",(function(e){"Enter"===e.key&&this.blur()}))}))}insertNavbar(e,t,n){const o=e.querySelector(".canvas-content");if("top"===n){e.insertBefore(t,e.firstChild);let n=o.querySelector(".navbar-spacer");n||(n=document.createElement("div"),n.className="navbar-spacer",n.style.height="54px",n.style.width="100%",o.insertBefore(n,o.firstChild)),t.style.cssText="position: absolute; left: 0; right: 0; top: 24px;"}else"bottom"===n?(e.appendChild(t),t.style.cssText="position: absolute; left: 0; right: 0; bottom: 0;"):e.appendChild(t)}handleCanvasSelection(e){const t=e.currentTarget;e.shiftKey?this.handleMultiSelect(t):this.handleSingleSelect(t),this.updateCanvasNumbers()}handleMultiSelect(e){this.state.selectedCanvases.has(e)?this.state.selectedCanvases.size>1&&(this.state.selectedCanvases.delete(e),e.classList.remove("selected")):(this.state.selectedCanvases.add(e),e.classList.add("selected"))}handleSingleSelect(e){this.state.selectedCanvases.forEach((e=>{e.classList.remove("selected")})),this.state.selectedCanvases.clear(),this.state.selectedCanvases.add(e),e.classList.add("selected")}updateCanvasNumbers(){document.querySelectorAll(".canvas-number").forEach(((e,t)=>{const n=e.closest(".canvas-wrapper").querySelector(".canvas"),o=this.state.selectedCanvases.has(n);e.textContent=`Canvas ${t+1}${o?" (Selected)":""}`}))}replaceRangeSliders(e){e.querySelectorAll(".custom-range-slider").forEach((e=>{const t=document.createElement("div");t.style.cssText="\n            width: 100%;\n            height: 8px;\n            border-radius: 4px;\n            background: var(--neutral-gray);\n            position: relative;\n            padding: 0 4px;\n        ";const n=document.createElement("div"),o=(e.value-e.min)/(e.max-e.min)*100;n.style.cssText=`\n            position: absolute;\n            left: 4px;\n            top: 28%;\n            height: 40%;\n            width: ${o}%;\n            background: var(--color-primary);\n            border-radius: 4px;\n        `;const a=document.createElement("div");a.style.cssText=`\n            position: absolute;\n            left: calc(${o}% - 10px);\n            top: 50%;\n            transform: translateY(-50%);\n            width: 20px;\n            height: 20px;\n            border-radius: 50%;\n            background: var(--color-primary);\n        `,t.appendChild(n),t.appendChild(a),e.parentNode.replaceChild(t,e)}))}updateButtonState(e){const t=document.getElementById("download-btn");t&&(e?(t.innerHTML='<i class="fas fa-spinner fa-spin"></i> Generating...',t.disabled=!0,t.classList.add("loading")):(t.innerHTML='<i class="fas fa-download"></i> Download PNG',t.disabled=!1,t.classList.remove("loading")))}async captureScreenshot(){this.animationController.disableAnimations(),this.updateButtonState(!0);const e=scale;setZoomScale(1);try{const e=Array.from(this.state.selectedCanvases).map((async(e,t)=>{const n=e.querySelector(".phoneScrollCon");if(!n)return void console.error("Phone scroll container not found");const o=n.scrollTop,a=n.scrollLeft,r=e.cloneNode(!0),s=document.createDocumentFragment(),i=document.createElement("div");i.style.cssText=`\n          position: absolute;\n          top: -9999px;\n          left: -9999px;\n          width: ${e.clientWidth+12}px;\n          height: ${e.clientHeight+12}px;\n          overflow: hidden;\n          padding: 6px;\n        `,i.appendChild(r),s.appendChild(i),document.body.appendChild(s);const l=r.querySelector(".phoneScrollCon");if(l){l.scrollTop=0,l.scrollLeft=0;const e=l.firstElementChild;e&&(e.style.transform=`translate(${-a}px, ${-o}px)`)}Object.assign(r.style,{height:`${e.clientHeight}px`,width:`${e.clientWidth}px`,overflow:"hidden",margin:"0"}),this.replaceRangeSliders(r),await new Promise((e=>requestAnimationFrame(e)));const c=await html2canvas(r,{backgroundColor:null,logging:!1,useCORS:!0,scale:window.devicePixelRatio,width:e.clientWidth+12,height:e.clientHeight+12,scrollX:-6,scrollY:-6,windowWidth:e.clientWidth+12,windowHeight:e.clientHeight+12,imageTimeout:6e4,onclone:e=>new Promise((t=>{requestAnimationFrame((()=>{const n=e.querySelector(r.tagName);if(n){const e=n.querySelector(".phoneScrollCon");if(e){e.scrollTop=0,e.scrollLeft=0;const t=e.firstElementChild;t&&(t.style.transform=`translate(${-a}px, ${-o}px)`)}}t()}))}))});if(document.body.removeChild(i),0===c.width||0===c.height)return void console.error("Rendered canvas has zero dimensions");const d=document.createElement("a"),p=this.state.selectedCanvases.size>1?`Dlightning-mockup-${t+1}.png`:"Dlightning-mockup.png";d.download=p,d.href=c.toDataURL("image/png",1),d.click()}));await Promise.all(e)}catch(e){console.error("Screenshot error:",e)}finally{this.animationController.restoreAnimations(),setZoomScale(e),this.updateButtonState(!1)}}setupDownloadButton(){document.getElementById("download-btn").addEventListener("click",(()=>this.captureScreenshot()))}initOnboarding(){if(window.innerWidth<=768||"ontouchstart"in window||navigator.maxTouchPoints>0)return;const e=document.createElement("div");e.className="onboarding-overlay";const t=document.createElement("div");t.className="onboarding-modal";const n=[{title:'Welcome to the <span style="letter-spacing: .2rem;;">Dlightning <i style="color: var(--color-accent)" class="fas fa-bolt-lightning"></i></span> <br> Screen Builder!',content:"Create beautiful wireframes<br> in minutes",highlight:null},{title:"Add Components",content:"Select an interface element in the menu-bar to add it to&nbsp;the&nbsp;screen.<br>",highlight:".component-btn"},{title:"Versions",content:"Some components have alternate versions. Once added to the canvas, hover the component to cycle through your options.",highlight:null},{title:"3 Menu Tabs",content:"Switch between common interface elements, more complex components, and set the overall theme!",highlight:".sidebar-tabs"},{title:"View Content Full-Height",content:"Toggle the mock screen's height to show all components.<br>Click this before export to download the screen top-to-bottom.",highlight:"#toggleCanvasBtn"},{title:"Add A New Screen",content:"Create multiple screens using the + button. <br> (Hold Shift to select multiple screens at once)",highlight:".add-canvas-btn"},{title:"Export Screens",content:"When you're ready to share your work, export an image. <br><br>",highlight:"#download-btn"},{title:"Choose A Starting Template",content:" ",highlight:null,isTemplateStep:!0}];let o=localStorage.getItem("onboardingComplete")?n.length-1:0;function a(e){if(n[e].isTemplateStep?t.innerHTML=`\n                <h2 style="color: #2c3e50; margin-top: 0;">${n[e].title}</h2>\n                <p style="color: #475152; font-size: 16px;">${n[e].content}</p>\n                <div class="templates" style="display: flex; gap: 16px; margin: 20px 0;">\n                    <button onclick="selectTemplate('template1')">\n                        <h3 style="margin-top: 0;">Profile Template</h3>\n                        <hr>\n                        <p style="color: var(--basic-txt-color)">Image, Avatar, Pills, and Paragraph <br><br></p>\n                    </button>\n                    <button onclick="selectTemplate('template2')">\n                        <h3 style="margin-top: 0;">Content Template</h3>\n                        <hr>\n                        <p style="color: var(--basic-txt-color)">Hero, Heading, Accordion, and Footer</p>\n                    </button>\n                    <button onclick="selectTemplate('template3')">\n                        <h3 style="margin-top: 0;">Form Template</h3>\n                        <hr>\n                        <p style="color: var(--basic-txt-color)">Heading, Form Elements, Submit Button</p>\n                    </button>\n                    <button onclick="selectTemplate('blank')">\n                        <h3 style="margin-top: 0;">Blank Canvas</h3>\n                        <br><br><br><br><br><br><br>\n                    </button>\n                </div>\n                <div class="onboarding-nav" >\n                    <button onclick="prevStep()" style="padding: 10px 14px; background: #ecf0f1; border: none; border-radius: 5px; cursor: pointer; margin-right: 45px;"><i class="fas fa-arrow-left"></i></button>\n                     <button onclick="${e===n.length-1?"completeOnboarding()":"nextStep()"}" style="padding: 10px 20px; background: #3498db; color: white; border: none; border-radius: 5px; cursor: pointer;">\n                            ${e===n.length-1?"Skip":"Next"}\n                        </button>\n                </div>\n            `:t.innerHTML=`\n                <div style="display: flex; gap: 24px;">\n                    <div>\n                    <h2 style="color: #2c3e50; margin-top: 0;">${n[e].title}</h2>\n                    <p style="color: #7f8c8d; font-size: 16px;">${n[e].content}</p>\n                    </div>\n                    ${e>0?"":" \n                    <div>\n                        <img width=\"140px\" src='img/products/BHandH.png'>\n                    </div>"}\n                </div>\n                <div class="onboarding-nav">\n                    ${e>0?'\n                        <button onclick="prevStep()" style="padding: 10px 14px; background: #ecf0f1; border: none; border-radius: 5px; cursor: pointer;"><i class="fas fa-arrow-left"></i></button>\n                    ':'<button onclick="prevStep()" style="padding: 10px 14px; background: var(--neutral-gray); border: none; opacity: 0.46; border-radius: 5px; cursor: not-allowed;" disabled><i class="fas fa-arrow-left"></i></button>'}\n                    <div style="display: flex; align-items: center;">\n                        ${n.map(((t,n)=>`\n                            <div class="onboarding-dot ${n===e?"active":""}" onclick="goToStep(${n})"></div>\n                        `)).join("")}\n                    </div>\n                    <div style="display: flex; gap: 10px;">\n                        <button onclick="completeOnboarding()" style="padding: 10px 20px; background: #95a5a6; color: white; border: none; border-radius: 5px; cursor: pointer;">\n                            Skip Tutorial\n                        </button>\n                        <button onclick="${e===n.length-1?"completeOnboarding()":"nextStep()"}" style="padding: 10px 20px; background: #3498db; color: white; border: none; border-radius: 5px; cursor: pointer;">\n                            ${e===n.length-1?"Get Started":"Next"}\n                        </button>\n                    </div>\n                </div>\n            `,document.querySelectorAll(".highlight-element").forEach((e=>e.remove())),n[e].highlight){const t=document.querySelector(n[e].highlight);t&&(t.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout((()=>{const e=t.getBoundingClientRect(),n=document.createElement("div");n.className="highlight-element",n.style.cssText=`\n                        position: fixed;\n                        top: ${e.top-6}px;\n                        left: ${e.left-6}px;\n                        width: ${e.width+8}px;\n                        height: ${e.height+8}px;\n                        border: 2px solid #3498db;\n                        border-radius: 4px;\n                        pointer-events: none;\n                        z-index: 10000;\n                        animation: pulse .8s 2;\n                    `,document.body.appendChild(n)}),500))}}window.nextStep=function(){o<n.length-1&&(o++,a(o))},window.prevStep=function(){o>0&&(o--,a(o))},window.goToStep=function(e){o=e,a(o)},window.completeOnboarding=function(){localStorage.setItem("onboardingComplete","true"),e.remove(),document.querySelectorAll(".highlight-element").forEach((e=>e.remove()))};const r="This is a paragraph, click to edit it directly. For quick deletion, triple-click to highlight.",s="Hover over any element to reveal options for customization. Use the ⋮ handle on the left to drag elements into a new order or to another screen. The red 'x' on the right deletes components, and the icon at the bottom duplicates them. Each element has unique features to explore!";window.selectTemplate=e=>{const t=document.querySelector(".canvas-content");t.innerHTML="","template1"===e?[{component:this.components.adjustableSpace(),type:"adjustableSpace"},{component:this.components.image(),type:"image"},{component:this.components.avatar(),type:"avatar"},{component:this.components.chipGroup(),type:"chipGroup"},{component:this.components.paragraph(null,r),type:"paragraph"},{component:this.components.paragraph(null,s),type:"paragraph"}].forEach((({component:e,type:n})=>{t.appendChild(this.wrapComponentInContainer(e,n))})):"template2"===e?[{component:this.components.hero(),type:"hero"},{component:this.components.heading("h2"),type:"heading"},{component:this.components.paragraph(null,r),type:"paragraph"},{component:this.components.paragraph(null,s),type:"paragraph"},{component:this.components.icon(),type:"icon"},{component:this.components.accordion(),type:"accordion"},{component:this.components.adjustableSpace(),type:"adjustableSpace"},{component:this.components.footer(),type:"footer"}].forEach((({component:e,type:n})=>{t.appendChild(this.wrapComponentInContainer(e,n))})):"template3"===e&&[{component:this.components.heading("h1"),type:"heading"},{component:this.components.paragraph(null,r),type:"paragraph"},{component:this.components.label(),type:"label"},{component:this.components.input(),type:"input"},{component:this.components.label(),type:"label"},{component:this.components.textarea(),type:"textarea"},{component:this.components.label(),type:"label"},{component:this.components.dropdown(),type:"dropdown"},{component:this.components.label(),type:"label"},{component:this.components.checkbox(),type:"checkbox"},{component:this.components.checkbox(),type:"checkbox"},{component:this.components.checkbox(),type:"checkbox"},{component:this.components.adjustableSpace(),type:"adjustableSpace"},{component:this.components.button(),type:"button"}].forEach((({component:e,type:n})=>{t.appendChild(this.wrapComponentInContainer(e,n))})),localStorage.setItem("onboardingComplete","true"),document.querySelector(".onboarding-overlay").remove();const n=document.querySelector(".sidebar");n&&n.scrollTo({top:0,behavior:"smooth"})},e.appendChild(t),document.body.appendChild(e),setTimeout((()=>{e.classList.add("visible"),a(o)}),100)}components={hero:()=>{const e=document.createElement("div");e.style.cssText="width: 100%; position: relative; margin-top: -10px; margin-bottom: 8px; padding: 40px 10px 2px 10px;";const t=document.createElement("div");t.style.cssText="width: 100%; padding: 0 10px; position: absolute; top: -1; left: 0; right: 0; bottom: 0; background-size: cover; background-position: center; margin-left: -10px;";const n=document.createElement("div");n.style.cssText="position: absolute; width: 100%; padding: 0 10px; top: 0; left: 0; right: 0; bottom: -1; background: linear-gradient(transparent 28%, var(--color-primary) 78%, var(--color-primary) 92%); opacity: 0.94; margin-left: -10px;";const o=document.createElement("div");o.classList.add("resizeable"),o.style.cssText="position: relative; padding: 64px 10px 10px 10px; text-align: center; width: 100%; color: white; margin-left: -10px;";const a=document.createElement("button");a.textContent="Add Image",a.style.cssText="\n        position: absolute; top: 40px; left: 50%; transform: translateX(-50%);\n        padding: 5px 10px; font-size: 14px; background-color: #333; color: white; \n        border: none; cursor: pointer; display: none; z-index: 9991;\n    ",e.appendChild(a);const r=document.createElement("div"),s=document.createElement("h1");s.contentEditable="true",s.textContent="Welcome",s.style.cssText="margin: 0; font-size: 28px; margin-bottom: 10px; color: white !important;",r.appendChild(s);const i=document.createElement("div"),l=document.createElement("p");return l.contentEditable="true",l.textContent="This is a hero section with a beautiful gradient background",l.style.cssText="margin: 0; font-size: 16px;",i.appendChild(l),o.appendChild(r),o.appendChild(i),e.appendChild(t),e.appendChild(n),e.appendChild(o),e.addEventListener("mouseenter",(()=>{a.style.display="block"})),e.addEventListener("mouseleave",(()=>{a.style.display="none"})),a.addEventListener("click",(()=>{const e=document.createElement("input");e.type="file",e.accept="image/*",e.onchange=e=>{const n=e.target.files[0];if(n){const e=new FileReader;e.onload=e=>{t.style.backgroundImage=`url(${e.target.result})`},e.readAsDataURL(n)}},e.click()})),e},button(e){let t;return e?t=e.cloneNode(!0):(t=document.createElement("div"),t.style.cssText="width: 100%; display: flex; justify-content: space-between; gap: 14px;",t.innerHTML=setupVariants("button")[0],t.classList.add("componentButton")),t.querySelectorAll(".button").forEach((e=>{e.setAttribute("contentEditable","true"),e.addEventListener("keypress",(e=>{"Enter"===e.key&&e.preventDefault()})),e.addEventListener("paste",(e=>{e.preventDefault();const t=(e.originalEvent||e).clipboardData.getData("text/plain");document.execCommand("insertText",!1,t)}))})),t},input(e){let t;if(e){t=e.cloneNode(!0);const n=t.querySelector('[contenteditable="true"]');return n&&(n.addEventListener("input",(function(){""===this.textContent.trim()?this.classList.add("empty"):this.classList.remove("empty")})),n.addEventListener("keypress",(e=>{"Enter"===e.key&&e.preventDefault()})),n.addEventListener("paste",(e=>{e.preventDefault();const t=(e.originalEvent||e).clipboardData.getData("text/plain");document.execCommand("insertText",!1,t)}))),t}t=document.createElement("div"),t.style.cssText="width: 100%;",t.innerHTML=setupVariants("input")[0];const n=t.querySelector('[contenteditable="true"]');if(n&&n.addEventListener("input",(function(){""===this.textContent.trim()?this.classList.add("empty"):this.classList.remove("empty")})),!document.querySelector("style[data-input-placeholder]")){const e=document.createElement("style");e.setAttribute("data-input-placeholder","true"),e.textContent="\n        [contenteditable=true].empty:before {\n          content: attr(data-placeholder);\n          color: #999;\n          cursor: text;\n          padding-left: 4px;\n        }\n      ",document.head.appendChild(e)}return t.classList.add("empty"),t.addEventListener("keypress",(e=>{"Enter"===e.key&&e.preventDefault()})),t.addEventListener("paste",(e=>{e.preventDefault();const t=(e.originalEvent||e).clipboardData.getData("text/plain");document.execCommand("insertText",!1,t)})),t},searchBar(e){let t;e&&(t=e.cloneNode(!0)),t=document.createElement("div"),t.style.cssText="width: 100%;",t.innerHTML=setupVariants("searchBar")[0];return t.querySelector('[contenteditable="true"]').addEventListener("input",(function(){""===this.textContent.trim()?this.classList.add("empty"):this.classList.remove("empty")})),t.addEventListener("keypress",(e=>{"Enter"===e.key&&e.preventDefault()})),t},textarea(e){let t;if(e){t=e.cloneNode(!0);const n=t.querySelector('[contenteditable="true"]'),o=t.querySelector(".resize-handle");return n&&o&&this.attachEventListeners(n,o),t}t=document.createElement("div"),t.style.cssText="width: 100%; position: relative;";const n=document.createElement("div");if(n.innerHTML=setupVariants("textarea")[0],!document.querySelector("style[data-textarea-placeholder]")){const e=document.createElement("style");e.setAttribute("data-textarea-placeholder","true"),e.textContent="\n        [contenteditable=true].empty:before {\n          content: attr(data-placeholder);\n          color: #999;\n          cursor: text;\n        }\n      ",document.head.appendChild(e)}return n.querySelector('[contenteditable="true"]').addEventListener("input",(function(){""===this.textContent.trim()?this.classList.add("empty"):this.classList.remove("empty")})),n.addEventListener("paste",(e=>{e.preventDefault();const t=(e.originalEvent||e).clipboardData.getData("text/plain");document.execCommand("insertText",!1,t)})),t.appendChild(n),t},checkbox:()=>{const e=document.createElement("div");e.style.cssText="\n        display: flex; align-items: center;\n        font-size: 16px; color: var(--basic-txt-color); width: 100%;\n        justify-content: flex-start;\n        margin: 4px 0 0 0;\n    ";const t=document.createElement("div");t.className="fa-regular fa-square",t.style.cssText="\n        margin: -2px 10px 0 10px;\n        border-radius: 4px;\n        cursor: pointer;\n        position: relative;\n        font-size: 26px;\n        color: #a0a0a0;\n    ";const n=document.createElement("i");n.className="fa-solid fa-square-check",n.style.cssText="\n        font-size: 26px;\n        color: var(--color-primary);\n        display: none; \n        position: absolute;\n        top: 0px;\n        left: 0px;\n        border: none;\n    ",t.appendChild(n),t.addEventListener("click",(()=>{const e="none"===n.style.display;n.style.display=e?"block":"none"}));const o=document.createElement("span");return o.textContent="click to edit",o.style.cssText="font-size: 16px; color: var(--basic-txt-color)",this.makeTextEditable(o),e.appendChild(t),e.appendChild(o),e},radio:()=>{const e=document.createElement("div");e.style.cssText="display: flex; align-items: center; width: 100%; margin: 4px 0 0 0;";const t=document.createElement("label");t.style.cssText="display: flex; align-items: center; font-size: 16px; color: #333; justify-content: flex-start;";const n=document.createElement("div");n.style.cssText="\n        width: 20px; height: 20px; \n        margin: 0 10px;\n        border: 2px solid #a0a0a0;\n        border-radius: 50%;\n        display: flex; align-items: center; justify-content: center;\n        cursor: pointer;\n    ",n.classList.add("custom-radio");const o=document.createElement("span");o.style.cssText="\n        width: 12px; height: 12px;\n        background-color: var(--color-primary);\n        border-radius: 50%;\n        display: none;\n    ",n.appendChild(o),n.addEventListener("click",(()=>{document.querySelectorAll(".custom-radio").forEach((e=>{e.querySelector("span").style.display="none",e.style.borderColor="#e0e0e0"})),o.style.display="block",n.style.borderColor="var(--color-primary)"}));const a=document.createElement("span");return a.textContent="click to edit",this.makeTextEditable(a),e.appendChild(t),t.appendChild(n),e.appendChild(a),e},dropdown:()=>{const e=document.createElement("div");e.className="custom-dropdown-container";const t=document.createElement("div");t.className="dropdown-header";const n=document.createElement("div");n.className="selected-text",n.textContent="Dropdown";const o=document.createElement("i");o.className="fas fa-chevron-down";const a=document.createElement("div");a.className="options-container";const r=e=>{const t=document.createElement("div");t.className="option-wrapper";const n=document.createElement("div");n.className="option",n.setAttribute("contenteditable","true"),n.textContent=e;const o=document.createElement("button");return o.className="delete-button",o.innerHTML='<i class="fas fa-times"></i>',o.addEventListener("click",(e=>{e.stopPropagation(),t.remove()})),t.appendChild(n),t.appendChild(o),t},s=document.createElement("div");s.className="add-option-wrapper";const i=document.createElement("button");i.className="add-button",i.innerHTML='<i class="fas fa-plus"></i> Add Option',s.appendChild(i),["Option 1","Option 2"].forEach((e=>{a.appendChild(r(e))})),t.appendChild(n),t.appendChild(o),e.appendChild(t),e.appendChild(a),a.appendChild(s);const l=document.createElement("style");return l.textContent="\n      .custom-dropdown-container {\n        position: relative;\n        width: 100%;\n        font-size: 16px;\n        color: var(--basic-txt-color);\n      }\n      \n      .dropdown-header {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        height: 42px;\n        padding: 0 12px;\n        background-color: var(--input-bg-color);\n        border-bottom: 2px solid var(--color-primary);\n        cursor: pointer;\n      }\n      \n      .selected-text {\n        flex-grow: 1;\n      }\n      \n      .options-container {\n        display: none;\n        position: absolute;\n        top: 100%;\n        left: 0;\n        right: 0;\n        background: var(--color-background);\n        border: 1px solid var(--neutral-gray);\n        border-top: none;\n        max-height: 300px;\n        overflow-y: auto;\n        z-index: 900;\n        opacity: 0.94;\n      }\n      \n      .options-container.active {\n        display: block;\n      }\n      \n      .option-wrapper {\n        display: flex;\n        align-items: center;\n        padding: 8px 12px;\n        position: relative;\n      }\n      \n      .option-wrapper:hover {\n        background-color: var(--color-primary);\n      }\n      \n      .option {\n        flex-grow: 1;\n        padding: 4px;\n        min-height: 20px;\n      }\n      \n      .option:focus {\n        outline: none;\n        background-color: #fff;\n        box-shadow: 0 0 0 2px var(--color-primary);\n        border-radius: 4px;\n      }\n      \n      .delete-button {\n        display: none;\n        background: none;\n        border: none;\n        color: #ff4444;\n        cursor: pointer;\n        padding: 4px 8px;\n        margin-left: 8px;\n      }\n      \n      .option-wrapper:hover .delete-button {\n        display: block;\n      }\n      \n      .add-option-wrapper {\n        padding: 8px 12px;\n        border-top: 1px solid #ddd;\n        display: none; /* Hide by default */\n        }\n\n        .options-container:hover .add-option-wrapper {\n        display: block; /* Show on hover over options container */\n        }\n      \n      .add-button {\n        width: 100%;\n        padding: 8px;\n        background: none;\n        border: 0.12rem dashed #ddd;\n        color: #666;\n        cursor: pointer;\n        border-radius: 4px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        gap: 8px;\n      }\n      \n      .add-button:hover {\n        border-color: var(--color-primary);\n        color: var(--color-primary);\n      }\n      \n      .add-button i {\n        font-size: 12px;\n      }\n    ",document.head.appendChild(l),t.addEventListener("click",(()=>{a.classList.toggle("active"),o.classList.toggle("fa-chevron-up"),o.classList.toggle("fa-chevron-down")})),i.addEventListener("click",(()=>{const e=r("New Option");a.insertBefore(e,s),e.querySelector(".option").focus()})),a.addEventListener("click",(e=>{const t=e.target.closest(".option");t&&(n.textContent=t.textContent)})),e},icon(e){let t;if(e)t=e.cloneNode(!0);else{t=document.createElement("div"),t.style.cssText="width: 100%; text-align: center; padding: 10px; position: relative;";const e=document.createElement("i");e.className="fa-solid fa-bolt-lightning",e.style.cssText="font-size: 24px; color: var(--color-accent); cursor: pointer;",t.appendChild(e)}const n=t.querySelector("i")||t.firstChild,o=document.createElement("input");o.type="number",o.min="12",o.max="96",o.value="24",o.style.cssText="\n        position: absolute;\n        top: -16px;\n        left: 50%;\n        transform: translateX(-50%);\n        width: 60px;\n        padding: 3px 0;\n        border: 1px solid #ddd;\n        border-radius: 2px;\n        display: none;\n        font-size: 12px;\n        text-align: center;\n        z-index: 2445;\n    ",t.appendChild(o);const a=document.createElement("i");a.className="fas fa-arrow-left",a.style.cssText="\n        position: absolute;\n        left: 62px;\n        top: 50%;\n        transform: translateY(-50%);\n        cursor: pointer;\n        color: var(--interface-color);\n        display: none;\n        font-size: 16px;\n    ",t.appendChild(a);const r=document.createElement("i");return r.className="fas fa-arrow-right",r.style.cssText="\n        position: absolute;\n        right: 62px;\n        top: 50%;\n        transform: translateY(-50%);\n        cursor: pointer;\n        color: var(--interface-color);\n        display: none;\n        font-size: 16px;\n    ",t.appendChild(r),a.addEventListener("click",(e=>{e.stopPropagation(),"center"!==t.style.textAlign&&t.style.textAlign?"right"===t.style.textAlign&&(t.style.textAlign="center",a.style.display="block",r.style.display="block"):(t.style.textAlign="left",a.style.display="none",r.style.display="block")})),r.addEventListener("click",(e=>{e.stopPropagation(),"center"!==t.style.textAlign&&t.style.textAlign?"left"===t.style.textAlign&&(t.style.textAlign="center",a.style.display="block",r.style.display="block"):(t.style.textAlign="right",r.style.display="none",a.style.display="block")})),t.addEventListener("mouseenter",(()=>{o.style.display="block","center"!==t.style.textAlign&&t.style.textAlign?"left"===t.style.textAlign?r.style.display="block":"right"===t.style.textAlign&&(a.style.display="block"):(a.style.display="block",r.style.display="block")})),t.addEventListener("mouseleave",(()=>{o.style.display="none",a.style.display="none",r.style.display="none"})),o.addEventListener("input",(e=>{n.style.fontSize=`${e.target.value}px`})),n.addEventListener("click",(e=>{e.preventDefault(),showIconPicker(n)})),t},card(e){let t;return e?t=e.cloneNode(!0):(t=document.createElement("div"),t.innerHTML=setupVariants("card")[0],t.classList.add("componentCard"),t.style.cssText="\n            width: 100%;\n            border-radius: var(--standard-radius);\n            padding: 0;\n            border-bottom: 3px solid rgba(0,0,0,.12);\n        "),t.querySelectorAll("h3, p").forEach((e=>{e.setAttribute("contentEditable","true")})),t},card2(e){let t;return e?t=e.cloneNode(!0):(t=document.createElement("div"),t.innerHTML=setupVariants("card2")[0],t.classList.add("componentCard"),t.style.cssText="\n            width: 100%;\n            border-radius: var(--standard-radius);\n            padding: 0;\n            border-bottom: 3px solid rgba(0,0,0,.12);\n        "),t.querySelectorAll("h3, p").forEach((e=>{e.setAttribute("contentEditable","true")})),t},adjustableSpace:e=>{let t,n,o;return e?(t=e.cloneNode(!0),n=t.querySelector(".space-range"),o=t.querySelector(".height-display")):(t=document.createElement("div"),t.classList="blankSpace",t.style.height="50px",o=document.createElement("input"),o.type="number",o.classList="height-display",o.value="50",o.style.fontSize="16px",t.appendChild(o),n=document.createElement("input"),n.className="space-range",n.type="range",n.min="12",n.max="300",n.value="50",n.style.width="100%",t.appendChild(n)),n.addEventListener("input",(()=>{const e=n.value;t.style.height=`${e}px`,o.value=`${e}`})),o.addEventListener("change",(()=>{const e=o.value;console.log(e),t.style.height=`${e}px`,n.value=`${e}`})),{container:t,setup:()=>{const e=t.closest(".component-container");e&&(e.addEventListener("mouseenter",(()=>{})),e.addEventListener("mouseleave",(()=>{t.style.outline="none"})))}}},image(e){const t=document.createElement("div");return t.classList.add("non-editable"),t.style.cssText="\n        width: 100%; \n        display: flex; \n        gap: 8px;\n        ",t.innerHTML=setupVariants("image")[0],t},imgGallery(e){const t=document.createElement("div");t.style.cssText="width: 100%; position: relative;";const n=document.createElement("div");n.style.cssText=" \n            display: flex;\n            gap: 8px;\n            overflow-x: visible; \n            flex-wrap: nowrap; \n            min-width: 120px; \n            height: auto;\n            padding-bottom: 4px;\n    ";const o=document.createElement("div"),a=document.createElement("div");o.style.cssText="\n            flex: 1;\n            display: flex;\n            flex-direction: column;\n            gap: 8px;\n        ",a.style.cssText="\n            flex: 1;\n            display: flex;\n            flex-direction: column;\n            gap: 8px;\n        ";const r=()=>{const e=document.createElement("div");e.style.cssText="\n            display: flex; \n            flex-direction: column; \n            gap: 6px;\n            min-width: 46%;\n        ";const t=document.createElement("div");t.classList="resizeable card-image",t.style.cssText="\n            width: 100%;\n            height: 140px !important;\n            background-color: var(--neutral-gray); \n            display: flex; \n            justify-content: center; \n            align-items: center; \n            cursor: pointer; \n            border-radius: var(--standard-radius); \n            overflow: hidden;\n            position: relative;\n        ",t.innerHTML='<span class="imgMsg non-editable">Click to add image</span>';const o=document.createElement("figcaption");o.textContent="Image caption",o.contentEditable="true",o.style.cssText="text-align: right; color: #666; font-style: italic; font-size: 12px; padding-right: 4px; margin: 0 4px; display: none;";const a=document.createElement("div");a.style.cssText="\n            position: absolute;\n            leftt: 14px;\n            bottom: 4px;\n            width: 26px;\n            height: 26px;\n            cursor: pointer;\n            display: none;\n            align-items: center;\n            justify-content: center;\n            z-index: 20;\n            background: rgba(51, 51, 51, 0.7);\n            border-radius: 4px;\n            color: white;\n            font-size: 14px;\n        ",a.innerHTML="+ caption";let r=!1;return a.addEventListener("click",(e=>{e.stopPropagation(),r=!r,o.style.display=r?"block":"none",a.style.background=r?"rgba(51, 51, 51, 0.9)":"rgba(51, 51, 51, 0.7)"})),t.addEventListener("mouseover",(()=>{t.style.backgroundImage&&(a.style.display="flex")})),t.addEventListener("mouseout",(()=>{isResizing||(a.style.display="none")})),o.addEventListener("input",(()=>{o.setAttribute("data-updated","true")})),n.addEventListener("mouseout",(()=>{"true"===o.getAttribute("data-updated")?o.style.display="block":o.style.display="none"})),t.addEventListener("click",(e=>{const n=document.createElement("input");n.type="file",n.accept="image/*",n.onchange=e=>{const n=e.target.files[0];if(n){const e=new FileReader;e.onload=e=>{t.style.backgroundImage=`url(${e.target.result})`,t.style.backgroundSize="cover",t.style.backgroundPosition="center";const n=t.querySelector(".imgMsg");n&&n.remove()},e.readAsDataURL(n)}},n.click()})),e.appendChild(t),e};o.appendChild(r()),a.appendChild(r()),o.appendChild(r()),n.appendChild(o),n.appendChild(a),t.appendChild(n);const s=(()=>{const e=document.createElement("button");return e.classList="fa fa-plus",e.style.cssText="\n            background-color: var(--interface-color); \n            color: white; \n            border: 1px solid var(neutral-gray); \n            border-radius: 64px; \n            padding: 8px; \n            cursor: pointer;\n            display: none;\n            position: absolute;\n            bottom: 28px;\n            left: 50%;\n            transform: translatex(-50%);\n            }\n        ",e.addEventListener("click",(()=>{const t=r();o.children.length<=a.children.length?o.appendChild(t):a.appendChild(t),e.style.display="none"})),e})();return t.appendChild(s),t.addEventListener("mouseover",(()=>{s.style.display="block"})),t.addEventListener("mouseout",(()=>{s.style.display="none"})),t},navbar:()=>{const e=document.createElement("div");e.className="navContain",e.style.cssText="position: relative;";const t=document.createElement("div");t.style.cssText="background-color: rgba(0,0,0,0.12); width: 100%; height: 59px; position: absolute; top:0; left: 0; z-index: 1";const n=document.createElement("div");n.className="navbar top-navbar";const o=document.createElement("button");o.innerHTML='<i class="fas fa-circle-left"></i>',o.className="nav-control prev-nav",o.style.cssText="\n                position: absolute;\n                left: 40%;\n                top: -6px;\n                transform: translateY(-50%);\n                background: var(--basic-txt-color);\n                border-radius: 99px;\n                padding: 1px;\n                border: none;\n                font-size: 24px;\n                color: var(--input-bg-color);\n                cursor: pointer;\n                opacity: 0;\n                transition: opacity 0.3s ease, color 0.3s ease;\n                z-index: 9910;\n            ";const a=document.createElement("button");a.innerHTML='<i class="fas fa-circle-right"></i>',a.className="nav-control next-nav",a.style.cssText="\n                position: absolute;\n                right: 40%;\n                top: -6px;\n                transform: translateY(-50%);\n                background: var(--basic-txt-color);\n                border-radius: 99px;\n                padding: 1px;\n                border: none;\n                font-size: 24px;\n                color: var(--input-bg-color);\n                cursor: pointer;\n                opacity: 0;\n                transition: opacity 0.3s ease, color 0.3s ease;\n                z-index: 9910;\n            ",e.addEventListener("mouseenter",(()=>{o.style.opacity="1",a.style.opacity="1"})),e.addEventListener("mouseleave",(()=>{o.style.opacity="0",a.style.opacity="0"}));let r=0;const s={content:['<span spellcheck="false" style="font-size: 20px; font-weight: bold; color: var(--color-primary);">Brand</span>\n                    <div style="display: flex; align-items: center;">\n                        <a href="#" style="margin-left: 20px; color: var(--basic-txt-color); text-decoration: none;">Home</a>\n                        <a href="#" style="margin-left: 20px; color: var(--basic-txt-color); text-decoration: none;">About</a>\n                        <a href="#" style="margin-left: 20px; color: var(--basic-txt-color); text-decoration: none;">Contact</a>\n                        <div class="icon-container" style="margin-left: 20px;">\n                            <i class="fas fa-bars" style="font-size: 20px; color: var(--color-primary); cursor: pointer;"></i>\n                        </div>\n                    </div>','<div style="flex: 1; background-color: var(--color-background);"></div>\n                    <div style="width: 40px; height: 40px; background-color: var(--neutral-gray); border-radius: 50%; display: flex; justify-content: center; align-items: center; cursor: pointer;" class="nav-image">\n                        <span class="non-editable">IMG</span>\n                    </div>\n                    <div style="flex: 1; display: flex; justify-content: flex-end;" class="icon-container">\n                        <i class="fas fa-bars" style="font-size: 24px; color: var(--color-primary); cursor: pointer;"></i>\n                    </div>','<div class="icon-container">\n                        <i class="fas fa-arrow-left" style="font-size: 20px; color: var(basic-txt-color); margin-right: 15px; cursor: pointer;"></i>\n                    </div>\n                    <div style="width: 100%; display: flex; justify-content: center;">\n                        <span spellcheck="false" style="font-size: 24px; font-weight: bold; color: var(--basic-txt-color);">Brand</span>\n                    </div>\n                    <div class="icon-container">\n                        <i class="fas fa-bars" style="font-size: 20px; color: var(basic-txt-color); margin-right: 15px; cursor: pointer;"></i>\n                    </div>','<div style="display: flex; align-items: center; width: 100%; padding: 0 10px;">\n                        <div class="icon-container">\n                            <i class="fas fa-arrow-left" style="font-size: 20px; color: var(--color-primary); margin-right: 15px; cursor: pointer;"></i>\n                        </div>\n                        <div style="width: 40px; height: 40px; background-color: var(--color-transparent-blk); border-radius: 50%; margin-right: 15px; display: flex; justify-content: center; align-items: center; cursor: pointer;" class="nav-image">\n                            <span class="non-editable">IMG</span>\n                        </div>\n                        <div style="flex: 1;">\n                            <span style="display: block; font-weight: bold; color: var(--color-primary);">Username</span>\n                            <span class="status" style="font-size: 14px; color: #27ae60; cursor: pointer;">Online</span>\n                        </div>\n                        <div style="display: flex; gap: 20px;">\n                            <div class="icon-container">\n                                <i class="fas fa-phone" style="font-size: 20px; color: var(--color-primary); cursor: pointer;"></i>\n                            </div>\n                            <div class="icon-container">\n                                <i class="fas fa-ellipsis-vertical" style="font-size: 20px; color: var(--color-primary); cursor: pointer;"></i>\n                            </div>\n                        </div>\n                    </div>'],cached:[]};s.cached=[...s.content],n.innerHTML=s.cached[r];const i=document.createElement("div");i.style.cssText="position: absolute; bottom: -24px; left: 50%; transform: translateX(-50%); display: flex; gap: 8px;",i.appendChild(o),i.appendChild(a);const l=()=>{(()=>{const e=n.querySelector(".nav-image");e&&e.addEventListener("click",(()=>{const t=document.createElement("input");t.type="file",t.accept="image/*",t.onchange=t=>{const o=t.target.files[0];if(o){const t=new FileReader;t.onload=t=>{e.style.backgroundImage=`url(${t.target.result})`,e.style.backgroundSize="cover",e.style.backgroundPosition="center",e.innerHTML="",s.cached[r]=n.innerHTML},t.readAsDataURL(o)}},t.click()}))})(),n.querySelectorAll(".icon-container i").forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault(),showIconPicker(e)}))})),n.querySelectorAll("span:not(.non-editable), a").forEach((e=>{e.contentEditable=!0}))};l();return new MutationObserver((()=>{s.cached[r]=n.innerHTML})).observe(n,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),o.addEventListener("click",(()=>{r=(r-1+s.cached.length)%s.cached.length,n.innerHTML=s.cached[r],n.style.backgroundColor=2===r?"var(--color-primary)":"var(--color-background)",l()})),a.addEventListener("click",(()=>{r=(r+1)%s.cached.length,n.innerHTML=s.cached[r],n.style.backgroundColor=2===r?"var(--color-primary)":"var(--color-background)",l()})),e.appendChild(n),e.appendChild(t),e.appendChild(o),e.appendChild(a),e},modal:()=>{const e=document.createElement("div");e.className="modal-wrapper",e.style.cssText="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background-color: rgba(0,0,0,0.6); display: flex; justify-content: center; align-items: center; z-index: 991; height: 100%";const t=document.createElement("div");return t.className="modal",t.innerHTML='\n                <h2 style="margin-top: 0; color: #2c3e50;">Modal Title</h2>\n                <p style="color: #7f8c8d;">This is the modal content. You can add any information here.</p>\n                <div style="text-align: right;">\n                    <button id="modal-ok-btn" style="padding: 10px 20px; background-color: var(--color-primary); color: white; border: none; border-radius: 5px; cursor: pointer;">OK</button>\n                </div>\n            ',t.querySelectorAll("h2, p").forEach((e=>this.makeTextEditable(e))),e.appendChild(t),t.querySelector("#modal-ok-btn").addEventListener("click",(()=>{e.remove(),this.modalAdded=!1})),e},toggleSwitch:()=>{const e=document.createElement("div");e.style.cssText="display: flex; align-items: center; min-width: 120px; width: 100%; padding: 0 10px;";const t=document.createElement("span");t.textContent="Off",t.style.cssText="margin-right: 10px; cursor: pointer;",this.makeTextEditable(t);const n=document.createElement("div");n.style.cssText="position: relative; display: inline-block; min-width: 60px; height: 34px;";const o=document.createElement("div");o.className="slider round",o.style.cssText="\n                position: absolute;\n                cursor: pointer;\n                top: 0;\n                left: 0;\n                right: 0;\n                bottom: 0;\n                background-color: var(--neutral-gray);\n                transition: .4s;\n                border-radius: 34px;\n            ";const a=document.createElement("div");a.style.cssText='\n                position: absolute;\n                content: "";\n                height: 26px;\n                width: 26px;\n                left: 4px;\n                bottom: 4px;\n                background-color: white;\n                transition: .4s;\n                border-radius: 50%;\n            ';const r=document.createElement("span");r.textContent="On",r.style.cssText="margin-left: 10px; cursor: pointer;",this.makeTextEditable(r);let s=!1;const i=()=>{s=!s,s?(o.style.backgroundColor="var(--color-primary)",a.style.left="30px"):(o.style.backgroundColor="var(--neutral-gray)",a.style.left="4px")};return o.appendChild(a),n.appendChild(o),n.addEventListener("click",i),t.addEventListener("click",(()=>{s=!0,i()})),r.addEventListener("click",(()=>{s=!1,i()})),e.appendChild(t),e.appendChild(n),e.appendChild(r),e},progressBar:()=>{const e=document.createElement("div");e.style.cssText="width: 100%; text-align: center;";const t=document.createElement("div");t.style.cssText="width: 100%; height: 10px; background-color: #e0e0e0; border-radius: 5px; overflow: hidden;",t.className="progress-bar";const n=document.createElement("div");n.style.cssText="width: 76%; height: 100%; background-color: var(--color-primary); transition: width 0.3s ease;";const o=document.createElement("div");return o.textContent="76%",o.style.cssText="margin-top: 5px; font-weight: bold; color: var(--basic-txt-color);",t.appendChild(n),e.appendChild(t),e.appendChild(o),e},avatar(e){const t=document.createElement("div");t.style.width="100%",t.innerHTML=e?e.outerHTML:setupVariants("avatar")[0];let n=t.querySelector(".component-content");if(!n){for(n=document.createElement("div"),n.className="component-content";t.firstChild;)n.appendChild(t.firstChild);t.appendChild(n)}const o=createAlignmentControls(n);return n.alignmentControls=o,t},tabs(){const e=document.createElement("div");e.style.cssText="position: relative; width: 100%;";const t=document.createElement("div");t.style.cssText="display: flex; width: 100%;";const n=document.createElement("div");n.style.cssText="\n      position: absolute;\n      top: -22px;\n      right: 20;\n      display: none;\n      gap: 6px;\n      padding: 5px;\n      z-index: 448;\n    ";const o=document.createElement("button");o.textContent="+",o.style.cssText="\n      background-color: var(--interface-color);\n      color: white;\n      border: none;\n      width: 24px;\n      height: 24px;\n      cursor: pointer;\n      border-radius: 4px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    ";const a=document.createElement("button");a.textContent="-",a.style.cssText="\n      background-color: var(--interface-color);\n      color: white;\n      border: none;\n      width: 24px;\n      height: 24px;\n      cursor: pointer;\n      border-radius: 4px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    ";const r=e=>{Array.from(t.children).forEach((e=>{e.style.backgroundColor="var(--neutral-gray)",e.style.color="var(--basic-txt-color)"})),e.style.backgroundColor="var(--color-primary)",e.style.color="white"},s=e=>{const t=document.createElement("button");return t.textContent=`Tab ${e}`,t.setAttribute("contentEditable","true"),t.style.cssText=`\n        background-color: ${1===e?"var(--color-primary)":"var(--neutral-gray)"};\n        color: ${1===e?"white":"black"};\n        border: none;\n        margin-right: 1px;\n        padding: 10px 20px;\n        cursor: pointer;\n        flex: 1;\n      `,t.addEventListener("click",(e=>{r(t)})),t};for(let e=1;e<=3;e++)t.appendChild(s(e));return o.addEventListener("click",(()=>{if(t.children.length<5){const e=t.children.length+1,n=s(e);t.appendChild(n),r(n)}})),a.addEventListener("click",(()=>{t.children.length>1&&t.removeChild(t.lastChild)})),n.appendChild(a),n.appendChild(o),e.addEventListener("mouseenter",(()=>{n.style.display="flex"})),e.addEventListener("mouseleave",(()=>{n.style.display="none"})),e.appendChild(t),e.appendChild(n),e},accordion:()=>{const e=document.createElement("div");e.style.cssText="width: 100%; border-radius: 8px; overflow: hidden; border: .12rem solid var(--color-primary)",e.innerHTML='\n        <button class="accordion-header" style="\n            background-color: var(--color-primary);\n            color: white;\n            cursor: pointer;\n            padding: 12px;\n            width: 100%;\n            border: none;\n            text-align: left;\n            outline: none;\n            transition: 0.4s;\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            font-weight: 500;\n            font-size: 16px;">\n            <span contenteditable>Section Title</span>\n            <i class="fas fa-chevron-down" style="transition: transform 0.3s ease;"></i>\n        </button>\n        <div class="accordion-content" style="\n            padding: 0 18px;\n            height: 0;\n            overflow: hidden;\n            transition: height 0.3s ease-out;\n            background-color: var(--input-bg-color);">\n            <div class="placeholder" style="padding: 18px 0;">\n                <div>\n                <p contenteditable style="margin: 0; color: #666;">Content for section can be added here.</p>\n                </div>\n        </div>\n        </div>\n    ';const t=e.querySelector(".accordion-content");new MutationObserver((()=>{"0px"!==t.style.height&&""!==t.style.height&&(t.style.height=t.scrollHeight+"px");const e=t.querySelector(".component-container"),n=t.querySelector(".placeholder");e&&n?n.remove():e||n||(t.innerHTML='\n       <div class="placeholder" style="padding: 18px 0;">\n           <div>\n               <p contenteditable style="margin: 0; color: #666;">Content for section can be added here.</p>\n           </div>\n       </div>\n    ')})).observe(t,{childList:!0,subtree:!0,attributes:!0}),t.addEventListener("mouseover",(e=>{e.target.closest('[data-component-variant^="accordion-"]');const n=e.target.closest(".component-container");t.querySelectorAll(".component-container").forEach((e=>{e.classList.add("controls-hidden")})),n&&n.classList.remove("controls-hidden")})),t.addEventListener("mouseleave",(()=>{t.querySelectorAll(".component-container").forEach((e=>{e.classList.add("controls-hidden")}))}));const n=document.createElement("style");n.textContent='\n        [data-component-variant="accordion-"] {\n            outline: none !important;\n        }\n\n        .controls-hidden > .component-handle,\n        .controls-hidden > .delete-btn,\n        .controls-hidden > .duplicate-btn,\n        .controls-hidden > .color-swatch-container {\n            visibility: hidden !important;\n            opacity: 0 !important;\n        }\n\n        .controls-hidden {\n            outline: none !important;\n        }\n    ',document.head.appendChild(n);const o=e.querySelector(".accordion-header"),a=e.querySelector(".fa-chevron-down");return o.addEventListener("click",(()=>{"0px"!==t.style.height&&""!==t.style.height?(t.style.height="0",a.style.transform="rotate(0)"):(t.style.height=t.scrollHeight+"px",a.style.transform="rotate(180deg)")})),new Sortable(t,{animation:150,handle:".component-handle, .colorBlock-container, .card-image",ghostClass:"sortable-ghost",group:"shared-components",scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0,onEnd:function(e){const t=e=>{e.querySelectorAll(".color-swatch-container").forEach((e=>{e.style.visibility="hidden",e.style.opacity="0"}));const t=e.querySelector(".controls"),n=e.querySelector(".prev-btn"),o=e.querySelector(".next-btn"),a=e.querySelector(".variant-number"),r=e.querySelector(".add-image-button"),s=e.querySelector(".size-control"),i=e.querySelector(".left-arrow"),l=e.querySelector(".right-arrow");[e.querySelector(".resize-handle"),t,r,s,i,l].forEach((e=>{e&&(e.style.display="none")})),[t,n,o,a].forEach((e=>{e&&(e.style.opacity="0")}))};t(e.from),t(e.to),e.item.classList.remove("controls-hidden")},onMove:function(e){return!e.related.classList.contains("navbar-spacer")},onStart:function(e){e.item.querySelector(".space-range:active")&&e.preventDefault()}}),e},alert:()=>{const e=document.createElement("div");return e.style.cssText="width: 100%",e.innerHTML=setupVariants("alert")[0],e.querySelectorAll("span").forEach((e=>{e.setAttribute("contentEditable","true")})),e},slider:()=>{const e=document.createElement("div");e.style.cssText="width: 100%; padding: 10px 0; display: flex; align-items: center;";const t=document.createElement("input");t.type="range",t.min="0",t.max="100",t.value="50",t.className="custom-range-slider",t.style.flex="1";const n=document.createElement("span");return n.style.cssText="margin: 0 6px 0 4px; font-weight: bold; min-width: 30px; text-align: right;",n.textContent="50",e.appendChild(t),e.appendChild(n),t.addEventListener("input",(()=>{n.textContent=t.value})),e},datePicker:()=>{const e=document.createElement("div");e.style.cssText="\n                width: 100%;\n                padding: 10px 18px 10px 10px;\n                border: 1px solid var(--color-primary);\n                border-radius: 5px;\n                display: flex;\n                justify-content: space-between;\n                align-items: center;\n                font-family: Arial, sans-serif;\n                font-size: 14px;\n                color: var(--basic-txt-color);\n                background-color: var(--input-bg-color);\n                position: relative;\n            ";const t=document.createElement("span");t.textContent="DD/MM/YYYY",t.style.cssText="opacity: 0.7;",t.setAttribute("contenteditable","true"),t.setAttribute("spellcheck","false"),t.addEventListener("input",(()=>{t.style.opacity="1"}));const n=document.createElement("i");n.className="fas fa-calendar-alt",n.style.cssText="\n                color: var(--color-primary);\n                font-size: 18px;\n                cursor: pointer;\n            ";const o=document.createElement("div");o.style.cssText="\n                position: absolute;\n                top: 101%;\n                right: 0;\n                width: 200px;\n                padding: 10px;\n                border: 1px solid #ddd;\n                border-radius: 5px;\n                background-color: var(--input-bg-color);\n                display: none; /* Initially hidden */\n                box-shadow: 0 2px 8px rgba(0,0,0,0.15);\n                z-index: 9;\n            ";const a=document.createElement("div");a.textContent="January",a.setAttribute("contenteditable","true"),a.style.cssText="\n                text-align: center;\n                font-weight: bold;\n                margin-bottom: 6px;\n            ";const r=document.createElement("div");r.textContent="2025",r.setAttribute("contenteditable","true"),r.style.cssText="\n                text-align: center;\n                font-weight: bold;\n                margin-bottom: 8px;\n            ";const s=document.createElement("div");s.style.cssText="\n                display: grid;\n                grid-template-columns: repeat(7, 1fr);\n                gap: 4px;\n                text-align: center;\n                font-size: 12px;\n            ";for(let e=1;e<=31;e++){const n=document.createElement("span");n.textContent=e,n.style.cssText="\n            padding: 5px;\n            border-radius: 3px;\n            cursor: pointer;\n            background-color: var(--neutral-gray);\n        ",n.addEventListener("click",(()=>{t.textContent=`${a.textContent} ${e}, ${r.textContent}`,o.style.display="none",t.style.opacity="1"})),s.appendChild(n)}return o.appendChild(a),o.appendChild(r),o.appendChild(s),n.addEventListener("click",(()=>{o.style.display="none"===o.style.display?"block":"none"})),e.appendChild(t),e.appendChild(n),e.appendChild(o),e},fileUpload:()=>{const e=document.createElement("div");e.style.cssText="width: 100%; position: relative;";const t=document.createElement("input");t.type="file",t.id="file-upload",t.style.cssText="width: 100%; height: 100%; opacity: 0; position: absolute; cursor: pointer;";const n=document.createElement("label");return n.htmlFor="file-upload",n.className="file-upload-label",n.innerHTML='<i class="fas fa-cloud-upload-alt"></i> Choose a file',e.appendChild(t),e.appendChild(n),e},bottomNav:()=>{const e=document.createElement("nav");e.className="bottomNavContain max-items";const t=document.createElement("div");t.style.cssText="background-color: rgba(0,0,0,0.12); width: 100%; height: 3px; position: absolute; top:-3px; left: 0;";const n=document.createElement("div");n.className="bottomNav bottom-navbar",n.innerHTML='\n                <div class="nav-item-container">\n                    <button class="nav-delete-btn">×</button>\n                    <a href="#" style="text-align: center; color: var(--color-primary); text-decoration: none; display: flex; flex-direction: column; align-items: center;">\n                        <i class="fas fa-home" style="font-size: 20px; margin-bottom: 4px;"></i>\n                        <span style="font-size: 12px;">Home</span>\n                    </a>\n                </div>\n                <div class="nav-item-container">\n                    <button class="nav-delete-btn">×</button>\n                    <a href="#" style="text-align: center; color: var(--color-primary); text-decoration: none; display: flex; flex-direction: column; align-items: center;">\n                        <i class="fas fa-search" style="font-size: 20px; margin-bottom: 4px;"></i>\n                        <span style="font-size: 12px;">Search</span>\n                    </a>\n                </div>\n                <div class="nav-item-container">\n                    <button class="nav-delete-btn">×</button>\n                    <a href="#" style="text-align: center; color: var(--color-primary); text-decoration: none; display: flex; flex-direction: column; align-items: center;">\n                        <i class="fas fa-plus" style="font-size: 20px; margin-bottom: 4px;"></i>\n                        <span style="font-size: 12px;">Add</span>\n                    </a>\n                </div>\n                <div class="nav-item-container">\n                    <button class="nav-delete-btn">×</button>\n                    <a href="#" style="text-align: center; color: var(--color-primary); text-decoration: none; display: flex; flex-direction: column; align-items: center;">\n                        <i class="fas fa-heart" style="font-size: 20px; margin-bottom: 4px;"></i>\n                        <span style="font-size: 12px;">Like</span>\n                    </a>\n                </div>\n                <div class="nav-item-container">\n                    <button class="nav-delete-btn">×</button>\n                    <a href="#" style="text-align: center; color: var(--color-primary); text-decoration: none; display: flex; flex-direction: column; align-items: center;">\n                        <i class="fas fa-user" style="font-size: 20px; margin-bottom: 4px;"></i>\n                        <span style="font-size: 12px;">Profile</span>\n                    </a>\n                </div>\n                <button class="nav-add-btn"><i class="fas fa-plus"></i></button>\n            ',n.querySelectorAll(".nav-delete-btn").forEach((t=>{t.addEventListener("click",(function(){n.querySelectorAll(".nav-item-container").length>1&&(this.closest(".nav-item-container").remove(),a(e))}))}));const o=n.querySelector(".nav-add-btn");function a(e){e.querySelectorAll(".nav-item-container").length>=5?e.classList.add("max-items"):e.classList.remove("max-items")}return o.addEventListener("click",(()=>{if(n.querySelectorAll(".nav-item-container").length<5){const t=document.createElement("div");t.className="nav-item-container",t.innerHTML='\n                        <button class="nav-delete-btn">×</button>\n                        <a href="#" style="text-align: center; color: var(--color-primary); text-decoration: none; display: flex; flex-direction: column; align-items: center;">\n                            <i class="fa-solid fa-bolt-lightning" style="font-size: 20px; margin-bottom: 4px;"></i>\n                            <span style="font-size: 12px;">New</span>\n                        </a>\n                    ',t.querySelector(".nav-delete-btn").addEventListener("click",(function(){n.querySelectorAll(".nav-item-container").length>1&&(this.closest(".nav-item-container").remove(),a(e))})),t.querySelector("i").addEventListener("click",(e=>{e.preventDefault(),showIconPicker(e.target)})),this.makeTextEditable(t.querySelector("span")),n.insertBefore(t,o),a(e)}})),n.querySelectorAll("span").forEach((e=>this.makeTextEditable(e))),n.querySelectorAll(".nav-item-container i").forEach((e=>{e.style.cursor="pointer",e.addEventListener("click",(t=>{t.preventDefault(),showIconPicker(e)}))})),e.appendChild(t),e.appendChild(n),e},heading(e,t="h1",n="Heading"){const o=["h1","h2","h3","h4","h5","h6"];let a=o.indexOf(t.toLowerCase());-1===a&&(a=0);const r=document.createElement("div");r.className="heading-wrapper",r.style.cssText="width: 100%; position: relative;";const s=document.createElement("div");s.className="heading-controls",s.style.cssText="\n        position: absolute;\n        top: -24px;\n        left: 14px;\n        opacity: 0;\n        transition: opacity 0.2s ease;\n        display: none;\n        gap: 2px;\n        display: flex;\n    ";const i=document.createElement("button"),l=document.createElement("i");l.className="fas fa-minus",i.appendChild(l),i.style.cssText="\n        padding: 6px 9px;\n        border: 1px solid var(--input-bg-color);\n        border-radius: 4px;\n        background: var(--interface-color);\n        color: #e8e8e8;\n        cursor: pointer;\n        font-size: 13px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        opacity: 0;\n    ";const c=document.createElement("button"),d=document.createElement("i");d.className="fas fa-angle-right",c.appendChild(d),c.style.cssText=i.style.cssText;const p=document.createElement("span");let u;p.className="level-indicator",p.style.cssText="\n        padding: 7px 4px 4px 4px;\n        border: 1px solid var(--input-bg-color);\n        border-radius: 4px;\n        background: var(--interface-color);\n        color: #e8e8e8;\n        font-size: 13px;\n        line-height: 1;\n        min-width: 22px;\n        max-width: 22px;\n        text-align: center;\n        opacity: 0;\n    ",u=document.createElement(o[a]),u.textContent=n,u.setAttribute("contentEditable","true"),u.style.cssText="margin: 0;";const m=e=>{a=(e+o.length)%o.length;const t=o[a],n=document.createElement(t);n.textContent=u.textContent,n.setAttribute("contentEditable","true"),n.style.cssText=u.style.cssText,p.textContent=t.toUpperCase(),u.replaceWith(n),u=n};return i.addEventListener("click",(()=>m(a-1))),c.addEventListener("click",(()=>m(a+1))),r.addEventListener("mouseenter",(()=>{s.style.display="flex",setTimeout((()=>{s.style.opacity="1",c.style.opacity="1",i.style.opacity="1",p.style.opacity="1"}),0)})),r.addEventListener("mouseleave",(()=>{s.style.opacity="0",c.style.opacity="0",i.style.opacity="0",p.style.opacity="0",setTimeout((()=>{s.style.display="none"}),200)})),p.textContent=o[a].toUpperCase(),s.appendChild(p),s.appendChild(c),r.appendChild(s),r.appendChild(u),r},paragraph(e,t="This is a paragraph. Click to edit."){const n=document.createElement("div");n.className="component-wrapper",n.style.cssText="width: 100%;";const o=document.createElement("div");let a;return e?a=e.cloneNode(!0):(a=document.createElement("p"),a.textContent=t,a.style.cssText="color: var(--basic-txt-color); line-height: 1.6; margin-bottom: 15px;",a.setAttribute("contentEditable","true"),a.addEventListener("input",(()=>{n.dataset.paragraphText=a.textContent}))),o.appendChild(a),n.appendChild(o),n},blockquote(e){const t=document.createElement("div");t.className="component-wrapper",t.style.cssText="width: 100%;";const n=document.createElement("div");let o;return e?o=e.cloneNode(!0):(o=document.createElement("blockquote"),o.textContent="This is a block-quote. Click to edit.",o.style.cssText="color: #555; font-style: italic; border-left: 5px solid var(--color-primary); padding-left: 18px; margin: 12px 0;",o.setAttribute("contentEditable","true"),o.addEventListener("input",(()=>{t.dataset.blockquoteText=o.textContent}))),n.appendChild(o),t.appendChild(n),t},label(e){let t;return e?t=e.cloneNode(!0):(t=document.createElement("label"),t.textContent="Label Text",t.style.cssText="\n                display: block;\n                color: #2c3e50;\n                font-weight: 500;\n                margin: 10px 0 -4px 4px;\n                font-size: 14px;\n                width: 100%;\n              ",t.setAttribute("contentEditable","true"),t.addEventListener("input",(()=>{t.dataset.labelText=t.textContent}))),t},graph:(e="bar")=>{const t=document.createElement("div");t.style.cssText="width: 100%; height: 300px; background: var(--color-background); padding: 20px; border-radius: 8px; border: 0.12rem solid var(--neutral-gray); border-bottom: 3px solid rgba(0,0,0,.12); position: relative;";const n=document.createElement("canvas");t.appendChild(n);const o={labels:["Jan","Feb","Mar","Apr","May"],values:[6,8,11,10,12]},a={labels:o.labels,datasets:[{label:"Sample Data",data:o.values,backgroundColor:["rgba(52, 152, 219, 0.5)","rgba(46, 204, 113, 0.5)","rgba(155, 89, 182, 0.5)","rgba(52, 73, 94, 0.5)","rgba(241, 196, 15, 0.5)"],borderColor:["rgba(52, 152, 219, 1)","rgba(46, 204, 113, 1)","rgba(155, 89, 182, 1)","rgba(52, 73, 94, 1)","rgba(241, 196, 15, 1)"],borderWidth:1}]},r={responsive:!0,maintainAspectRatio:!1};"doughnut"===e&&(r.circumference=180,r.rotation=-90),"area"===e&&(e="line",a.datasets[0].fill=!0);const s=new Chart(n,{type:e,data:a,options:r});return t.chart=s,t.chartData=o,t.chartType=e,t},leftChat:()=>{const e=document.createElement("div");e.style.cssText="width: 100%; display: flex; align-items: flex-start; gap: 10px; margin-bottom: 12px; position: relative;";const t=document.createElement("div");t.innerHTML="AV",t.style.cssText="width: 40px; height: 40px; background-color: var(--color-primary); color: #ffffff; border-radius: 50%; display: flex; justify-content: center; align-items: center; font-weight: bold; flex-shrink: 0;",t.setAttribute("contentEditable","true");const n=document.createElement("div");n.style.cssText="flex-grow: 1; max-width: 80%;";const o=document.createElement("div");o.classList="leftChat",o.style.cssText="background-color: var(--neutral-gray); padding: 12px 16px; border-radius: 18px; border-top-left-radius: 4px; width: fit-content; word-wrap: break-word;";const a=document.createElement("div");a.className="chat-content",a.innerHTML="Click to edit this message.",a.setAttribute("contentEditable","true");const r=document.createElement("div");r.className="chat-image-container",r.style.cssText="margin-top: 8px; cursor: pointer; display: none;",o.addEventListener("mouseenter",(()=>{r.style.display="block"})),o.addEventListener("mouseleave",(()=>{const e=r.querySelector("img");e&&"none"!==e.style.display||(r.style.display="none")}));const s=document.createElement("img");s.style.cssText="max-width: 200px; max-height: 200px; border-radius: 12px; display: none;",s.alt="Chat image";const i=document.createElement("div");i.className="image-placeholder",i.style.cssText="display: flex; align-items: center; justify-content: center; color: #666; padding: 8px; border: 0.12rem dashed #ccc; border-radius: 8px;";const l=document.createElement("i");l.className="fas fa-image",l.style.marginRight="8px",i.appendChild(l),i.appendChild(document.createTextNode("Add Image"));const c=document.createElement("div");return c.textContent="1 minute ago",c.style.cssText="font-size: 12px; color: #666; margin-top: 4px;",c.setAttribute("contentEditable","true"),r.addEventListener("click",(()=>{const e=document.createElement("input");e.type="file",e.accept="image/*",e.onchange=e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{s.src=e.target.result,s.style.display="block",i.style.display="none",r.style.display="block"},e.readAsDataURL(t)}},e.click()})),r.appendChild(s),r.appendChild(i),o.appendChild(a),o.appendChild(r),n.appendChild(o),n.appendChild(c),e.appendChild(t),e.appendChild(n),e},rightChat:()=>{const e=document.createElement("div");e.style.cssText="width: 100%; display: flex; flex-direction: row-reverse; align-items: flex-start; gap: 10px; margin-bottom: 12px;";const t=document.createElement("div");t.innerHTML="ME",t.style.cssText="width: 40px; height: 40px; background-color: var(--color-primary); color: white; border-radius: 50%; display: flex; justify-content: center; align-items: center; font-weight: bold; flex-shrink: 0;",t.setAttribute("contentEditable","true");const n=document.createElement("div");n.style.cssText="flex-grow: 1; display: flex; flex-direction: column; align-items: flex-end;";const o=document.createElement("div");o.classList="rightChat",o.style.cssText="background-color: var(--color-primary); color: white; padding: 12px 16px; border-radius: 18px; border-top-right-radius: 4px; max-width: 82%; display: inline-block; word-wrap: break-word;";const a=document.createElement("div");a.className="chat-content",a.innerHTML="Click to edit this message.",a.setAttribute("contentEditable","true");const r=document.createElement("div");r.className="chat-image-container",r.style.cssText="margin-top: 8px; cursor: pointer; display: none;",o.addEventListener("mouseenter",(()=>{r.style.display="block"})),o.addEventListener("mouseleave",(()=>{const e=r.querySelector("img");e&&"none"!==e.style.display||(r.style.display="none")}));const s=document.createElement("img");s.style.cssText="max-width: 200px; max-height: 200px; border-radius: 12px; display: none;",s.alt="Chat image";const i=document.createElement("div");i.className="image-placeholder",i.style.cssText="display: flex; align-items: center; justify-content: center; color: #eee; padding: 8px; border: 0.12rem dashed #ccc; border-radius: 8px;";const l=document.createElement("i");l.className="fas fa-image",l.style.marginRight="8px",i.appendChild(l),i.appendChild(document.createTextNode("Add Image"));const c=document.createElement("div");c.textContent="1 minute ago",c.style.cssText="font-size: 12px; color: #666; margin-top: 4px;";o.querySelector(".chat-content");return c.setAttribute("contentEditable","true"),r.addEventListener("click",(()=>{const e=document.createElement("input");e.type="file",e.accept="image/*",e.onchange=e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{s.src=e.target.result,s.style.display="block",i.style.display="none",r.style.display="block"},e.readAsDataURL(t)}},e.click()})),r.appendChild(s),r.appendChild(i),o.appendChild(a),o.appendChild(r),n.appendChild(o),n.appendChild(c),e.appendChild(t),e.appendChild(n),e},chatInput:()=>{const e=document.createElement("div");return e.style.cssText="width: 100%; padding: 10px 0;",e.innerHTML=setupVariants("chatInput")[0],e},notificationBanner:e=>{let t,n,o,a,r,s,i,l;return e?(t=e.cloneNode(!0),n=t.querySelector("div:first-child"),o=n.querySelector("i"),a=t.querySelector("div:nth-child(2)"),r=a.querySelector("div:nth-child(1)"),s=a.querySelector("div:nth-child(2)"),i=a.querySelector(".notification-action"),l=t.querySelector(".visibility-toggle"),o.addEventListener("click",(e=>{e.preventDefault(),showIconPicker(o)})),t.addEventListener("mouseenter",(()=>{l.style.opacity="1"})),t.addEventListener("mouseleave",(()=>{l.style.opacity="0"})),l.addEventListener("click",(()=>{const e="true"===i.dataset.alwaysVisible;i.dataset.alwaysVisible=(!e).toString(),i.style.display=e?"none":"block",l.innerHTML=e?'<i class="fas fa-eye-slash"></i>':'<i class="fas fa-eye"></i>'}))):(t=document.createElement("div"),t.style.cssText="width: 100%; background-color: var(--neutral-gray); border-left: 4px solid var(--color-primary); padding: 12px 8px; margin: 6px 0; display: flex; align-items: flex-start; gap: 12px; border-radius: 4px; position: relative;",n=document.createElement("div"),n.style.cssText="flex-shrink: 0;",o=document.createElement("i"),o.className="fas fa-bell",o.style.cssText="font-size: 20px; color: var(--color-primary); cursor: pointer;",n.appendChild(o),o.addEventListener("click",(e=>{e.preventDefault(),showIconPicker(o)})),a=document.createElement("div"),a.style.cssText="flex-grow: 1; display: flex; flex-direction: column; gap: 4px;",r=document.createElement("div"),r.textContent="Click to edit this important notification message.",r.style.cssText="font-weight: 500;",r.setAttribute("contentEditable","true"),s=document.createElement("div"),s.textContent="Additional details or instructions can go here.",s.style.cssText="font-size: 14px; color: #666;",s.setAttribute("contentEditable","true"),i=document.createElement("div"),i.className="notification-action",i.textContent="Action",i.style.cssText="\n        background-color: var(--color-primary);\n        color: white;\n        padding: 6px 8px;\n        border-radius: 4px;\n        cursor: pointer;\n        font-weight: 500;\n        user-select: none;\n        display: block;\n        margin-top: 6px;\n        width: fit-content;\n        font-size: small;\n      ",i.setAttribute("contentEditable","true"),i.dataset.alwaysVisible="true",l=document.createElement("div"),l.className="visibility-toggle",l.innerHTML='<i class="fas fa-eye"></i>',l.style.cssText="\n        position: absolute;\n        bottom: 16px;\n        left: 6px;\n        cursor: pointer;\n        opacity: 0;\n        transition: opacity 0.2s ease;\n        background-color: rgba(0, 0, 0, 0.1);\n        padding: 4px;\n        border-radius: 4px;\n        font-size: 14px;\n      ",t.addEventListener("mouseenter",(()=>{l.style.opacity="1"})),t.addEventListener("mouseleave",(()=>{l.style.opacity="0"})),l.addEventListener("click",(()=>{const e="true"===i.dataset.alwaysVisible;i.dataset.alwaysVisible=(!e).toString(),i.style.display=e?"none":"block",l.innerHTML=e?'<i class="fas fa-eye-slash"></i>':'<i class="fas fa-eye"></i>',l.style.opacity="0"})),a.appendChild(r),a.appendChild(s),a.appendChild(i),t.appendChild(n),t.appendChild(a),t.appendChild(l)),t},progressTracker:()=>{const e=document.createElement("div");e.style.cssText="width: 100%; padding: 16px 0; display: flex; justify-content: space-around; align-items: center; position: relative;";const t=document.createElement("div");t.style.cssText="\n            position: absolute;\n            top: -10px;\n            right: calc(50% - 28px);\n            display: none;\n            gap: 6px;\n            z-index: 2223;\n        ";const n=document.createElement("button");n.innerHTML='<i class="fas fa-plus"></i>',n.style.cssText="\n            background-color: var(--interface-color);\n            color: white;\n            border: none;\n            border-radius: 4px;\n            width: 24px;\n            height: 24px;\n            cursor: pointer;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n        ";const o=document.createElement("button");function a(e){e.contentEditable="true",e.spellcheck=!1,e.style.cursor="text",e.addEventListener("keydown",(t=>{"Enter"===t.key&&(t.preventDefault(),e.blur())}))}function r(t,n){const o=document.createElement("div");o.style.cssText="display: flex; flex-direction: column; align-items: center; gap: 8px; z-index: 2; flex: 0 1 auto; text-align: center;";const r=document.createElement("div");r.style.cssText=`\n                width: 36px;\n                height: 36px;\n                border-radius: 50%;\n                display: flex;\n                justify-content: center;\n                align-items: center;\n                font-weight: bold;\n                margin: 0 6px;\n                ${0===t?"background-color: var(--color-primary); color: white;":"background-color: var(--neutral-gray); color: #666;"}\n            `,r.textContent=(t+1).toString(),a(r);const s=document.createElement("div");return s.textContent=`Step ${t+1}`,s.style.cssText="font-size: 14px; color: #666; font-weight: 500;",a(s),o.style.cursor="pointer",o.addEventListener("click",(t=>{!function(t){e.querySelectorAll("[data-step] div:first-child").forEach((e=>{e.style.backgroundColor="var(--neutral-gray)",e.style.color="#666"}));const n=t.querySelector("div:first-child");n.style.backgroundColor="var(--color-primary)",n.style.color="white"}(o)})),o.appendChild(r),o.appendChild(s),o}function s(){e.querySelectorAll(".connecting-line").forEach((e=>e.remove()));const t=e.querySelectorAll("[data-step]");t.forEach(((n,o)=>{o<t.length-1&&e.insertBefore(function(){const e=document.createElement("div");return e.style.cssText="height: 2px; background-color: #E0E0E0; flex: 1; margin: -22px 0 0 0; align-self: center; border-radius: 2px",e.classList.add("connecting-line"),e}(),t[o+1])}))}function i(){e.querySelectorAll("[data-step]").forEach(((e,t)=>{e.querySelector("div:first-child").textContent=(t+1).toString()})),s(),function(){const t=e.querySelectorAll("[data-step]");o.style.opacity=1===t.length?"0.5":"1",o.style.cursor=1===t.length?"default":"pointer",n.style.opacity=5===t.length?"0.5":"1",n.style.cursor=5===t.length?"default":"pointer"}()}o.innerHTML='<i class="fas fa-minus"></i>',o.style.cssText=n.style.cssText,o.style.opacity="0.5",t.appendChild(o),t.appendChild(n);const l=r(0);return l.setAttribute("data-step",""),n.onclick=()=>{const t=e.querySelectorAll("[data-step]");if(t.length<5){const n=r(t.length,t.length);n.setAttribute("data-step",""),e.appendChild(n),i()}},o.onclick=()=>{const t=e.querySelectorAll("[data-step]");t.length>1&&(t[t.length-1].remove(),i())},e.addEventListener("mouseenter",(()=>t.style.display="flex")),e.addEventListener("mouseleave",(()=>t.style.display="none")),e.appendChild(l),e.appendChild(t),e},featureComparisonCard:()=>{const e=document.createElement("div");e.style.cssText="width: 100%; border: 1px solid var(--neutral-gray); border-radius: var(--standard-radius); overflow: visible; position: relative;";const t=document.createElement("div");t.style.cssText="padding: 14px; background-color: var(--color-primary); color: white; border-radius: var(--standard-radius) var(--standard-radius) 0 0";const n=document.createElement("div");n.classList.add("heading-wrapper");const o=document.createElement("h4");o.textContent="Feature Comparison",o.style.cssText="margin: 0; font-size: 18px; font-weight: bold; color: var(--text-on-primary) !important",this.makeTextEditable(o),n.appendChild(o);const a=document.createElement("div");a.style.cssText="padding: 16px; background-color: var(--input-bg-color); border-radius: var(--standard-radius)";const r=document.createElement("div");r.style.cssText="display: grid; grid-template-columns: 2fr 1fr 1fr; gap: 12px; align-items: center;";const s=document.createElement("button");s.innerHTML='<i class="fas fa-plus"></i> Add Feature',s.style.cssText="\n            background-color: var(--interface-color);\n            color: white;\n            border: none;\n            border-radius: 4px;\n            padding: 6px 12px;\n            cursor: pointer;\n            display: none;\n            align-items: center;\n            gap: 4px;\n            font-size: 14px;\n            margin: 2px 0 12px 12px;\n        ";["Features","Basic","Pro"].map(((e,t)=>{const n=document.createElement("div");return n.textContent=e,n.style.cssText="font-weight: bold; color: #777; padding: 8px 0; "+(t>0?"text-align: center;":""),this.makeTextEditable(n),n})).forEach((e=>r.appendChild(e)));const i=(e="New Feature",t=!1)=>{const n=document.createElement("div");n.style.cssText="color: var(--basic-txt-color); display: flex; align-items: center; gap: 8px;";const o=document.createElement("button");o.innerHTML='<i class="fas fa-trash"></i>',o.style.cssText="\n                background: none;\n                border: none;\n                color: #ff4444;\n                cursor: pointer;\n                padding: 0px 4px;\n                display: none;\n                font-size: 12px;\n            ";const a=document.createElement("div");a.style.cssText="display: flex; align-items: center; gap: 8px; width: 100%;";const s=document.createElement("span");s.textContent=e,this.makeTextEditable(s),a.appendChild(s),a.appendChild(o),n.appendChild(a),n.addEventListener("mouseenter",(()=>o.style.display="block")),n.addEventListener("mouseleave",(()=>o.style.display="none"));const i=document.createElement("div");i.innerHTML=t?'<i class="fas fa-times" style="color: #999;"></i>':'<i class="fas fa-check" style="color: green;"></i>',i.style.cssText="text-align: center; cursor: pointer;";const l=document.createElement("div");l.innerHTML='<i class="fas fa-check" style="color: green;"></i>',l.style.cssText="text-align: center; cursor: pointer;",[i,l].forEach((e=>{e.onclick=()=>{const t=null!==e.querySelector(".fa-check");e.innerHTML=t?'<i class="fas fa-times" style="color: #999;"></i>':'<i class="fas fa-check" style="color: green;"></i>'}})),o.onclick=e=>{e.stopPropagation(),[n,i,l].forEach((e=>e.remove()))},r.appendChild(n),r.appendChild(i),r.appendChild(l)};return["Feature 1","Feature 2","Feature 3"].forEach((e=>{i(e)})),s.onclick=()=>{i("New Feature",!0)},t.appendChild(n),a.appendChild(r),e.appendChild(t),e.appendChild(a),e.appendChild(s),{container:e,setup:()=>{const t=e.closest(".component-container");t&&(t.addEventListener("mouseenter",(()=>{s.style.display="block"})),t.addEventListener("mouseleave",(()=>{s.style.display="none"})))}}},chipGroup:()=>{const e=document.createElement("div");e.style.cssText="\n        display: flex;\n        flex-flow: row wrap;\n        gap: 6px;\n        padding: 6px 0;\n        width: 100%;\n        min-height: 48px;\n        border-radius: 8px;\n    ";const t=(t="New Chip")=>{const o=document.createElement("div");o.style.cssText="\n            display: inline-flex;\n            align-items: center;\n            height: 32px;\n            padding: 0 12px;\n            background-color: var(--neutral-gray);\n            border-radius: 16px;\n            cursor: pointer;\n            user-select: none;\n            transition: all 0.2s ease;\n        ";const a=document.createElement("span");a.textContent=t,a.style.cssText="\n            font-size: 14px;\n            color: var(--text-color);\n        ",a.setAttribute("contentEditable","true");const r=document.createElement("i");r.className="fas fa-times",r.style.cssText="\n            font-size: 12px;\n            color: var(--interface-color);\n            margin-left: 8px;\n            padding: 2px;\n            cursor: pointer;\n            display: none;\n        ",o.addEventListener("mouseenter",(()=>{r.style.display="inline-block"})),o.addEventListener("mouseleave",(()=>{r.style.display="none"})),o.addEventListener("click",(e=>{if(e.target!==r&&e.target!==a){"true"===o.getAttribute("data-selected")?(o.style.backgroundColor="var(--neutral-gray)",a.style.color="#333",r.style.color="#333",o.setAttribute("data-selected","false")):(o.style.backgroundColor="var(--color-primary)",a.style.color="#fff",r.style.color="#fff",o.setAttribute("data-selected","true"))}})),r.addEventListener("click",(t=>{t.stopPropagation(),o.remove(),1===e.children.length&&(n.style.display="flex")})),o.appendChild(a),o.appendChild(r),e.insertBefore(o,n)},n=document.createElement("div");n.style.cssText="\n        display: none;\n        align-items: center;\n        justify-content: center;\n        height: 32px;\n        padding: 0 12px;\n        background-color: transparent;\n        border: 0.12rem dashed var(--neutral-gray);\n        border-radius: 16px;\n        cursor: pointer;\n        transition: all 0.2s ease;\n    ";const o=document.createElement("i");o.className="fas fa-plus",o.style.cssText="\n        font-size: 12px;\n        color: var(--interface-color);\n        margin-right: 4px;\n    ";const a=document.createElement("span");return a.textContent="Add Chip",a.style.cssText="\n        font-size: 14px;\n        color: var(--interface-color);\n    ",n.appendChild(o),n.appendChild(a),n.addEventListener("mouseenter",(()=>{n.style.borderColor="var(--color-primary)",o.style.color="var(--color-primary)",a.style.color="var(--color-primary)"})),n.addEventListener("mouseleave",(()=>{n.style.borderColor="var(--neutral-gray)",o.style.color="var(--interface-color)",a.style.color="var(--interface-color)"})),n.addEventListener("click",(()=>{t(),e.children.length>15&&(n.style.display="none")})),e.appendChild(n),t("Design"),t("Development"),t("Marketing"),{container:e,setup:()=>{const t=e.closest(".component-container");t&&(t.addEventListener("mouseenter",(()=>{n.style.display="flex"})),t.addEventListener("mouseleave",(()=>{n.style.display="none"})))}}},floatingActionButton:()=>{const e=document.createElement("div");e.classList.add("fab"),e.style.cssText="\n      position: absolute;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      width: 46px;\n      height: 46px;\n      background-color: var(--color-primary);\n      border-radius: 50%;\n      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);\n      cursor: pointer;\n      transition: all 0.2s ease;\n      bottom: 27px;\n      right: 17px;\n      z-index: 3847;\n    ";const t=document.createElement("i");return t.className="fas fa-plus",t.style.cssText="\n      font-size: 18px;\n      color: #fff;\n    ",e.appendChild(t),e.addEventListener("click",(e=>{e.preventDefault(),showIconPicker(t)})),e.addEventListener("mouseenter",(()=>{e.style.transform="scale(1.1)",e.style.boxShadow="0 6px 12px rgba(0, 0, 0, 0.2)"})),e.addEventListener("mouseleave",(()=>{e.style.transform="scale(1)",e.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.15)"})),e.addEventListener("click",(()=>{console.log("Floating action button clicked!")})),e},bulletedList:()=>{const e=document.createElement("div");e.style.cssText="\n        display: flex;\n        flex-direction: column;\n        gap: 6px;\n        padding: 12px;\n        width: 100%;\n        min-height: 48px;\n    ";const t=(t="New item")=>{const o=document.createElement("div");o.style.cssText="\n            display: flex;\n            align-items: flex-start;\n            margin-left: 0px;\n            transition: margin-left 0.2s ease;\n        ";const a=document.createElement("div");a.style.cssText="\n            display: flex;\n            align-items: center;\n            padding: 4px 8px;\n            cursor: pointer;\n        ";const r=document.createElement("i");r.className="fas fa-circle",r.style.cssText="\n            font-size: 12px;\n            margin-top: 1px;\n            color: var(--text-color);\n        ",a.appendChild(r),a.addEventListener("click",(e=>{e.preventDefault(),showIconPicker(r)}));const s=document.createElement("div");s.style.cssText="\n            flex-grow: 1;\n            color: var(--text-color);\n            min-height: 24px;\n            padding: 2px 0;\n        ",s.setAttribute("contenteditable","true"),s.textContent=t;const i=document.createElement("div");i.style.cssText="\n            display: none;\n            gap: 8px;\n            padding: 0 4px;\n        ";const l=document.createElement("i");l.className="fas fa-indent",l.style.cssText="\n            font-size: 14px;\n            color: var(--interface-color);\n            cursor: pointer;\n            padding: 4px;\n        ";const c=document.createElement("i");c.className="fas fa-outdent",c.style.cssText="\n            font-size: 14px;\n            color: var(--interface-color);\n            cursor: pointer;\n            padding: 4px;\n        ";const d=document.createElement("i");return d.className="fas fa-times",d.style.cssText="\n            font-size: 14px;\n            color: var(--interface-color);\n            cursor: pointer;\n            padding: 4px;\n        ",i.appendChild(l),i.appendChild(c),i.appendChild(d),o.appendChild(a),o.appendChild(s),o.appendChild(i),o.addEventListener("mouseenter",(()=>{i.style.display="flex"})),o.addEventListener("mouseleave",(()=>{i.style.display="none"})),l.addEventListener("click",(()=>{const e=parseInt(o.style.marginLeft||"0");e<160&&(o.style.marginLeft=`${e+40}px`)})),c.addEventListener("click",(()=>{const e=parseInt(o.style.marginLeft||"0");e>=40&&(o.style.marginLeft=e-40+"px")})),d.addEventListener("click",(()=>{o.remove(),1===e.children.length&&(n.style.display="flex")})),o},n=document.createElement("div");n.style.cssText="\n        display: flex;\n        align-items: center;\n        padding: 8px;\n        cursor: pointer;\n        border-radius: 4px;\n        transition: background-color 0.2s ease;\n    ";const o=document.createElement("i");o.className="fas fa-plus",o.style.cssText="\n        font-size: 12px;\n        color: var(--interface-color);\n        margin-right: 8px;\n    ";const a=document.createElement("span");return a.textContent="Add item",a.style.cssText="\n        font-size: 14px;\n        color: var(--interface-color);\n    ",n.appendChild(o),n.appendChild(a),n.addEventListener("mouseenter",(()=>{n.style.backgroundColor="var(--neutral-gray)"})),n.addEventListener("mouseleave",(()=>{n.style.backgroundColor="transparent"})),n.addEventListener("click",(()=>{const o=t();e.insertBefore(o,n),e.children.length>20&&(n.style.display="none")})),e.appendChild(n),e.insertBefore(t("First item"),n),e.insertBefore(t("Second item"),n),{container:e,setup:()=>{const t=e.closest(".component-container");t&&(t.addEventListener("mouseenter",(()=>{n.style.display="flex"})),t.addEventListener("mouseleave",(()=>{e.children.length>1&&(n.style.display="none")})))}}},table:()=>{const e=document.createElement("div");e.style.cssText="\n        width: 100%;\n        margin-top: 6px;\n        overflow-x: auto;\n        position: relative;\n    ";const t=document.createElement("table");t.style.cssText="\n        width: 100%;\n        border-collapse: collapse;\n        font-size: 14px;\n        table-layout: fixed;\n        position: relative;\n        z-index: 2;\n    ";const n={CHECKBOX:"checkbox",TEXT:"text",LINK:"link",ACTION:"action"},o={hasCheckboxColumn:!1,columns:[],rows:[],activeControls:null,isResizing:!1,currentResizer:null,startX:0,startWidth:0,initialRightEdge:0},a=(e="New Column",t=n.TEXT)=>{const a=document.createElement("th");a.style.cssText="\n            padding: 12px 0;\n            text-align: left;\n            font-weight: 600;\n            color: var(--text-on-primary);\n            border-bottom: 1px solid var(--neutral-gray);\n            \n            position: relative;\n            min-width: 36px;\n            width: 120px;\n            border-right: 1px solid var(--neutral-gray);\n        ";const r=document.createElement("div");r.style.cssText="\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n            pointer-events: none;\n            margin-left: 16px;\n        ";const s=document.createElement("span");s.textContent=e,s.setAttribute("contenteditable","true"),s.style.pointerEvents="all",r.appendChild(s);const c=document.createElement("i");c.className="fas fa-sort",c.style.cssText="\n            font-size: 12px;\n            color: var(--text-on-primary);\n            cursor: pointer;\n            pointer-events: all;\n            margin-right: 16px;\n        ",c.addEventListener("click",(e=>{e.preventDefault(),showIconPicker(c)})),r.appendChild(c);const d=document.createElement("div");d.className="column-resizer",d.style.cssText="\n            position: absolute;\n            right: 0;\n            top: 0;\n            bottom: 0;\n            width: 4px;\n            background: transparent;\n            cursor: col-resize;\n            z-index: 550;\n            pointer-events: all;\n        ";d.addEventListener("mousedown",(e=>{o.isResizing=!0,o.currentResizer=d,o.startX=e.pageX,o.startWidth=a.offsetWidth;const t=a.getBoundingClientRect();o.initialRightEdge=t.right;const n=document.createElement("div");n.style.cssText="\n                position: fixed;\n                top: 0;\n                left: 0;\n                right: 0;\n                bottom: 0;\n                z-index: 1000;\n                cursor: col-resize;\n            ",n.id="resize-overlay",document.body.appendChild(n);const r=document.createElement("div");r.style.cssText=`\n                position: fixed;\n                top: 0;\n                bottom: 0;\n                width: 2px;\n                background: var(--interface-color);\n                opacity: 0.5;\n                left: ${t.right}px;\n                pointer-events: none;\n                z-index: 1001;\n            `,r.id="resize-line",document.body.appendChild(r)})),d.addEventListener("mouseenter",(()=>{o.isResizing||(d.style.background="var(--interface-color)")})),d.addEventListener("mouseleave",(()=>{o.isResizing||(d.style.background="transparent")}));const p=document.createElement("div");p.className="column-controls",p.style.cssText="\n            display: none;\n            position: absolute;\n            left: -2px;\n            top: 136%;\n            border: 1px solid var(--neutral-gray);\n            transform: translateY(-50%);\n            background: var(--interface-color);\n            color: var(--basic-txt-color);\n            padding: 4px;\n            border-radius: 4px;\n            gap: 4px;\n            z-index: 108;\n            pointer-events: all;\n        ";const u=document.createElement("select");u.style.cssText="\n            padding: 2px 4px;\n            border: 1px solid var(--neutral-gray);\n            border-radius: 4px;\n            background: var(--input-bg-color);\n            color: var(--text-color);\n            font-size: 12px;\n        ",Object.values(n).forEach((e=>{const t=document.createElement("option");t.value=e,t.textContent=e.charAt(0).toUpperCase()+e.slice(1),u.appendChild(t)})),u.value=t,u.addEventListener("mousedown",(e=>{e.stopPropagation(),p.style.display="flex",o.activeControls=p})),u.addEventListener("change",(e=>{e.stopPropagation(),i(a,u.value),setTimeout((()=>{o.activeControls===p&&(p.style.display="none",o.activeControls=null)}),200)})),u.addEventListener("blur",(()=>{setTimeout((()=>{o.activeControls===p&&(p.style.display="none",o.activeControls=null)}),200)})),p.appendChild(u);const m=document.createElement("i");return m.className="fas fa-times",m.setAttribute("title","delete column"),m.style.cssText="\n            font-size: 12px;\n            color: var(--error-danger-delete);\n            cursor: pointer;\n            padding: 4px;\n        ",m.addEventListener("click",(()=>{const e=Array.from(a.parentElement.children).indexOf(a);l(e)})),p.appendChild(m),a.appendChild(r),a.appendChild(p),a.appendChild(d),a.addEventListener("mouseenter",(()=>{o.activeControls||o.isResizing||(p.style.display="flex")})),a.addEventListener("mouseleave",(e=>{p.contains(e.relatedTarget)||o.activeControls===p||(p.style.display="none")})),a},r=(e=n.TEXT)=>{const t=document.createElement("td");switch(t.style.cssText="\n            padding: 12px 16px;\n            border-bottom: 1px solid var(--neutral-gray);\n            color: var(--basic-txt-color);\n        ",e){case n.CHECKBOX:const e=document.createElement("div");e.className="fa-regular fa-square",e.style.cssText="\n                    margin: -2px 10px 0 10px;\n                    border-radius: 4px;\n                    cursor: pointer;\n                    position: relative;\n                    font-size: 18px;\n                    color: #a0a0a0;\n                ";const o=document.createElement("i");o.className="fa-solid fa-square-check",o.style.cssText="\n                    font-size: 18px;\n                    color: var(--color-primary);\n                    display: none; \n                    position: absolute;\n                    top: 0px;\n                    left: 0px;\n                    border: none;\n                ",e.appendChild(o),e.addEventListener("click",(()=>{const e="none"===o.style.display;o.style.display=e?"block":"none"})),t.appendChild(e);break;case n.LINK:const a=document.createElement("span");a.textContent="Link Text",a.style.cssText="\n                    color: #0d87d8;\n                    cursor: pointer;\n                ",a.setAttribute("contenteditable","true"),t.appendChild(a);break;case n.ACTION:const r=document.createElement("i");r.className="fas fa-bolt",r.style.cssText="\n                    font-size: 14px;\n                    color: var(--basic-txt-color);\n                    cursor: pointer;\n                ",r.addEventListener("click",(e=>{e.preventDefault(),showIconPicker(r)})),t.appendChild(r);break;default:t.setAttribute("contenteditable","true"),t.textContent="Cell Text"}return t},s=e=>{const t=document.createElement("tr");t.style.cssText="\n            transition: background-color 0.2s ease;\n        ",t.addEventListener("mouseenter",(()=>{t.style.backgroundColor="var(--neutral-gray-light)",t.querySelector(".row-controls").style.display="flex"})),t.addEventListener("mouseleave",(()=>{t.style.backgroundColor="transparent",t.querySelector(".row-controls").style.display="none"}));const n=e.children;Array.from(n).forEach((e=>{const n=e.querySelector("select").value;t.appendChild(r(n))}));const o=document.createElement("td");o.style.cssText="\n            padding: 12px 16px;\n            border-bottom: 1px solid var(--neutral-gray);\n        ";const a=document.createElement("div");a.className="row-controls",a.style.cssText="\n            display: none;\n            gap: 8px;\n            justify-content: flex-start;\n            margin-right: 44px;\n            width: 44px;\n        ";const s=document.createElement("i");return s.className="fas fa-trash",s.setAttribute("title","delete row"),s.style.cssText="\n            font-size: 12px;\n            color: var(--error-danger-delete);\n            cursor: pointer;\n        ",s.addEventListener("click",(()=>{t.remove(),f()})),a.appendChild(s),o.appendChild(a),t.appendChild(o),t},i=(e,n)=>{const o=Array.from(e.parentElement.children).indexOf(e);t.querySelectorAll("tbody tr").forEach((e=>{const t=e.children[o],a=r(n);e.replaceChild(a,t)}))},l=e=>{t.querySelectorAll("tr").forEach((t=>{t.deleteCell(e)}))},c=document.createElement("div");c.style.cssText="\n        display: flex;\n        gap: 8px;\n        margin-top: 8px;\n    ";const d=document.createElement("button");d.style.cssText="\n        padding: 8px 16px;\n        margin: 8px 0;\n        background: transparent;\n        border: 1px solid var(--neutral-gray);\n        border-radius: 4px;\n        color: var(--interface-color);\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        gap: 8px;\n        transition: all 0.2s ease;\n    ";const p=document.createElement("i");p.className="fas fa-plus",d.appendChild(p);const u=document.createElement("span");u.textContent="Add Column",d.appendChild(u);const m=document.createElement("button");m.style.cssText=d.style.cssText;const h=document.createElement("i");h.className="fas fa-plus",m.appendChild(h);const y=document.createElement("span");y.textContent="Add Row",m.appendChild(y),c.appendChild(d),c.appendChild(m);const x=document.createElement("div");x.style.cssText="\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        height: 43px;\n        background-color: var(--color-primary);\n        z-index: 1;\n        width: 100%;\n    ";new ResizeObserver((()=>{const e=t.scrollWidth;x.style.width=`calc(${e}px - 32px)`})).observe(t);const v=document.createElement("thead"),g=document.createElement("tr");g.appendChild(a("ID",n.TEXT)),g.appendChild(a("Name",n.TEXT)),g.appendChild(a("Action",n.ACTION)),v.appendChild(g);const b=document.createElement("tbody");b.appendChild(s(g)),b.appendChild(s(g)),t.appendChild(v),t.appendChild(b),e.appendChild(x),e.appendChild(t),e.appendChild(c),d.addEventListener("click",(()=>{t.querySelector("thead tr").appendChild(a());t.querySelectorAll("tbody tr").forEach((e=>{e.insertBefore(r(),e.lastElementChild)}))})),m.addEventListener("click",(()=>{const e=t.querySelector("thead tr");b.appendChild(s(e)),f()}));const f=()=>{const e=b.children.length;m.style.display=e>=20?"none":"flex"};return[d,m].forEach((e=>{e.addEventListener("mouseenter",(()=>{e.style.backgroundColor="var(--neutral-gray)",e.style.borderColor="var(--color-primary)",e.style.color="var(--color-primary)"})),e.addEventListener("mouseleave",(()=>{e.style.backgroundColor="transparent",e.style.borderColor="var(--neutral-gray)",e.style.color="var(--interface-color)"}))})),{container:e,setup:()=>{const t=e.closest(".component-container");t&&(t.addEventListener("mouseenter",(()=>{c.style.display="flex"})),t.addEventListener("mouseleave",(()=>{c.style.display="none"}))),document.addEventListener("mousemove",(e=>{if(o.isResizing){const t=e.pageX-o.startX,n=Math.max(60,o.startWidth+t);o.currentResizer.parentElement.style.width=`${n}px`;const a=document.getElementById("resize-line");if(a){o.initialRightEdge;a.style.transform=`translateX(${t}px)`}}})),document.addEventListener("mouseup",(()=>{if(o.isResizing){o.isResizing=!1,o.currentResizer=null,o.startX=0,o.startWidth=0;const e=document.getElementById("resize-overlay"),t=document.getElementById("resize-line");e&&e.remove(),t&&t.remove()}})),document.addEventListener("click",(e=>{o.activeControls&&!o.activeControls.contains(e.target)&&(o.activeControls.style.display="none",o.activeControls=null)}))}}},hzDivider:()=>{const e=document.createElement("div");e.className="hzRule",e.style.cssText="\n        width: 100%;\n        padding: 6px 0;\n        position: relative;\n    ";const t=document.createElement("div");t.style.cssText="\n        width: 100%;\n        min-height: 24px;\n        display: flex;\n        align-items: center;\n        gap: 12px;\n        position: relative;\n    ";const n=document.createElement("div");n.style.cssText="\n        flex: 1;\n        border-width: 2px 0 0 0;\n        border-style: solid;\n        transition: all 0.3s ease;\n    ",n.style.borderColor="var(--color-transparent-blk)";const o=document.createElement("div");o.style.cssText="\n        position: absolute;\n        top: -32px;\n        left: 50%;\n        transform: translateX(-50%);\n        display: none;\n        gap: 8px;\n        background: #f0f0f0;\n        padding: 2px 4px;\n        border-radius: 4px;\n        border: 1px solid rgba(225,225,225,.6);\n        z-index: 56100;\n    ";const a=[{icon:"minus",title:"Solid"},{icon:"ellipsis-h",title:"Dotted"},{icon:"grip-lines",title:"Double"}].map((({icon:e,title:t})=>{const n=document.createElement("i");return n.className=`fas fa-${e}`,n.title=t,n.style.cssText="\n            padding: 6px;\n            cursor: pointer;\n            color: var(--interface-color);\n            transition: color 0.2s ease;\n        ",n.addEventListener("mouseenter",(()=>{n.style.color="var(--color-primary)"})),n.addEventListener("mouseleave",(()=>{n.style.color="var(--interface-color)"})),n})),r=document.createElement("input");r.type="range",r.min="1",r.max="8",r.value="2",r.style.cssText="\n        width: 120px;\n        height: 14px;\n        margin-left: 8px;\n    ",a[0].addEventListener("click",(()=>{const e=r.value;n.style.borderStyle="solid",n.style.borderWidth=`${e}px 0 0 0`,n.style.borderColor="var(--color-transparent-blk)",n.style.background="none",n.style.height="0",t.style.flexDirection="row"})),a[1].addEventListener("click",(()=>{const e=r.value;n.style.borderStyle="dotted",n.style.background="none",n.style.height="0",n.style.borderWidth=`${e}px 0 0 0`,n.style.borderColor="var(--color-transparent-blk)",t.style.flexDirection="row"})),a[2].addEventListener("click",(()=>{const e=r.value;n.style.borderStyle="double",n.style.background="none",n.style.height="0",n.style.borderWidth=`${e}px 0 0 0`,n.style.borderColor="var(--color-transparent-blk)",t.style.flexDirection="row"})),r.addEventListener("input",(e=>{n.style.borderWidth=`${e.target.value}px 0 0 0`}));const s=document.createElement("div");s.style.cssText="\n        display: flex;\n        align-items: center;\n        gap: 8px;\n    ";const i=document.createElement("div");return i.style.cssText="\n        display: flex;\n        gap: 8px;\n    ",a.forEach((e=>i.appendChild(e))),s.appendChild(i),s.appendChild(r),o.appendChild(s),e.addEventListener("mouseenter",(()=>{o.style.display="flex"})),e.addEventListener("mouseleave",(()=>{o.style.display="none"})),t.appendChild(n),e.appendChild(o),e.appendChild(t),e},colorBlock:()=>{const e=document.createElement("div");e.style.cssText="width: 100%; position: relative;",e.classList.add("colorBlock-container");const t=document.createElement("div");t.style.cssText="\n        width: 100%; \n        transform: translatex(-10px); \n        padding: 22px 10px 16px 10px; \n        min-height: 40px; \n        background-color: var(--color-secondary);\n        position: relative;\n    ",t.addEventListener("mouseover",(e=>{const n=e.target.closest(".component-container");if(!n)return;t.querySelectorAll(".component-container").forEach((e=>{e.classList.add("controls-hidden")})),n.classList.remove("controls-hidden")})),t.addEventListener("mouseleave",(()=>{t.querySelectorAll(".component-container").forEach((e=>{e.classList.remove("controls-hidden")}))}));const n=document.createElement("style");return n.textContent='\n        .colorBlock-container {\n            outline: none !important;\n            cursor: move;\n        }\n        \n        [data-component-variant="colorBlock-"] > .component-handle {\n            display: none;\n        }\n\n        [data-component-variant="colorBlock-"] > .delete-btn {\n        left: 4px !important;\n        bottom: -18px !important;\n        top: auto !important;\n        transform: none !important;\n        border-radius: 6px !important;\n        width: 24px !important;\n        height: 24px !important;\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important;\n        }\n\n        .colorBlock-container > .component-handle,\n        .colorBlock-container > .delete-btn,\n        .colorBlock-container > .duplicate-btn,\n        .colorBlock-container > .color-swatch-container {\n            visibility: visible !important;\n            opacity: 1 !important;\n        }\n\n        .controls-hidden > .component-handle,\n        .controls-hidden > .delete-btn,\n        .controls-hidden > .duplicate-btn,\n        .controls-hidden > .color-swatch-container {\n            visibility: hidden !important;\n            opacity: 0 !important;\n        }\n\n        .controls-hidden {\n            outline: none !important;\n        }\n    ',document.head.appendChild(n),e.appendChild(t),resizer.makeResizable(t),new Sortable(t,{animation:150,handle:".component-handle, .colorBlock-container, .card-image",ghostClass:"sortable-ghost",group:"shared-components",scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0,onEnd:function(e){const t=e=>{e.querySelectorAll(".color-swatch-container").forEach((e=>{e.style.visibility="hidden",e.style.opacity="0"}));const t=e.querySelector(".controls"),n=e.querySelector(".prev-btn"),o=e.querySelector(".next-btn"),a=e.querySelector(".variant-number"),r=e.querySelector(".add-image-button"),s=e.querySelector(".size-control"),i=e.querySelector(".left-arrow"),l=e.querySelector(".right-arrow");[e.querySelector(".resize-handle"),t,r,s,i,l].forEach((e=>{e&&(e.style.display="none")})),[n,o,a].forEach((e=>{e&&(e.style.opacity="0")}))};t(e.from),t(e.to)},onMove:function(e){return!e.related.classList.contains("navbar-spacer")}}),e},footer:()=>{const e=document.createElement("footer");e.innerHTML='\n            <div style="width: 100%; background-color: var(--color-primary); position: absolute; top: 0; right: 0; left: -10; bottom: -10; z-index: 1; padding: 0 10px; "></div>\n            <div style="display: flex; justify-content: space-between; width: 100%; padding: 20px 0; z-index: 2; position: relative;">\n                <div style="text-align: left;">\n                    <div class="footer-image-container" style="margin-bottom: 10px; background-color: #f0f0f0;">\n                        <div onclick="this.querySelector(\'input\').click()" class="trash" style="width: 60px; height: 60px; display: flex; justify-content: center; align-items: center; cursor: pointer; margin-bottom: 10px;">\n                            <span style="color: #333;">Logo</span>\n                            <input type="file" accept="image/*" onchange="handleFooterImageUpload(this)" style="display: none;">\n                            <img style="display: none; max-width: 60px; height: auto;" class="footer-logo">\n                        </div>\n                    </div>\n                    <div>\n                    <h3 spellcheck="false" contenteditable style="margin: 0;">Brand</h3>\n                    </div>\n                </div>\n                <div style="display: flex; gap: 28px; font-size: 14px; padding: 2px 8px;">\n                    <ul style="list-style: none; padding: 0; margin: 0;">\n                        <li contenteditable style="margin-bottom: 8px;"><a href="#" style="color: inherit; text-decoration: none;">About Us</a></li>\n                        <li contenteditable style="margin-bottom: 8px;"><a href="#" style="color: inherit; text-decoration: none;">Contact</a></li>\n                        <li contenteditable style="margin-bottom: 8px;"><a href="#" style="color: inherit; text-decoration: none;">Careers</a></li>\n                    </ul>\n                    <ul style="list-style: none; padding: 0; margin: 0;">\n                        <li contenteditable style="margin-bottom: 8px;"><a href="#" style="color: inherit; text-decoration: none;">Support</a></li>\n                        <li contenteditable style="margin-bottom: 8px;"><a href="#" style="color: inherit; text-decoration: none;">Privacy Policy</a></li>\n                        <li contenteditable style="margin-bottom: 8px;"><a href="#" style="color: inherit; text-decoration: none;">Terms of Use</a></li>\n                    </ul>\n                </div>\n            </div>\n        ';const t=document.createElement("div");t.classList.add("socialFooter"),t.style.cssText="display: flex; justify-content: center; gap: 40px; padding: 24px 0 68px 0; border-top: 1px solid var(--neutral-gray); z-index: 2; position: relative; z-index: 3; color: #333;";return["fas fa-seedling","fas fa-bolt-lightning","fas fa-skull"].forEach((e=>{const n=document.createElement("div");n.style.cssText="flex-shrink: 0;";const o=document.createElement("i");o.className=e,o.style.cssText="font-size: 20px; cursor: pointer;",n.appendChild(o),o.addEventListener("click",(e=>{e.preventDefault(),showIconPicker(o)})),t.appendChild(n)})),e.append(t),e.style.cssText="width: 100%; color: var(--text-on-primary); padding: 20px 0; margin-bottom: -68px; position: relative;",e}}}function handleFooterImageUpload(e){if(e.files&&e.files[0]){const t=new FileReader,n=e.parentElement,o=n.querySelector(".footer-logo"),a=n.closest(".footer-image-container"),r=n.querySelector("span");t.onload=function(e){o.src=e.target.result,o.style.display="block",r.style.display="none",a.style.backgroundColor="transparent"},t.readAsDataURL(e.files[0])}}document.addEventListener("DOMContentLoaded",(()=>{window.editor=new MobileUIEditor}));class Resizer{constructor(){this.isResizing=!1,this.currentElement=null,this.startY=0,this.startHeight=0,this.initialRightEdge=0,this.resizeOverlay=this.createOverlay(),this.setupListeners()}createOverlay(){const e=document.createElement("div");return e.style.cssText="\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            background: transparent;\n            display: none;\n            z-index: 1000;\n            cursor: ns-resize;\n          ",document.body.appendChild(e),e}createHandle(e){const t=document.createElement("div");t.className="resize-handle",t.style.cssText="\n            position: absolute;\n            right: 2px;\n            bottom: 2px;\n            width: 24px;\n            height: 24px;\n            cursor: ns-resize;\n            display: none;\n            pointer-events: all;\n            padding: 2px;\n            z-index: 20;\n          ";const n=document.createElement("div");return n.style.cssText="\n            width: 0;\n            height: 0;\n            box-shadow: 1px 1px 0px white;\n            border-style: solid;\n            border-width: 0 0 14px 14px;\n            border-color: transparent transparent #333 transparent;\n          ",t.appendChild(n),t.addEventListener("mousedown",(t=>this.startResize(t,e))),t.addEventListener("mouseenter",(()=>t.style.display="flex")),t}startResize(e,t){this.isResizing=!0,this.currentElement=t,this.startY=e.pageY,this.startHeight=parseInt(window.getComputedStyle(t).height);const n=t.getBoundingClientRect();this.initialRightEdge=n.right,this.resizeOverlay.style.display="block",e.preventDefault(),e.stopPropagation()}setupListeners(){document.addEventListener("mousemove",(e=>{if(!this.isResizing)return;const t=Math.max(0,this.startHeight+(e.pageY-this.startY));this.currentElement.style.height=`${t}px`})),document.addEventListener("mouseup",(()=>{this.isResizing&&(this.isResizing=!1,this.currentElement=null,this.resizeOverlay.style.display="none")}))}makeResizable(e,t=!0){const n=this.createHandle(e);return e.appendChild(n),t&&(e.addEventListener("mouseenter",(()=>{this.isResizing||(n.style.display="flex")})),e.addEventListener("mouseleave",(()=>{this.isResizing||(n.style.display="none")}))),n}}const resizer=new Resizer;