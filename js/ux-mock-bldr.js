class MobileUIEditor{modalAdded=!1;fabAdded=!1;constructor(){this.state={canvasCount:1,selectedCanvases:new Set,navbarStates:new Map},this.textAlignmentController=new TextAlignmentController(".canvas-content"),this.animationController=new AnimationController,"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(()=>this.init())):this.init()}init(){this.initializeFirstCanvas(),this.setupEventListeners(),this.initPreviewSystem(),this.setupDownloadButton(),this.updateTime(),setInterval(this.updateTime,6e4),this.initOnboarding()}initializeFirstCanvas(){this.createNewCanvas();const e=document.querySelector(".canvas");e.classList="canvas selected",e&&(this.state.selectedCanvases.add(e),e.addEventListener("click",(e=>this.handleCanvasSelection(e))))}updateTime(){const e=new Date,t=e.getHours().toString().padStart(2,"0")+":"+e.getMinutes().toString().padStart(2,"0");document.querySelectorAll(".time").forEach((e=>{e.textContent=t}))}initializeSortable(e){return new Sortable(e,{animation:150,handle:".component-handle, .card-image",ghostClass:"sortable-ghost",group:"shared-components",swapThreshold:.85,scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0,onEnd:function(e){$(e.item).trigger("mouseleave");const t=e=>{e.querySelectorAll(".color-swatch-container").forEach((e=>{e.style.visibility="hidden",e.style.opacity="0"}));const t=e.querySelector(".prev-btn"),n=e.querySelector(".next-btn"),o=e.querySelector(".variant-number"),a=e.querySelector(".add-image-button"),s=e.querySelector(".size-control"),r=e.querySelector(".left-arrow"),i=e.querySelector(".right-arrow");[e.querySelector(".resize-handle"),a,s,r,i,e.querySelector(".alignment-controls")].forEach((e=>{e&&(e.style.display="none")})),[t,n,o].forEach((e=>{e&&(e.style.opacity="0")}))};t(e.from),t(e.to)},onAdd:function(e){e.item.style.width="100%"},onMove:function(e){return!e.related.classList.contains("navbar-spacer")},onStart:function(e){e.item.querySelector(".space-range:active")&&e.preventDefault()}})}setupEventListeners(){document.querySelectorAll(".component-btn, .addHeadingButton").forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault(),this.handleComponentAddition(e)}))}));const e=document.querySelector(".add-canvas-btn");e&&e.addEventListener("click",(e=>{e.preventDefault(),this.createNewCanvas()})),document.addEventListener("click",(e=>{e.target.classList.contains("delete-canvas-btn")&&this.handleCanvasDelete(e)}))}initPreviewSystem(){document.querySelectorAll(".preview-trigger").forEach((e=>{e.addEventListener("click",(e=>{this.handlePreviewTrigger(e)}))}))}handlePreviewTrigger(e){const t=e.currentTarget,n=t.closest(".comp-btn-wrap"),o=n.querySelector(".component-btn").getAttribute("data-component"),a=n.querySelector(".preview-container"),s=t.querySelector(".toggle-icon");if(s.style.transition="transform 0.3s ease",a)return void("0px"!==a.style.maxHeight?(a.style.maxHeight="0",s.style.transform="rotate(0deg)",setTimeout((()=>{a.style.display="none"}),300)):(s.style.transform="rotate(180deg)",a.style.display="block",requestAnimationFrame((()=>{a.style.maxHeight=a.querySelector("div").scrollHeight+32+"px"}))));s.style.transform="rotate(180deg)";const r=document.createElement("div");r.className="preview-container",r.style.cssText="\n        border-radius: 4px;\n        overflow: hidden;\n        max-height: 0;\n        transition: max-height 0.3s ease-out;\n        flex-grow: 12;\n    ";const i=document.createElement("div");if(i.style.padding="24px 10px 6px 10px",i.style.maxWidth="100%",i.style.overflow="hidden",i.style.marginBottom="4px",this.components[o]){let e=this.components[o](),t=this.wrapComponentInContainer(e,o);t.classList.add("preview-component"),i.appendChild(t),r.appendChild(i),n.appendChild(r),new Sortable(i,{group:{name:"shared-components",put:!1,pull:"clone"},sort:!1,handle:".component-handle",animation:150,onStart:e=>{const t=e.item;t.setAttribute("data-preview-state","true");t.querySelectorAll(".color-swatch-container").forEach((e=>{e.style.visibility="hidden"}))},onEnd:e=>{const t=e.item;if(e.clone&&e.clone.remove(),e.to.classList.contains("canvas-content")||e.to.classList.contains("colorBlock-inner")||e.to.classList.contains("accordion-content")||e.to.classList.contains("column-container")){this.duplicateComponent(t,o)&&(e.to.appendChild(t),"true"===t.getAttribute("data-preview-state")&&(t.removeAttribute("data-preview-state"),i.appendChild(t)))}"true"===t.getAttribute("data-preview-state")&&(t.removeAttribute("data-preview-state"),i.appendChild(t))}}),requestAnimationFrame((()=>{r.style.maxHeight=i.scrollHeight+32+"px"}))}}handleComponentAddition(e){const t=e.getAttribute("data-component"),n=this.state.selectedCanvases.size>0?Array.from(this.state.selectedCanvases):document.querySelectorAll(".canvas");if(["navbar","bottomNav","modal","floatingActionButton"].includes(t)){if(Array.from(n).some((e=>e.querySelector("navbar"===t?".navbar":"bottomNav"===t?"nav":"modal"===t?".ui-modal":".fab"))))return void this.removeComponent(t,n)}n.forEach((n=>{if(!n)return void console.error("No canvas found");let o,a,s;switch(t){case"navbar":o=this.components.navbar(),this.insertNavbar(n,o,"top");break;case"bottomNav":o=this.components.bottomNav(),this.insertNavbar(n,o,"bottom");break;case"modal":if(this.modalAdded){const e=n.querySelector(".modal-wrapper");e&&e.remove()}else o=this.components.modal(),n.appendChild(o);break;case"floatingActionButton":this.fabAdded||(o=this.components.floatingActionButton(),n.appendChild(o));break;case"hero":if(o=this.components.hero(),a=this.wrapComponentInContainer(o,"hero"),s=n.querySelector(".canvas-content"),s){const e=s.firstChild;n.querySelector(".navbar-spacer")&&e?s.insertBefore(a,e.nextSibling):e?s.insertBefore(a,e):s.appendChild(a)}break;case"heading":const r=e.getAttribute("data-level");if(o=this.components.heading(null,r||"h1","Heading Text"),a=this.wrapComponentInContainer(o,"heading"),s=n.querySelector(".canvas-content"),s){const e=s.querySelector("footer")?.closest(".component-container");e?s.insertBefore(a,e):s.appendChild(a)}break;default:if(o=this.components[t]?.(),a=this.wrapComponentInContainer(o,t),s=n.querySelector(".canvas-content"),s){const e=s.querySelector("footer")?.closest(".component-container");e?s.insertBefore(a,e):s.appendChild(a)}}if(!["navbar","bottomNav","modal"].includes(t)){const e=n.querySelector(".phoneScrollCon");e&&(e.scrollTop="hero"===t?0:e.scrollHeight)}}))}setupVariantControls(e,t,n){const o=setupVariants(n)||[],a=o.length;if(a>1){const s=document.createElement("div");s.classList="variant-controls",s.style.cssText="\n            position: absolute; \n            top: -24px; \n            left: 50%; \n            transform: translateX(-50%); \n            gap: 4px; \n            align-items: center; \n            padding: 4px; \n            background-color: var(--interface-color); \n            border-radius: 6px; \n            z-index: 9939939;\n        ";const r=document.createElement("button");r.innerHTML='<i class="fas fa-circle-left"></i>',r.className="nav-control prev-nav",r.style.cssText="\n            background: var(--variant-nav-btn); \n            padding: 1px; \n            border-radius: 50%; \n            border: none; \n            color: var(--input-bg-color); \n            font-size: 20px;\n            cursor: pointer;\n            transition: opacity 0.3s;\n        ";const i=document.createElement("button");i.innerHTML='<i class="fas fa-circle-right"></i>',i.className="nav-control next-nav",i.style.cssText=r.style.cssText;const l=document.createElement("span");l.style.cssText="\n            transition: opacity 0.3s; \n            color: white; \n            font-size: 14px; \n            min-width: 30px; \n            text-align: center;\n        ",l.textContent=`1/${a}`,s.appendChild(r),s.appendChild(l),s.appendChild(i),e.appendChild(s);const c=s=>{const r=parseInt(t.dataset.currentVariant,10)||0,i=t.dataset.variantCache?JSON.parse(t.dataset.variantCache):{};i[r]=t.innerHTML,t.dataset.variantCache=JSON.stringify(i);const c=(r+s+a)%a;t.dataset.currentVariant=c;if(t.parentElement.querySelectorAll(".color-swatch-container").forEach((e=>e.remove())),i[c])t.innerHTML=i[c];else{const e=document.createElement("div");e.innerHTML=o[c];const n=e.firstChild;t.innerHTML="",t.appendChild(n)}t.querySelectorAll("*").forEach((e=>{1!==e.childNodes.length||e.childNodes[0].nodeType!==Node.TEXT_NODE||e.classList.contains("non-editable")||e.setAttribute("contentEditable","true")})),this.setupInputListeners(t,n),this.createColorSwatchesForVariant(e,t),"avatar"===n&&this.createAlignmentControlsForVariant(t,n),"progressBar"===n&&this.setupProgressBar(e,76),"icon"===n&&this.setupIconPicker(t),this.setupImageUpload(t),this.setupResize(e);const d=e.querySelectorAll(".resizeable");d.length&&d.forEach((e=>{resizer.makeResizable(e)})),l.textContent=`${c+1}/${a}`};return r.addEventListener("click",(()=>c(-1))),i.addEventListener("click",(()=>c(1))),s}return null}createColorSwatchesForVariant(e,t){t.querySelectorAll('[style*="var(--color"]').forEach((t=>{const n=createColorSwatches(t);Array.isArray(n)?n.forEach((t=>{t&&t.children.length>0&&e.insertBefore(t,e.firstChild)})):n&&n.children.length>0&&e.insertBefore(n,e.firstChild)}))}createAlignmentControlsForVariant(e,t){if(["avatar","icon","floatingActionButton"].includes(t)){e.querySelectorAll(".alignment-arrow").forEach((e=>e.remove()));const t=e.style.justifyContent||"center";createAlignmentControls(e).setAlignment(t)}}setupInputListeners(e,t){if("input"===t||"searchBar"===t){e.querySelectorAll("[contenteditable=true]").forEach((e=>{e.addEventListener("input",(function(){""===this.textContent.trim()?this.classList.add("empty"):this.classList.remove("empty")})),e.addEventListener("keypress",(e=>{"Enter"===e.key&&e.preventDefault()})),e.addEventListener("paste",(e=>{e.preventDefault();const t=(e.clipboardData||window.clipboardData).getData("text/plain");document.execCommand("insertText",!1,t)}))}))}if("textarea"===t){e.querySelectorAll("[contenteditable=true]").forEach((e=>{e.addEventListener("input",(function(){""===this.textContent.trim()?this.classList.add("empty"):this.classList.remove("empty")}))}))}}setupNotificationBanner(e){const t=e.querySelector(".notification-action"),n=e.querySelector(".visibility-toggle");if(t&&n){n.replaceWith(n.cloneNode(!0));const o=e.querySelector(".visibility-toggle");o.addEventListener("click",(()=>{const e="true"===t.dataset.alwaysVisible;t.dataset.alwaysVisible=(!e).toString(),t.style.display=e?"none":"block",o.innerHTML=e?'<i class="fas fa-eye-slash"></i>':'<i class="fas fa-eye"></i>'}))}}setupProgressTracker(e){if(!e)return;let t=e.querySelector(".steps-container");if(!t){t=document.createElement("div"),t.className="steps-container",t.style.cssText="display: flex; align-items: center; width: 100%; position: relative;";Array.from(e.querySelectorAll("[data-step]")).forEach((e=>t.appendChild(e)));const n=e.querySelector(".progress-tracker-controls");n?e.insertBefore(t,n):e.appendChild(t)}function n(e){const t=document.createElement("div");t.style.cssText="display: flex; flex-direction: column; align-items: center; gap: 8px; z-index: 2; flex: 0 1 auto; text-align: center; cursor: pointer;",t.setAttribute("data-step","");const n=document.createElement("div");n.style.cssText=`\n            width: 36px;\n            height: 36px;\n            border-radius: 50%;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            font-weight: bold;\n            margin: 0 6px;\n            ${0===e?"background-color: var(--color-primary); color: white;":"background-color: var(--neutral-gray); color: #666;"}\n        `,n.textContent=(e+1).toString(),n.setAttribute("contentEditable","true");const a=document.createElement("div");return a.textContent=`Step ${e+1}`,a.style.cssText="font-size: 14px; color: #666; font-weight: 500;",a.setAttribute("contentEditable","true"),t.appendChild(n),t.appendChild(a),t.style.cursor="pointer",t.addEventListener("click",(()=>{o(t)})),t}function o(t){e.querySelectorAll("[data-step] div:first-child").forEach((e=>{e.style.backgroundColor="var(--neutral-gray)",e.style.color="#666"}));const n=t.querySelector("div:first-child");n.style.backgroundColor="var(--color-primary)",n.style.color="var(--basic-text-color)"}function a(){t.querySelectorAll(".connecting-line").forEach((e=>e.remove()));const e=t.querySelectorAll("[data-step]");e.forEach(((n,o)=>{if(o<e.length-1){const n=function(){const e=document.createElement("div");return e.style.cssText="height: 2px; background-color: #E0E0E0; flex: 1; margin: -22px 0 0 0; align-self: center; border-radius: 2px",e.classList.add("connecting-line"),e}();t.insertBefore(n,e[o+1])}}))}function s(){t.querySelectorAll("[data-step]").forEach(((e,t)=>{const n=e.querySelector("div:first-child");n&&(n.textContent=(t+1).toString())})),a(),function(){const n=e.querySelector(".progress-tracker-controls");if(!n)return;const o=t.querySelectorAll("[data-step]"),a=n.querySelector("button:first-child"),s=n.querySelector("button:last-child");a&&s&&(a.style.opacity=1===o.length?"0.5":"1",a.style.cursor=1===o.length?"default":"pointer",s.style.opacity=5===o.length?"0.5":"1",s.style.cursor=5===o.length?"default":"pointer")}()}const r=e.querySelector(".progress-tracker-controls");if(r){const e=r.querySelector("button:last-child"),o=r.querySelector("button:first-child");e&&(e.onclick=()=>{const e=t.querySelectorAll("[data-step]");if(e.length<5){const o=n.call(this,e.length);t.appendChild(o),s()}}),o&&(o.onclick=()=>{const e=t.querySelectorAll("[data-step]");e.length>1&&(e[e.length-1].remove(),s())})}e.querySelectorAll("[data-step]").forEach((e=>{e.addEventListener("click",(()=>{o(e)}))})),s()}setupChipGroup(e){if(!e)return;const t=e.querySelector(".chip-group-container"),n=e.querySelector(".add-chip-btn");if(!t||!n)return;const o=e=>{const t=e.querySelector("span"),n=e.querySelector(".remove-chip");t&&t.setAttribute("contentEditable","true"),e.addEventListener("click",(o=>{if(o.target!==n&&o.target!==t){const t="true"===e.getAttribute("data-selected");e.style.backgroundColor=t?"var(--neutral-gray)":"var(--color-primary)",e.setAttribute("data-selected",!t)}})),n&&n.addEventListener("click",(t=>{t.stopPropagation(),e.remove()}))};n.addEventListener("click",(()=>{if(t.children.length<25){const e=document.createElement("div");e.className="chip";const n=document.createElement("span");n.textContent="New Pill",n.setAttribute("contentEditable","true");const a=document.createElement("i");a.className="fas fa-times remove-chip",e.appendChild(n),e.appendChild(a),t.appendChild(e),o(e)}})),t.querySelectorAll(".chip").forEach(o)}setupTabs(e){if(!e)return;const t=e.querySelector(".tabs-wrapper"),n=e.querySelector(".tabs-controls"),o=n?.querySelector(".tabs-add-btn"),a=n?.querySelector(".tabs-remove-btn");if(!(t&&n&&o&&a))return;const s=e=>{t.querySelectorAll(".ui-tab").forEach((e=>{e.classList.remove("selected"),e.style.backgroundColor="var(--neutral-gray)",e.style.color="var(--basic-txt-color)"})),e.classList.add("selected"),e.style.backgroundColor="var(--color-primary)",e.style.color="white"};t.querySelectorAll(".ui-tab").forEach((e=>{e.addEventListener("click",(()=>s(e))),e.classList.contains("selected")&&s(e)})),o.addEventListener("click",(()=>{if(t.children.length<5){const e=(e=>{const t=document.createElement("div");return t.textContent=`Tab ${e}`,t.setAttribute("contentEditable","true"),t.className="ui-tab",t.style.cssText="\n                background-color: var(--color-primary);\n                color: var(--basic-txt-color);\n                border: none;\n                margin-right: 1px;\n                padding: 10px 8px;\n                cursor: pointer;\n                flex: 1;\n            ",t.addEventListener("click",(()=>s(t))),t})(t.children.length+1);t.appendChild(e),s(e)}})),a.addEventListener("click",(()=>{t.children.length>1&&t.removeChild(t.lastChild)}))}setupGraph(e,t){}wrapComponentInContainer(e,t){const n=document.createElement("div");for(n.className="component-container",n.setAttribute("data-component-type",t);n.firstChild;)n.removeChild(n.firstChild);const o=document.createElement("div");o.className="component-handle",o.textContent="⋮";const a=document.createElement("div");a.className="component-content";const s=document.createElement("button");s.className="delete-btn",s.textContent="×";const r=document.createElement("button");if(r.className="duplicate-btn",r.setAttribute("title","duplicate"),r.innerHTML='<i class="fa-solid fa-copy"></i>',n.append(o,a,s,r),this.setupImageUpload(a),e.container&&"function"==typeof e.setup?(a.appendChild(e.container),e.setup()):a.appendChild(e),a.querySelector('[style*="var(--color"]')){a.querySelectorAll('[style*="var(--color"]').forEach((e=>{const t=createColorSwatches(e);Array.isArray(t)?t.forEach((e=>{e&&e.children.length>0&&n.insertBefore(e,n.firstChild)})):t&&t.children.length>0&&n.insertBefore(t,n.firstChild)}))}this.setupVariantControls(n,a,t,(e=>{changeVariant(a,e)})),this.setupInputListeners(a,t),this.setupComponentHandlers(this,n,t),this.setupIconPicker(a),this.setupImageUpload(a),this.setupResize(n),createColorSwatches(a);const i=n.querySelectorAll(".resizeable");return i.length&&i.forEach((e=>{resizer.makeResizable(e)})),n}setupDeleteHandler(e){const t=e.querySelector(".delete-btn");t&&t.addEventListener("click",(()=>{e.classList.add("delete-animation"),setTimeout((()=>{e.remove()}),200)}))}setupDuplicateHandler(e,t,n){const o=t.querySelector(".duplicate-btn");o&&o.addEventListener("click",(()=>{e.duplicateComponent(t,n)}))}setupProgressBar(e,t=76){t=Math.min(100,Math.max(0,Math.round(t)));const n=e.querySelector(".progress-bar"),o=n.querySelector("svg"),a=n.querySelector('svg path[fill="var(--color-primary)"]'),s=n.querySelectorAll("path[stroke-dasharray]"),r=n.querySelector("div > div"),i=e.querySelector('[contenteditable="true"]');function l(e){if(a){const t=e/100*2*Math.PI,n=Math.cos(t),o=Math.sin(t),s=`M 0 0 L 1 0 A 1 1 0 ${e>50?1:0} 1 ${n} ${o} L 0 0`;a.setAttribute("d",s)}else s.length?s.forEach((t=>{t.setAttribute("stroke-dasharray",`${e}, 100`)})):r&&(r.style.width=e+"%");i.textContent=e+"%"}n&&(a||s.length||r)&&i&&(l(t),n.addEventListener("click",(e=>{if(e.target===i||i.contains(e.target))return;const t=n.getBoundingClientRect();if(o){const n=t.left+t.width/2,o=t.top+t.height/2;let a=Math.atan2(e.clientY-o,e.clientX-n);a+=Math.PI/2,a<0&&(a+=2*Math.PI);let s=a/(2*Math.PI)*100;l(Math.round(s))}else{const n=e.clientX-t.left,o=t.width;l(Math.round(n/o*100))}})),i.addEventListener("input",(()=>{let e=i.textContent;e=e.replace(/[^\d%]/g,""),e=e.replace(/%/g,"")+"%";let t=parseInt(e);isNaN(t)||(t=Math.min(100,Math.max(0,t)),l(t))})),i.addEventListener("blur",(()=>{let e=parseInt(i.textContent);isNaN(e)&&(e=0),e=Math.min(100,Math.max(0,e)),l(e)})),i.addEventListener("keydown",(e=>{"Enter"===e.key&&(e.preventDefault(),i.blur())})))}setupComponentHandlers(e,t,n){this.setupDeleteHandler(t),this.setupDuplicateHandler(e,t,n),"progressBar"===n&&this.setupProgressBar(t)}setupIconPicker=e=>{e.querySelectorAll(".icon-container i").forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault(),showIconPicker(e)}))}))};setupResize(e){const t=e.querySelector("[data-placeholder]"),n=e.querySelector(".resize-handle");if(!n||!t)return;let o,a;function s(e){const n=a+(e.clientY-o);n>=80&&(t.style.height=`${n}px`)}function r(){document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",r)}n.addEventListener("mousedown",(e=>{o=e.clientY,a=parseInt(window.getComputedStyle(t).height),document.addEventListener("mousemove",s),document.addEventListener("mouseup",r),e.preventDefault()}))}setupImageUpload(e){e.querySelectorAll(".card-image, .nav-image").forEach((t=>{function n(n){const o=n.target?.files?.[0]||n.dataTransfer?.files?.[0];if(o&&o.type.startsWith("image/")){const n=new FileReader;n.onload=n=>{!function(n){t.style.backgroundImage=`url(${n})`,t.style.position="relative",t.style.backgroundSize="cover",t.style.backgroundPosition="center",t.innerHTML="";const o=e.querySelectorAll(".resizeable");o.length&&o.forEach((e=>{resizer.makeResizable(e)}))}(n.target.result)},n.readAsDataURL(o)}}t.addEventListener("click",(()=>{const e=document.createElement("input");e.type="file",e.accept="image/*",e.onchange=n,e.click()})),["dragenter","dragover","dragleave","drop"].forEach((e=>{t.addEventListener(e,(e=>{e.dataTransfer&&e.dataTransfer.types.includes("Files")&&(e.preventDefault(),e.stopPropagation())}))})),t.addEventListener("dragenter",(e=>{if(e.dataTransfer&&e.dataTransfer.types.includes("Files")){const n=e.dataTransfer.items;Array.from(n).some((e=>"file"===e.kind&&e.type.startsWith("image/")))&&(t.style.outline="2px dashed var(--color-primary)",t.style.outlineOffset="-8px",t.style.backgroundColor="rgba(52, 152, 219, 0.1)")}})),t.addEventListener("dragleave",(()=>{t.style.outline="none",t.style.outlineOffset="0",t.style.backgroundColor="var(--neutral-gray)"})),t.addEventListener("drop",(e=>{if(e.dataTransfer&&e.dataTransfer.types.includes("Files")){e.preventDefault();const n=e.dataTransfer.files[0];if(n&&n.type.startsWith("image/")){const e=new FileReader;e.onload=e=>{t.style.backgroundImage=`url(${e.target.result})`,t.style.backgroundSize="cover",t.style.backgroundPosition="center",t.innerHTML=""},e.readAsDataURL(n)}}t.style.outline="none",t.style.outlineOffset="0",t.style.backgroundColor="var(--neutral-gray)"})),t.addEventListener("dragenter",(e=>{if(e.dataTransfer.types.includes("Files")){const n=e.dataTransfer.items;Array.from(n).some((e=>"file"===e.kind&&e.type.startsWith("image/")))&&(t.style.outline="2px dashed var(--color-primary)",t.style.outlineOffset="-8px",t.style.backgroundColor="rgba(52, 152, 219, 0.1)")}})),t.addEventListener("dragleave",(e=>{e.dataTransfer.types.includes("Files")&&(t.style.outline="none",t.style.outlineOffset="0",t.style.backgroundColor="var(--neutral-gray)")})),t.addEventListener("drop",(function(e){if(function(e){e.preventDefault(),e.stopPropagation()}(e),t.style.outline="none",t.style.outlineOffset="0",t.style.backgroundColor="var(--neutral-gray)",e.dataTransfer.types.includes("Files")){const t=e.dataTransfer.items;Array.from(t).some((e=>"file"===e.kind&&e.type.startsWith("image/")))&&n(e)}}))}))}createDuplicate(e,t,n=!1){const o=n?e.cloneNode(!0).firstElementChild:this.components[t]?.(e);if(!o)return null;const a=this.wrapComponentInContainer(o,t);if(n){a.querySelectorAll(".resize-handle").forEach((e=>e.style.display="none"))}const s=a.querySelector(".component-content > *");return this.copyUserModifications(e,s),s.querySelectorAll('[contenteditable="true"]').forEach((e=>{e.addEventListener("keypress",(e=>{"Enter"===e.key&&e.preventDefault()})),e.addEventListener("paste",(e=>{e.preventDefault();const t=(e.clipboardData||window.clipboardData).getData("text/plain");document.execCommand("insertText",!1,t)}))})),this.components[t]?.setup&&this.components[t].setup(s),s.classList.contains("blankSpace")&&this.copyAdjustableSpaceState(e,s),s.classList.contains("iconContainerClass")&&this.copyIconState(e,s),s.classList.contains("hzRule")&&this.copyDividerState(e,s),a}duplicateComponent(e,t){const n=e.querySelector(".component-content > *"),o=this.createDuplicate(n,t,!1);if(o){e.parentNode.insertBefore(o,e.nextSibling);o.querySelector(".component-content > *").classList.add("duplicate-animation");o.querySelectorAll(".resize-handle").forEach((e=>e.style.display="none"))}}copyUserModifications(e,t){const n=e.querySelectorAll("[data-component-type]");n.length>0&&n.forEach((e=>{const n=e.dataset.componentType,o=this.createDuplicate(e,n);if(o){const e=t.querySelector(`[data-component-type="${n}"]`);if(e)e.replaceWith(o);else{const e=t.querySelector(".component-content");e&&e.appendChild(o)}}}));const o=e.querySelector('div[style*="padding"]'),a=t.querySelector('div[style*="padding"]');o&&a&&(a.style.cssText=o.style.cssText),"true"===e.getAttribute("contentEditable")&&(t.textContent=e.textContent,""===e.textContent.trim()?t.classList.add("empty"):t.classList.remove("empty"));const s=e.querySelectorAll('[contenteditable="true"]'),r=t.querySelectorAll('[contenteditable="true"]');s.forEach(((e,t)=>{r[t]&&(r[t].textContent=e.textContent,""===e.textContent.trim()?r[t].classList.add("empty"):r[t].classList.remove("empty"))}));const i=e.querySelectorAll(".fa-square-check"),l=t.querySelectorAll(".fa-square-check");i.forEach(((e,t)=>{l[t]&&(l[t].style.display=e.style.display)})),t.classList.contains("blankSpace")&&this.copyAdjustableSpaceState(e,t),t.classList.contains("iconContainerClass")&&this.copyIconState(e,t),t.classList.contains("hzRule")&&this.copyDividerState(e,t)}setupComponentControls(e){e.addEventListener("mouseover",(t=>{const n=t.target.closest(".component-container");e.querySelectorAll(".component-container").forEach((e=>e.classList.add("controls-hidden"))),e.classList.contains("component-container")&&e.classList.add("controls-hidden"),n&&e.contains(n)&&(n.classList.remove("controls-hidden"),t.stopPropagation())})),e.addEventListener("mouseleave",(()=>{e.querySelectorAll(".component-container").forEach((e=>e.classList.remove("controls-hidden"))),e.classList.contains("component-container")&&e.classList.remove("controls-hidden")}))}copyAdjustableSpaceState(e,t){const n=t.querySelector(".space-range"),o=t.querySelector(".height-display"),a=e.offsetHeight;n.value=a,o.value=a,n&&o&&(n.addEventListener("input",(()=>{const e=n.value;t.style.height=`${e}px`,o.value=e})),o.addEventListener("change",(()=>{const e=o.value;t.style.height=`${e}px`,n.value=e})))}copyIconState(e,t){const n=t.querySelector("i:not(.iconControls)"),o=t.querySelector("input.iconControls");if(n){let e=getComputedStyle(n).fontSize||n.style.fontSize;const t=parseInt(e,10)||24;o.value=t,o.addEventListener("input",(e=>{n.style.fontSize=`${e.target.value}px`}))}else console.error("iconElement not found or not in the DOM");n.hasAttribute("data-listeners-attached")||(o.addEventListener("input",(e=>{n.style.fontSize=`${e.target.value}px`})),n.addEventListener("click",(e=>{e.preventDefault(),showIconPicker(n)})),n.setAttribute("data-listeners-attached","true"))}setupDividerState(e){const t=e.querySelector(".divider-line"),n=e.querySelector('input[type="range"]'),o=e.querySelectorAll(".hzRuleControls i");t&&n&&o&&(n.addEventListener("input",(e=>{t.style.borderWidth=`${e.target.value}px 0 0 0`})),o.forEach((e=>{e.addEventListener("click",(()=>{const o=e.title.toLowerCase(),a=n.value;t.style.borderStyle="dotted"===o?"dotted":"double"===o?"double":"solid",t.style.borderWidth=`${a}px 0 0 0`}))})))}copyDividerState(e,t){this.setupDividerState(t)}removeComponent(e,t){t.forEach((t=>{const n=t.querySelector(".canvas-content");switch(e){case"navbar":const e=t.querySelector(".navContain");if(e){e.remove();let t=n.querySelector(".navbar-spacer");t&&t.remove(),n.style.paddingTop="28px"}break;case"bottomNav":const o=t.querySelector(".bottomNavContain");o&&o.remove();break;case"modal":const a=t.querySelector(".modal-wrapper");a&&(a.remove(),this.modalAdded=!1);break;case"floatingActionButton":const s=t.querySelector(".fab");s&&(s.remove(),this.fabAdded=!1)}}))}createNewCanvas(){this.state.canvasCount++;const e=document.createElement("div");e.className="canvas-wrapper";const t=`canvas-${this.state.canvasCount}`,n=new Date,o=n.getHours().toString().padStart(2,"0")+":"+n.getMinutes().toString().padStart(2,"0");e.innerHTML=`\n        <div class="canvas-number-container">\n            <div class="dimension-indicator">\n                <div>\n                    <i class="fa-solid fa-mobile-screen"></i>\n                    <span class="dimensions"></span>\n                </div>\n            </div>\n            <div class="spaceHolder"></div>\n            <div class="canvas-number" >Canvas ${this.state.canvasCount}</div>\n            <div>\n                <button class="delete-canvas-btn">×</button>\n            </div>\n        </div>\n\n        <div class="canvas" id="${t}">\n\n            <div class="status-bar">\n                <div class="mobile-status">\n                    <span class="time">${o}</span>\n                    <div class="camera"></div>\n                    <div class="iphone-notch" style="display: none"></div>\n                    <div class="dynamic-island" style="display: none"></div>\n                    <div class="icons">\n                        <i class="fa-solid fa-signal"></i>\n                        <i class="fa-solid fa-wifi"></i>\n                        <i style="font-size: 14px;" class="fa-solid fa-battery-full"></i>\n                    </div>\n                    <div style="width: 100%; height: 28px; background-color: rgba(51, 51, 51, 0.48); z-index: -1; position: absolute; top: 0; left: 0;"></div>\n                </div>\n        \n                <div class="desktop-status" style="display: none">\n                    <div class="browser-actions">\n                        <span class="browser-dot"></span>\n                        <span class="browser-dot"></span>\n                        <span class="browser-dot"></span>\n                    </div>\n                    <div class="browser-address" contenteditable>\n                        <i class="fa-solid fa-lock"></i>\n                        <span>dlightning.org</span>\n                    </div>\n                    <div class="icon-container" style="display: flex; gap: 8; margin-right: 28px;">\n                    <i class="fa-solid fa-circle-user"></i>\n                    </div>\n                    <div style="width: 100%; height: 28px; background-color: rgba(51, 51, 51, 0.48); z-index: -1; position: absolute; top: 0; left: 0;"></div>\n                </div>\n                \n            </div>\n\n            <div class="phoneScrollCon">\n                <div class="canvas-content"></div>\n            </div>\n        </div>\n        \n    `;const a=e.querySelector(".canvas"),s=e.querySelector(".dimensions"),r=e.querySelector(".dimension-indicator i"),i=()=>{const{offsetWidth:t,offsetHeight:n}=a,o=a.querySelector(".status-bar"),i=o.querySelector(".mobile-status"),l=o.querySelector(".desktop-status"),c=o.querySelector(".iphone-notch"),d=o.querySelector(".dynamic-island"),p=o.querySelector(".camera"),u=e.querySelector(".canvas-content");s.matches(":focus")||(s.textContent=`${t-6} × ${n-6}`),t<480?(r.className="fa-solid fa-mobile-screen",o.style.display="block",d.style.display="none",c.style.display="none",u.style.paddingTop="28px",u.style.minHeight="calc(100% - 100px)",396===t&&850===n?d.style.display="block":(381===t&&673===n||420===t&&902===n||434===t&&932===n)&&(c.style.display="block")):t<1024?(r.className="fa-solid fa-tablet-screen-button",o.style.display="none",i.style.display="flex",l.style.display="none",d.style.display="none",c.style.display="none",u.style.paddingTop="0px",u.style.minHeight="calc(100% - 72px)",p&&(p.style.display="block")):(r.className="fa-solid fa-desktop",o.style.display="block",i.style.display="none",l.style.display="flex",d.style.display="none",c.style.display="none",u.style.paddingTop="28px",u.style.minHeight="calc(100% - 100px)",p&&(p.style.display="none"))};s.contentEditable=!0,s.spellcheck=!1;s.addEventListener("focus",(()=>{s.dataset.original=s.textContent})),s.addEventListener("blur",(()=>{const e=(e=>{const t=e.match(/(\d+)\s*×\s*(\d+)/);return t?{width:parseInt(t[1],10),height:parseInt(t[2],10)}:null})(s.textContent);if(e){const t=Math.max(160,e.width),n=Math.max(142,e.height);a.style.width=`${t}px`,a.style.height=`${n}px`,s.textContent=`${t} × ${n}`}else s.textContent=s.dataset.original})),s.addEventListener("keydown",(e=>{"Enter"===e.key&&(e.preventDefault(),s.blur()),"Escape"===e.key&&(e.preventDefault(),s.textContent=s.dataset.original,s.blur())})),s.addEventListener("mousedown",(e=>{e.target===s&&e.stopPropagation()}));new ResizeObserver(i).observe(a),i();const l=e.querySelector(".dimension-indicator i"),c=this.createScreenSizeModal();l.addEventListener("click",(e=>{e.stopPropagation(),c.style.display="flex";c.querySelectorAll(".screen-size-option").forEach((e=>{e.onclick=()=>{const t=parseInt(e.dataset.width),n=parseInt(e.dataset.height);a.style.width=`${t}px`,a.style.height=`${n}px`,a.style.transition="height 200ms, width 200ms";const o=t-6,i=n-6;s.textContent=`${o} × ${i}`,r.className=t<480?"fa-solid fa-mobile-screen":t<1024?"fa-solid fa-tablet-screen-button":"fa-solid fa-desktop",c.style.display="none",setTimeout((()=>{a.style.transition="none"}),200)}}))}));const d=document.querySelector(".add-canvas-btn");d&&d.parentElement?d.parentElement.insertBefore(e,d):document.querySelector(".canvas-container").appendChild(e);const p=e.querySelector(".canvas");p.addEventListener("click",(e=>this.handleCanvasSelection(e)));const u=p.querySelector(".canvas-content");u&&this.initializeSortable(u),this.updateCanvasNumbers()}createScreenSizeModal(){const e=document.createElement("div");e.className="screen-size-modal",e.style.display="none";e.innerHTML=`\n        <div class="screen-size-modal-content">\n            <div class="screen-size-modal-header">\n                <h3>Standard Screen Sizes</h3>\n                <button class="screen-size-modal-close">×</button>\n            </div>\n            <div class="screen-size-modal-body">\n                ${[{name:"Galaxy Z Flip",width:320,height:746,icon:"mobile-screen"},{name:"Android Small",width:360,height:640,icon:"mobile-screen"},{name:"Pixel 4",width:360,height:740,icon:"mobile-screen"},{name:"Android Average",width:360,height:800,icon:"mobile-screen"},{name:"iPhone SE",width:375,height:667,icon:"mobile-screen"},{name:"Pixel 3",width:380,height:780,icon:"mobile-screen"},{name:"iPhone 12/13/14",width:390,height:844,icon:"mobile-screen"},{name:"Pixel 6",width:412,height:915,icon:"mobile-screen"},{name:"iPhone XR/11",width:414,height:896,icon:"mobile-screen"},{name:"Pixel 7",width:420,height:933,icon:"mobile-screen"},{name:"iPhone 12/13/14 Pro Max",width:428,height:926,icon:"mobile-screen"},{name:"Galaxy Z Fold",width:468,height:832,icon:"mobile-screen"},{name:"Galaxy Tab S7",width:712,height:1138,icon:"tablet-screen-button"},{name:"iPad Mini",width:768,height:1024,icon:"tablet-screen-button"},{name:"Galaxy Tab S8",width:800,height:1280,icon:"tablet-screen-button"},{name:"iPad Air",width:820,height:1180,icon:"tablet-screen-button"},{name:'iPad Pro 11"',width:834,height:1194,icon:"tablet-screen-button"},{name:"Galaxy Tab S8+",width:880,height:1440,icon:"tablet-screen-button"},{name:'iPad Pro 12.9"',width:1024,height:1366,icon:"tablet-screen-button"},{name:"Small Desktop",width:1280,height:720,icon:"desktop"},{name:"HD Desktop",width:1366,height:768,icon:"desktop"},{name:"Full HD",width:1920,height:1080,icon:"desktop"}].map((e=>`\n                    <div class="screen-size-option" data-width="${e.width}" data-height="${e.height}">\n                        <i class="fa-solid fa-${e.icon}"></i>\n                        <div class="screen-size-info">\n                            <div class="screen-size-name">${e.name}</div>\n                            <div class="screen-size-dimensions">${e.width} × ${e.height}</div>\n                        </div>\n                    </div>\n                `)).join("")}\n            </div>\n        </div>\n    `,document.body.appendChild(e),e.addEventListener("click",(t=>{t.target===e&&(e.style.display="none")}));return e.querySelector(".screen-size-modal-close").addEventListener("click",(()=>{e.style.display="none"})),e}handleCanvasDelete(e){const t=e.target.closest(".canvas-wrapper");if(!t)return;const n=t.querySelector(".canvas");if(confirm("Are you sure you want to delete this canvas?")){if(this.state.selectedCanvases.has(n)){this.state.selectedCanvases.delete(n);const e=t.previousElementSibling?.querySelector(".canvas");e&&this.handleSingleSelect(e)}t.classList.add("delete-animation"),setTimeout((()=>{t.remove(),this.updateCanvasNumbers()}),200)}}makeTextEditable(e){e.addEventListener("click",(function(){if(e.querySelector("input"))return;const t=this.textContent,n=document.createElement("input");n.value=t,n.style.width="100%",n.style.boxSizing="border-box",n.style.font=window.getComputedStyle(this).font,e.dataset.originalText=t,this.textContent="",this.appendChild(n),n.focus(),n.addEventListener("blur",(function(){const t=this.value||e.dataset.originalText;this.remove(),e.textContent=t})),n.addEventListener("keypress",(function(e){"Enter"===e.key&&this.blur()}))}))}insertNavbar(e,t,n){const o=e.querySelector(".canvas-content");if("top"===n){e.insertBefore(t,e.firstChild);let n=o.querySelector(".navbar-spacer");n||(n=document.createElement("div"),n.className="navbar-spacer",n.style.height="54px",n.style.width="100%",o.insertBefore(n,o.firstChild)),t.style.cssText="position: absolute; left: 0; right: 0; top: 24px;"}else"bottom"===n?(e.appendChild(t),t.style.cssText="position: absolute; left: 0; right: 0; bottom: 0;"):e.appendChild(t)}handleCanvasSelection(e){const t=e.currentTarget;e.shiftKey?this.handleMultiSelect(t):this.handleSingleSelect(t),this.updateCanvasNumbers()}handleMultiSelect(e){this.state.selectedCanvases.has(e)?this.state.selectedCanvases.size>1&&(this.state.selectedCanvases.delete(e),e.classList.remove("selected")):(this.state.selectedCanvases.add(e),e.classList.add("selected"))}handleSingleSelect(e){this.state.selectedCanvases.forEach((e=>{e.classList.remove("selected")})),this.state.selectedCanvases.clear(),this.state.selectedCanvases.add(e),e.classList.add("selected")}updateCanvasNumbers(){document.querySelectorAll(".canvas-number").forEach(((e,t)=>{const n=e.closest(".canvas-wrapper").querySelector(".canvas"),o=this.state.selectedCanvases.has(n);e.textContent=`Canvas ${t+1}${o?" (Selected)":""}`}))}replaceRangeSliders(e){e.querySelectorAll(".custom-range-slider").forEach((e=>{const t=document.createElement("div");t.style.cssText="\n            width: 100%;\n            height: 8px;\n            border-radius: 4px;\n            background: var(--neutral-gray);\n            position: relative;\n            padding: 0 4px;\n        ";const n=document.createElement("div"),o=(e.value-e.min)/(e.max-e.min)*100;n.style.cssText=`\n            position: absolute;\n            left: 4px;\n            top: 28%;\n            height: 40%;\n            width: ${o}%;\n            background: var(--color-primary);\n            border-radius: 4px;\n        `;const a=document.createElement("div");a.style.cssText=`\n            position: absolute;\n            left: calc(${o}% - 10px);\n            top: 50%;\n            transform: translateY(-50%);\n            width: 20px;\n            height: 20px;\n            border-radius: 50%;\n            background: var(--color-primary);\n        `,t.appendChild(n),t.appendChild(a),e.parentNode.replaceChild(t,e)}))}updateButtonState(e){const t=document.getElementById("download-btn");t&&(e?(t.innerHTML='<i class="fas fa-spinner fa-spin"></i> Generating...',t.disabled=!0,t.classList.add("loading")):(t.innerHTML='<i class="fas fa-download"></i> Download PNG',t.disabled=!1,t.classList.remove("loading")))}async captureScreenshot(){this.animationController.disableAnimations(),this.updateButtonState(!0);const e=scale;setZoomScale(1);try{const e=Array.from(this.state.selectedCanvases).map((async(e,t)=>{const n=e.querySelector(".phoneScrollCon");if(!n)return void console.error("Phone scroll container not found");const o=n.scrollTop,a=n.scrollLeft,s=e.cloneNode(!0),r=document.createDocumentFragment(),i=document.createElement("div");i.style.cssText=`\n          position: absolute;\n          top: -9999px;\n          left: -9999px;\n          width: ${e.clientWidth+12}px;\n          height: ${e.clientHeight+12}px;\n          overflow: hidden;\n          padding: 6px;\n        `,i.appendChild(s),r.appendChild(i),document.body.appendChild(r);const l=s.querySelector(".phoneScrollCon");if(l){l.scrollTop=0,l.scrollLeft=0;const e=l.firstElementChild;e&&(e.style.transform=`translate(${-a}px, ${-o}px)`)}Object.assign(s.style,{height:`${e.clientHeight}px`,width:`${e.clientWidth}px`,overflow:"hidden",margin:"0"}),this.replaceRangeSliders(s),await new Promise((e=>requestAnimationFrame(e)));const c=await html2canvas(s,{backgroundColor:null,logging:!1,useCORS:!0,scale:window.devicePixelRatio,width:e.clientWidth+12,height:e.clientHeight+12,scrollX:-6,scrollY:-6,windowWidth:e.clientWidth+12,windowHeight:e.clientHeight+12,imageTimeout:6e4,onclone:e=>new Promise((t=>{requestAnimationFrame((()=>{const n=e.querySelector(s.tagName);if(n){const e=n.querySelector(".phoneScrollCon");if(e){e.scrollTop=0,e.scrollLeft=0;const t=e.firstElementChild;t&&(t.style.transform=`translate(${-a}px, ${-o}px)`)}}t()}))}))});if(document.body.removeChild(i),0===c.width||0===c.height)return void console.error("Rendered canvas has zero dimensions");const d=document.createElement("a"),p=this.state.selectedCanvases.size>1?`Dlightning-mockup-${t+1}.png`:"Dlightning-mockup.png";d.download=p,d.href=c.toDataURL("image/png",1),d.click()}));await Promise.all(e)}catch(e){console.error("Screenshot error:",e)}finally{this.animationController.restoreAnimations(),setZoomScale(e),this.updateButtonState(!1)}}setupDownloadButton(){document.getElementById("download-btn").addEventListener("click",(()=>this.captureScreenshot()))}initOnboarding(){if(localStorage.getItem("onboardingComplete"))return;if(window.innerWidth<=768||"ontouchstart"in window||navigator.maxTouchPoints>0)return;const e=document.createElement("div");e.className="onboarding-overlay";const t=document.createElement("div");t.className="onboarding-modal";const n=[{title:'Welcome to the <span style="letter-spacing: .2rem;;">Dlightning <i style="color: var(--color-accent)" class="fas fa-bolt-lightning"></i></span> <br> Screen Builder!',content:"Create beautiful wireframes<br> in minutes",highlight:null},{title:"Add Components",content:"Select an interface element in the menu-bar to add it to&nbsp;the&nbsp;screen.<br>",highlight:".component-btn"},{title:"Versions",content:"Some components have alternate versions. Once added to the canvas, hover the component to cycle through your options.",highlight:null},{title:"3 Menu Tabs",content:"Switch between common interface elements, more complex components, and set the overall theme!",highlight:".sidebar-tabs"},{title:"View Content Full-Height",content:"Toggle the mock screen's height to show all components.<br>Click this before export to download the screen top-to-bottom.",highlight:"#toggleCanvasBtn"},{title:"Add A New Screen",content:"Create multiple screens using the + button. <br> (Hold Shift to select multiple screens at once)",highlight:".add-canvas-btn"},{title:"Export Screens",content:"When you're ready to share your work, export an image. <br><br>",highlight:"#download-btn"},{title:"Choose A Starting Template",content:" ",highlight:null,isTemplateStep:!0}];let o=localStorage.getItem("onboardingComplete")?n.length-1:0;function a(e){if(n[e].isTemplateStep?t.innerHTML=`\n                <h2 style="color: #2c3e50; margin-top: 0;">${n[e].title}</h2>\n                <p style="color: #475152; font-size: 16px;">${n[e].content}</p>\n                <div class="templates" style="display: flex; gap: 16px; margin: 20px 0;">\n                    <button onclick="selectTemplate('template1')">\n                        <h3 style="margin-top: 0;">Profile Template</h3>\n                        <hr>\n                        <p style="color: var(--basic-txt-color)">Image, Avatar, Pills, and Paragraph <br><br></p>\n                    </button>\n                    <button onclick="selectTemplate('template2')">\n                        <h3 style="margin-top: 0;">Content Template</h3>\n                        <hr>\n                        <p style="color: var(--basic-txt-color)">Hero, Heading, Accordion, and Footer</p>\n                    </button>\n                    <button onclick="selectTemplate('template3')">\n                        <h3 style="margin-top: 0;">Form Template</h3>\n                        <hr>\n                        <p style="color: var(--basic-txt-color)">Heading, Form Elements, Submit Button</p>\n                    </button>\n                    <button onclick="selectTemplate('blank')">\n                        <h3 style="margin-top: 0;">Blank Canvas</h3>\n                        <br><br><br><br><br><br><br>\n                    </button>\n                </div>\n                <div class="onboarding-nav" >\n                    <button onclick="prevStep()" style="padding: 10px 14px; background: #ecf0f1; border: none; border-radius: 5px; cursor: pointer; margin-right: 45px;"><i class="fas fa-arrow-left"></i></button>\n                     <button onclick="${e===n.length-1?"completeOnboarding()":"nextStep()"}" style="padding: 10px 20px; background: #3498db; color: white; border: none; border-radius: 5px; cursor: pointer;">\n                            ${e===n.length-1?"Skip":"Next"}\n                        </button>\n                </div>\n            `:t.innerHTML=`\n                <div style="display: flex; gap: 24px;">\n                    <div>\n                    <h2 style="color: #2c3e50; margin-top: 0;">${n[e].title}</h2>\n                    <p style="color: #7f8c8d; font-size: 16px;">${n[e].content}</p>\n                    </div>\n                    ${e>0?"":" \n                    <div>\n                        <img width=\"140px\" src='img/products/BHandH.png'>\n                    </div>"}\n                </div>\n                <div class="onboarding-nav">\n                    ${e>0?'\n                        <button onclick="prevStep()" style="padding: 10px 14px; background: #ecf0f1; border: none; border-radius: 5px; cursor: pointer;"><i class="fas fa-arrow-left"></i></button>\n                    ':'<button onclick="prevStep()" style="padding: 10px 14px; background: var(--neutral-gray); border: none; opacity: 0.46; border-radius: 5px; cursor: not-allowed;" disabled><i class="fas fa-arrow-left"></i></button>'}\n                    <div style="display: flex; align-items: center;">\n                        ${n.map(((t,n)=>`\n                            <div class="onboarding-dot ${n===e?"active":""}" onclick="goToStep(${n})"></div>\n                        `)).join("")}\n                    </div>\n                    <div style="display: flex; gap: 10px;">\n                        <button onclick="completeOnboarding()" style="padding: 10px 20px; background: #95a5a6; color: white; border: none; border-radius: 5px; cursor: pointer;">\n                            Skip Tutorial\n                        </button>\n                        <button onclick="${e===n.length-1?"completeOnboarding()":"nextStep()"}" style="padding: 10px 20px; background: #3498db; color: white; border: none; border-radius: 5px; cursor: pointer;">\n                            ${e===n.length-1?"Get Started":"Next"}\n                        </button>\n                    </div>\n                </div>\n            `,document.querySelectorAll(".highlight-element").forEach((e=>e.remove())),n[e].highlight){const t=document.querySelector(n[e].highlight);t&&(t.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout((()=>{const e=t.getBoundingClientRect(),n=document.createElement("div");n.className="highlight-element",n.style.cssText=`\n                        position: fixed;\n                        top: ${e.top-6}px;\n                        left: ${e.left-6}px;\n                        width: ${e.width+8}px;\n                        height: ${e.height+8}px;\n                        border: 2px solid #3498db;\n                        border-radius: 4px;\n                        pointer-events: none;\n                        z-index: 10000;\n                        animation: pulse .8s 2;\n                    `,document.body.appendChild(n)}),500))}}window.nextStep=function(){o<n.length-1&&(o++,a(o))},window.prevStep=function(){o>0&&(o--,a(o))},window.goToStep=function(e){o=e,a(o)},window.completeOnboarding=function(){localStorage.setItem("onboardingComplete","true"),e.remove(),document.querySelectorAll(".highlight-element").forEach((e=>e.remove()))};const s="This is a paragraph, click to edit it directly. For quick deletion, triple-click to highlight.",r="Hover over any element to reveal options for customization. Use the ⋮ handle on the left to drag elements into a new order or to another screen. The red 'x' on the right deletes components, and the icon at the bottom duplicates them. Each element has unique features to explore!";window.selectTemplate=e=>{const t=document.querySelector(".canvas-content");t.innerHTML="","template1"===e?[{component:this.components.adjustableSpace(),type:"adjustableSpace"},{component:this.components.image(),type:"image"},{component:this.components.avatar(),type:"avatar"},{component:this.components.chipGroup(),type:"chipGroup"},{component:this.components.paragraph(null,s),type:"paragraph"},{component:this.components.paragraph(null,r),type:"paragraph"}].forEach((({component:e,type:n})=>{t.appendChild(this.wrapComponentInContainer(e,n))})):"template2"===e?[{component:this.components.hero(),type:"hero"},{component:this.components.heading("h2"),type:"heading"},{component:this.components.paragraph(null,s),type:"paragraph"},{component:this.components.paragraph(null,r),type:"paragraph"},{component:this.components.icon(),type:"icon"},{component:this.components.accordion(),type:"accordion"},{component:this.components.adjustableSpace(),type:"adjustableSpace"},{component:this.components.footer(),type:"footer"}].forEach((({component:e,type:n})=>{t.appendChild(this.wrapComponentInContainer(e,n))})):"template3"===e&&[{component:this.components.heading("h2"),type:"heading"},{component:this.components.paragraph(null,s),type:"paragraph"},{component:this.components.label(),type:"label"},{component:this.components.input(),type:"input"},{component:this.components.label(),type:"label"},{component:this.components.textarea(),type:"textarea"},{component:this.components.label(),type:"label"},{component:this.components.dropdown(),type:"dropdown"},{component:this.components.label(),type:"label"},{component:this.components.checkbox(),type:"checkbox"},{component:this.components.checkbox(),type:"checkbox"},{component:this.components.checkbox(),type:"checkbox"},{component:this.components.adjustableSpace(),type:"adjustableSpace"},{component:this.components.button(),type:"button"}].forEach((({component:e,type:n})=>{t.appendChild(this.wrapComponentInContainer(e,n))})),localStorage.setItem("onboardingComplete","true"),document.querySelector(".onboarding-overlay").remove();const n=document.querySelector(".sidebar");n&&n.scrollTo({top:0,behavior:"smooth"})},e.appendChild(t),document.body.appendChild(e),setTimeout((()=>{e.classList.add("visible"),a(o)}),100)}components={hero:()=>{const e=document.createElement("div");e.classList.add("resizeable"),e.style.cssText="\n        width: 100%;\n        height: 160px;\n        position: relative; \n        overflow: visible;\n        padding: 0 10px;\n        display: flex;\n        flex-direction: column; \n        justify-content: flex-end; \n        align-items: center;\n    ";const t=document.createElement("div"),n=document.createElement("span");t.classList.add("card-image"),n.textContent="click here to add image",n.classList.add("non-editable"),t.style.cssText="\n        width: 100%; \n        height: 100%; \n        position: absolute;\n        background-size: cover; \n        background-position: center; \n        background-repeat: no-repeat;\n        color: gray; \n        text-align: center; \n        cursor: pointer;\n        z-index: 1;\n        padding: 0 10px;\n    ",t.appendChild(n),t.addEventListener("click",(()=>{const e=document.createElement("input");e.type="file",e.accept="image/*",e.addEventListener("change",(e=>{const n=e.target.files[0];if(n){const e=new FileReader;e.onload=e=>{t.style.backgroundImage=`url(${e.target.result})`,t.textContent=""},e.readAsDataURL(n)}})),e.click()}));const o=document.createElement("div");o.style.cssText="\n        position: absolute; \n        width: 100%; \n        height: 100%; \n        top: 0; \n        left: 0; \n        background: linear-gradient(transparent 28%, var(--color-primary) 78%, var(--color-primary) 92%);\n        opacity: 0.94; \n        pointer-events: none;\n        z-index: 2;\n        padding: 0 10px;\n        transform: translateX(-10px);\n    ";const a=document.createElement("div");a.style.cssText="\n        position: relative; \n        text-align: center; \n        width: 100%; \n        color: white; \n        display: flex; \n        flex-direction: column; \n        justify-content: flex-end; \n        z-index: 3;\n        margin-bottom: 12px;\n    ";const s=document.createElement("div"),r=document.createElement("h1");r.contentEditable="true",r.textContent="Welcome",r.style.cssText="\n        margin: 0; \n        font-size: 28px; \n        color: white !important;\n        width: 100%;\n    ",s.appendChild(r);const i=document.createElement("div"),l=document.createElement("p");return l.contentEditable="true",l.textContent="This is a hero section with a beautiful gradient background",l.style.cssText="margin: 0; font-size: 16px; margin-bottom: 18px;",i.appendChild(l),a.appendChild(s),a.appendChild(i),e.appendChild(t),e.appendChild(o),e.appendChild(a),e},button(e){let t;return e?t=e.cloneNode(!0):(t=document.createElement("div"),t.style.cssText="width: 100%; display: flex; justify-content: space-between; gap: 14px;",t.innerHTML=setupVariants("button")[0],t.classList.add("componentButton")),t.querySelectorAll(".button").forEach((e=>{e.setAttribute("contentEditable","true"),e.addEventListener("keypress",(e=>{"Enter"===e.key&&e.preventDefault()})),e.addEventListener("paste",(e=>{e.preventDefault();const t=(e.originalEvent||e).clipboardData.getData("text/plain");document.execCommand("insertText",!1,t)}))})),t},input(e){let t;if(e){t=e.cloneNode(!0);const n=t.querySelector('[contenteditable="true"]');return n&&(n.addEventListener("input",(function(){""===this.textContent.trim()?this.classList.add("empty"):this.classList.remove("empty")})),n.addEventListener("keypress",(e=>{"Enter"===e.key&&e.preventDefault()})),n.addEventListener("paste",(e=>{e.preventDefault();const t=(e.originalEvent||e).clipboardData.getData("text/plain");document.execCommand("insertText",!1,t)}))),t}t=document.createElement("div"),t.style.cssText="width: 100%;",t.innerHTML=setupVariants("input")[0];const n=t.querySelector('[contenteditable="true"]');if(n&&n.addEventListener("input",(function(){""===this.textContent.trim()?this.classList.add("empty"):this.classList.remove("empty")})),!document.querySelector("style[data-input-placeholder]")){const e=document.createElement("style");e.setAttribute("data-input-placeholder","true"),e.textContent="\n        [contenteditable=true].empty:before {\n          content: attr(data-placeholder);\n          color: #999;\n          cursor: text;\n          padding-left: 4px;\n        }\n      ",document.head.appendChild(e)}return t.classList.add("empty"),t.addEventListener("keypress",(e=>{"Enter"===e.key&&e.preventDefault()})),t.addEventListener("paste",(e=>{e.preventDefault();const t=(e.originalEvent||e).clipboardData.getData("text/plain");document.execCommand("insertText",!1,t)})),t},searchBar(e){let t;e&&(t=e.cloneNode(!0)),t=document.createElement("div"),t.style.cssText="width: 100%;",t.innerHTML=setupVariants("searchBar")[0];return t.querySelector('[contenteditable="true"]').addEventListener("input",(function(){""===this.textContent.trim()?this.classList.add("empty"):this.classList.remove("empty")})),t.addEventListener("keypress",(e=>{"Enter"===e.key&&e.preventDefault()})),t},textarea(e){let t;if(e){t=e.cloneNode(!0);t.querySelector('[contenteditable="true"]'),t.querySelector(".resize-handle");return t}t=document.createElement("div"),t.style.cssText="width: 100%; position: relative;";const n=document.createElement("div");if(n.innerHTML=setupVariants("textarea")[0],!document.querySelector("style[data-textarea-placeholder]")){const e=document.createElement("style");e.setAttribute("data-textarea-placeholder","true"),e.textContent="\n        [contenteditable=true].empty:before {\n          content: attr(data-placeholder);\n          color: #999;\n          cursor: text;\n        }\n      ",document.head.appendChild(e)}return n.querySelector('[contenteditable="true"]').addEventListener("input",(function(){""===this.textContent.trim()?this.classList.add("empty"):this.classList.remove("empty")})),n.addEventListener("paste",(e=>{e.preventDefault();const t=(e.originalEvent||e).clipboardData.getData("text/plain");document.execCommand("insertText",!1,t)})),t.appendChild(n),t},checkbox:e=>{let t,n,o,a;return e?(t=e.cloneNode(!0),n=t.querySelector(".checkbox-square-icon"),o=n.querySelector(".checkbox-check-icon"),a=t.querySelector("span"),n.addEventListener("click",(()=>{o.classList.toggle("checked")})),this.makeTextEditable(a),t):(t=document.createElement("div"),t.className="custom-checkbox-wrapper",n=document.createElement("div"),n.className="fa-regular fa-square checkbox-square-icon",o=document.createElement("i"),o.className="fa-solid fa-square-check checkbox-check-icon",n.appendChild(o),n.addEventListener("click",(()=>{o.classList.toggle("checked")})),a=document.createElement("span"),a.textContent="click to edit",a.style.cssText="font-size: 16px; color: var(--basic-txt-color)",this.makeTextEditable(a),t.appendChild(n),t.appendChild(a),t)},radio:e=>{let t,n,o,a,s;return e?(t=e.cloneNode(!0),n=t.querySelector("label"),o=t.querySelector(".custom-radio"),a=o.querySelector("span"),s=t.querySelector('span:not([style*="border-radius"])'),o.addEventListener("click",(()=>{document.querySelectorAll(".custom-radio").forEach((e=>{e.querySelector("span").style.display="none",e.style.borderColor="#e0e0e0"})),a.style.display="block",o.style.borderColor="var(--color-primary)"})),this.makeTextEditable(s),t):(t=document.createElement("div"),t.style.cssText="display: flex; align-items: center; width: 100%; margin: 4px 0 0 0;",n=document.createElement("label"),n.style.cssText="display: flex; align-items: center; font-size: 16px; color: #333; justify-content: flex-start;",o=document.createElement("div"),o.style.cssText="\n        width: 20px; height: 20px;\n        margin: 0 10px;\n        border: 2px solid #a0a0a0;\n        border-radius: 50%;\n        display: flex; align-items: center; justify-content: center;\n        cursor: pointer;\n    ",o.classList.add("custom-radio"),a=document.createElement("span"),a.style.cssText="\n        width: 12px; height: 12px;\n        background-color: var(--color-primary);\n        border-radius: 50%;\n        display: none;\n    ",o.appendChild(a),o.addEventListener("click",(()=>{document.querySelectorAll(".custom-radio").forEach((e=>{e.querySelector("span").style.display="none",e.style.borderColor="#e0e0e0"})),a.style.display="block",o.style.borderColor="var(--color-primary)"})),s=document.createElement("span"),s.textContent="click to edit",s.style.cssText="color: var(--basic-txt-color);",this.makeTextEditable(s),t.appendChild(n),n.appendChild(o),t.appendChild(s),t)},dropdown:e=>{let t,n,o,a,s,r;const i=e=>{const t=document.createElement("div");t.className="option-wrapper";const n=document.createElement("div");n.className="option",n.setAttribute("contenteditable","true"),n.textContent=e;const o=document.createElement("button");return o.className="delete-button",o.innerHTML='<i class="fas fa-times"></i>',o.addEventListener("click",(e=>{e.stopPropagation(),t.remove()})),t.appendChild(n),t.appendChild(o),t};if(e){t=e.cloneNode(!0),n=t.querySelector(".dropdown-header"),o=t.querySelector(".selected-text"),a=t.querySelector(".fa-chevron-down, .fa-chevron-up"),s=t.querySelector(".options-container"),r=t.querySelector(".add-option-wrapper");const l=r.querySelector(".add-button");return n.addEventListener("click",(()=>{s.classList.toggle("active"),a.classList.toggle("fa-chevron-up"),a.classList.toggle("fa-chevron-down")})),l.addEventListener("click",(()=>{const e=i("New Option");s.insertBefore(e,r),e.querySelector(".option").focus()})),s.addEventListener("click",(e=>{const t=e.target.closest(".option");t&&(o.textContent=t.textContent)})),t}t=document.createElement("div"),t.className="custom-dropdown-container",n=document.createElement("div"),n.className="dropdown-header",o=document.createElement("div"),o.className="selected-text",o.textContent="Dropdown",a=document.createElement("i"),a.className="fas fa-chevron-down",s=document.createElement("div"),s.className="options-container",r=document.createElement("div"),r.className="add-option-wrapper";const l=document.createElement("button");return l.className="add-button",l.innerHTML='<i class="fas fa-plus"></i> Add Option',r.appendChild(l),["Option 1","Option 2"].forEach((e=>{s.appendChild(i(e))})),n.appendChild(o),n.appendChild(a),t.appendChild(n),t.appendChild(s),s.appendChild(r),n.addEventListener("click",(()=>{s.classList.toggle("active"),a.classList.toggle("fa-chevron-up"),a.classList.toggle("fa-chevron-down")})),l.addEventListener("click",(()=>{const e=i("New Option");s.insertBefore(e,r),e.querySelector(".option").focus()})),s.addEventListener("click",(e=>{const t=e.target.closest(".option");t&&(o.textContent=t.textContent)})),t},icon(e){let t;if(e)t=e.cloneNode(!0);else{t=document.createElement("div"),t.classList.add("iconContainerClass"),t.style.cssText="\n            display: flex; \n            justify-content: center; \n            align-items: center;\n            width: 100%;\n            height: auto;\n            padding: 10px;\n            position: relative;\n            border: 1px solid transparent;\n            font-size: 24px;\n        ";const e=document.createElement("i");e.className="fa-solid fa-bolt-lightning",e.style.cssText="\n            color: var(--color-accent);\n            cursor: pointer;\n        ",t.appendChild(e)}const n=t.querySelector("i")||t.firstChild,o=createAlignmentControls(t);t.iconAlignment=o;let a=t.querySelector("input.iconControls");if(a=document.createElement("input"),a.classList.add("iconControls"),a.type="number",a.min="12",a.max="96",a.value="24",a.style.cssText="\n            position: absolute;\n            top: -18px;\n            left: 50%;\n            transform: translateX(-50%);\n            width: 60px;\n            padding: 2px 0;\n            border: 1px solid #ddd;\n            border-radius: 2px;\n            font-size: 14px;\n            text-align: center;\n            z-index: 999910;\n            padding: 0 4px 0 0;\n        ",t.appendChild(a),a.addEventListener("input",(e=>{n.style.fontSize=`${e.target.value}px`})),n){let e=getComputedStyle(n).fontSize||n.style.fontSize;const t=parseInt(e,10)||24;a.value=t,a.addEventListener("input",(e=>{n.style.fontSize=`${e.target.value}px`}))}else console.error("iconElement not found or not in the DOM");return n.addEventListener("click",(e=>{e.preventDefault(),showIconPicker(n)})),t},card(e){let t;return e?t=e.cloneNode(!0):(t=document.createElement("div"),t.innerHTML=setupVariants("card")[0],t.classList.add("componentCard"),t.style.cssText="\n            width: 100%;\n            border-radius: var(--standard-radius);\n            padding: 0;\n            border-bottom: 3px solid rgba(0,0,0,.12);\n        "),t.querySelectorAll("h3, p").forEach((e=>{e.setAttribute("contentEditable","true")})),t},card2(e){let t;return e?t=e.cloneNode(!0):(t=document.createElement("div"),t.innerHTML=setupVariants("card2")[0],t.classList.add("componentCard"),t.style.cssText="\n            width: 100%;\n            border-radius: var(--standard-radius);\n            padding: 0;\n            border-bottom: 3px solid rgba(0,0,0,.12);\n        "),t.querySelectorAll("h3, p").forEach((e=>{e.setAttribute("contentEditable","true")})),t},adjustableSpace:e=>{let t,n,o;return e?(t=e.cloneNode(!0),n=t.querySelector(".space-range"),o=t.querySelector(".height-display")):(t=document.createElement("div"),t.classList="blankSpace",t.style.height="50px",o=document.createElement("input"),o.type="number",o.classList="height-display",o.value="50",o.style.fontSize="16px",t.appendChild(o),n=document.createElement("input"),n.className="space-range",n.type="range",n.min="12",n.max="300",n.value="50",n.style.width="100%",t.appendChild(n)),n.addEventListener("input",(()=>{const e=n.value;t.style.height=`${e}px`,o.value=`${e}`})),o.addEventListener("change",(()=>{const e=o.value;t.style.height=`${e}px`,n.value=`${e}`})),{container:t,setup:()=>{const e=t.closest(".component-container");e&&(e.addEventListener("mouseenter",(()=>{})),e.addEventListener("mouseleave",(()=>{t.style.outline="none"})))}}},image(e){let t;return e?t=e.cloneNode(!0):(t=document.createElement("div"),t.classList.add("non-editable"),t.style.cssText="\n        width: 100%; \n        display: flex; \n        gap: 8px;\n        ",t.innerHTML=setupVariants("image")[0]),t},imgGallery(e){const t=document.createElement("div");t.style.cssText="width: 100%; position: relative;";const n=document.createElement("div");n.style.cssText=" \n            display: flex;\n            gap: 8px;\n            overflow-x: visible; \n            flex-wrap: nowrap; \n            min-width: 120px; \n            height: auto;\n            padding-bottom: 4px;\n    ";const o=document.createElement("div"),a=document.createElement("div");o.style.cssText="\n            flex: 1;\n            display: flex;\n            flex-direction: column;\n            gap: 8px;\n        ",a.style.cssText="\n            flex: 1;\n            display: flex;\n            flex-direction: column;\n            gap: 8px;\n        ";const s=()=>{const e=document.createElement("div");e.style.cssText="\n            display: flex; \n            flex-direction: column; \n            gap: 6px;\n            min-width: 46%;\n        ";const t=document.createElement("div");t.classList="card-image resizeable",t.style.cssText="\n            width: 100%;\n            height: 140px !important;\n            background-color: var(--neutral-gray); \n            display: flex; \n            justify-content: center; \n            align-items: center; \n            cursor: pointer; \n            border-radius: var(--standard-radius); \n            overflow: hidden;\n            position: relative;\n            text-align: center;\n        ",t.innerHTML='<span style="color: var(--basic-txt-color)" class="imgMsg non-editable">Click to add image</span>',resizer.makeResizable(t);const o=document.createElement("figcaption");o.textContent="Image caption",o.contentEditable="true",o.style.cssText="text-align: right; color: #666; font-style: italic; font-size: 12px; padding-right: 4px; margin: 0 4px; display: none;";const a=document.createElement("div");a.style.cssText="\n            position: absolute;\n            leftt: 14px;\n            bottom: 4px;\n            width: 26px;\n            height: 26px;\n            cursor: pointer;\n            display: none;\n            align-items: center;\n            justify-content: center;\n            z-index: 20;\n            background: rgba(51, 51, 51, 0.7);\n            border-radius: 4px;\n            color: white;\n            font-size: 14px;\n        ",a.innerHTML="+ caption";let s=!1;return a.addEventListener("click",(e=>{e.stopPropagation(),s=!s,o.style.display=s?"block":"none",a.style.background=s?"rgba(51, 51, 51, 0.9)":"rgba(51, 51, 51, 0.7)"})),t.addEventListener("mouseover",(()=>{t.style.backgroundImage&&(a.style.display="flex")})),t.addEventListener("mouseout",(()=>{isResizing||(a.style.display="none")})),o.addEventListener("input",(()=>{o.setAttribute("data-updated","true")})),n.addEventListener("mouseout",(()=>{"true"===o.getAttribute("data-updated")?o.style.display="block":o.style.display="none"})),t.addEventListener("click",(e=>{const n=document.createElement("input");n.type="file",n.accept="image/*",n.onchange=e=>{const n=e.target.files[0];if(n){const e=new FileReader;e.onload=e=>{t.style.backgroundImage=`url(${e.target.result})`,t.style.backgroundSize="cover",t.style.backgroundPosition="center";const n=t.querySelector(".imgMsg");n&&n.remove()},e.readAsDataURL(n)}},n.click()})),e.appendChild(t),e};o.appendChild(s()),a.appendChild(s()),o.appendChild(s()),n.appendChild(o),n.appendChild(a),t.appendChild(n);const r=(()=>{const e=document.createElement("button");return e.classList="fa fa-plus",e.style.cssText="\n            background-color: var(--interface-color); \n            color: white; \n            border: 1px solid var(neutral-gray); \n            border-radius: 64px; \n            padding: 8px; \n            cursor: pointer;\n            display: none;\n            position: absolute;\n            bottom: 28px;\n            left: 50%;\n            transform: translatex(-50%);\n            }\n        ",e.addEventListener("click",(()=>{const t=s();o.children.length<=a.children.length?o.appendChild(t):a.appendChild(t),e.style.display="none"})),e})();return t.appendChild(r),t.addEventListener("mouseover",(()=>{r.style.display="block"})),t.addEventListener("mouseout",(()=>{r.style.display="none"})),t},navbar:()=>{const e=document.createElement("div");e.className="navContain",e.style.cssText="position: relative;";const t=document.createElement("div");t.style.cssText="background-color: rgba(0,0,0,0.12); width: 100%; height: 59px; position: absolute; top:0; left: 0; z-index: 1";const n=document.createElement("div");n.className="navbar top-navbar";const o=document.createElement("button");o.innerHTML='<i class="fas fa-circle-left"></i>',o.className="nav-control prev-nav",o.style.cssText="\n                position: absolute;\n                left: 40%;\n                top: -6px;\n                transform: translateY(-50%);\n                background: var(--basic-txt-color);\n                border-radius: 99px;\n                padding: 1px;\n                border: none;\n                font-size: 24px;\n                color: var(--input-bg-color);\n                cursor: pointer;\n                opacity: 0;\n                transition: opacity 0.3s ease, color 0.3s ease;\n                z-index: 9910;\n            ";const a=document.createElement("button");a.innerHTML='<i class="fas fa-circle-right"></i>',a.className="nav-control next-nav",a.style.cssText="\n                position: absolute;\n                right: 40%;\n                top: -6px;\n                transform: translateY(-50%);\n                background: var(--basic-txt-color);\n                border-radius: 99px;\n                padding: 1px;\n                border: none;\n                font-size: 24px;\n                color: var(--input-bg-color);\n                cursor: pointer;\n                opacity: 0;\n                transition: opacity 0.3s ease, color 0.3s ease;\n                z-index: 9910;\n            ",e.addEventListener("mouseenter",(()=>{o.style.opacity="1",a.style.opacity="1"})),e.addEventListener("mouseleave",(()=>{o.style.opacity="0",a.style.opacity="0"}));let s=0;const r={content:['<span spellcheck="false" style="font-size: 20px; font-weight: bold; color: var(--color-primary);">Brand</span>\n                    <div style="display: flex; align-items: center;">\n                        <a href="#" style="margin-left: 20px; color: var(--basic-txt-color); text-decoration: none;">Home</a>\n                        <a href="#" style="margin-left: 20px; color: var(--basic-txt-color); text-decoration: none;">About</a>\n                        <a href="#" style="margin-left: 20px; color: var(--basic-txt-color); text-decoration: none;">Contact</a>\n                        <div class="icon-container" style="margin-left: 20px;">\n                            <i class="fas fa-bars" style="font-size: 20px; color: var(--color-primary); cursor: pointer;"></i>\n                        </div>\n                    </div>','<div style="flex: 1; background-color: var(--color-background);"></div>\n                    <div style="width: 40px; height: 40px; background-color: var(--neutral-gray); border-radius: 50%; display: flex; justify-content: center; align-items: center; cursor: pointer;" class="nav-image">\n                        <span class="non-editable">IMG</span>\n                    </div>\n                    <div style="flex: 1; display: flex; justify-content: flex-end;" class="icon-container">\n                        <i class="fas fa-bars" style="font-size: 24px; color: var(--color-primary); cursor: pointer;"></i>\n                    </div>','<div class="icon-container">\n                        <i class="fas fa-arrow-left" style="font-size: 20px; color: var(--basic-txt-color); margin-right: 15px; cursor: pointer;"></i>\n                    </div>\n                    <div style="width: 100%; display: flex; justify-content: center;">\n                        <span spellcheck="false" style="font-size: 24px; font-weight: bold; color: var(--basic-txt-color);">Brand</span>\n                    </div>\n                    <div class="icon-container">\n                        <i class="fas fa-bars" style="font-size: 20px; color: var(--basic-txt-color); margin-right: 15px; cursor: pointer;"></i>\n                    </div>','<div style="display: flex; align-items: center; width: 100%; padding: 0 10px;">\n                        <div class="icon-container">\n                            <i class="fas fa-arrow-left" style="font-size: 20px; color: var(--color-primary); margin-right: 15px; cursor: pointer;"></i>\n                        </div>\n                        <div style="width: 40px; height: 40px; background-color: var(--color-transparent-blk); border-radius: 50%; margin-right: 15px; display: flex; justify-content: center; align-items: center; cursor: pointer;" class="nav-image">\n                            <span class="non-editable">IMG</span>\n                        </div>\n                        <div style="flex: 1;">\n                            <span style="display: block; font-weight: bold; color: var(--color-primary);">Username</span>\n                            <span class="status" style="font-size: 14px; color: #27ae60; cursor: pointer;">Online</span>\n                        </div>\n                        <div style="display: flex; gap: 20px;">\n                            <div class="icon-container">\n                                <i class="fas fa-phone" style="font-size: 20px; color: var(--color-primary); cursor: pointer;"></i>\n                            </div>\n                            <div class="icon-container">\n                                <i class="fas fa-ellipsis-vertical" style="font-size: 20px; color: var(--color-primary); cursor: pointer;"></i>\n                            </div>\n                        </div>\n                    </div>'],cached:[]};r.cached=[...r.content],n.innerHTML=r.cached[s];const i=document.createElement("div");i.style.cssText="position: absolute; bottom: -24px; left: 50%; transform: translateX(-50%); display: flex; gap: 8px;",i.appendChild(o),i.appendChild(a);const l=()=>{(()=>{const e=n.querySelector(".nav-image");e&&e.addEventListener("click",(()=>{const t=document.createElement("input");t.type="file",t.accept="image/*",t.onchange=t=>{const o=t.target.files[0];if(o){const t=new FileReader;t.onload=t=>{e.style.backgroundImage=`url(${t.target.result})`,e.style.backgroundSize="cover",e.style.backgroundPosition="center",e.innerHTML="",r.cached[s]=n.innerHTML},t.readAsDataURL(o)}},t.click()}))})(),n.querySelectorAll(".icon-container i").forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault(),showIconPicker(e)}))})),n.querySelectorAll("span:not(.non-editable), a").forEach((e=>{e.contentEditable=!0}))};l();return new MutationObserver((()=>{r.cached[s]=n.innerHTML})).observe(n,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),o.addEventListener("click",(()=>{s=(s-1+r.cached.length)%r.cached.length,n.innerHTML=r.cached[s],n.style.backgroundColor=2===s?"var(--color-primary)":"var(--color-background)",l()})),a.addEventListener("click",(()=>{s=(s+1)%r.cached.length,n.innerHTML=r.cached[s],n.style.backgroundColor=2===s?"var(--color-primary)":"var(--color-background)",l()})),e.appendChild(n),e.appendChild(t),e.appendChild(o),e.appendChild(a),e},alert:e=>{let t;return e?(t=e.cloneNode(!0),t.querySelectorAll("span").forEach((e=>{e.setAttribute("contentEditable","true")}))):(t=document.createElement("div"),t.style.cssText="width: 100%",t.innerHTML=setupVariants("alert")[0],t.querySelectorAll("span").forEach((e=>{e.setAttribute("contentEditable","true")}))),t},modal:()=>{const e=document.createElement("div");e.className="modal-wrapper",e.style.cssText="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background-color: rgba(0,0,0,0.6); display: flex; justify-content: center; align-items: center; z-index: 991; height: 100%";const t=document.createElement("div");return t.className="ui-modal",t.innerHTML='\n                <h2 contenteditable="true" style="margin-top: 0; color: #2c3e50;">Modal Title</h2>\n                <p contenteditable="true" style="color: #7f8c8d;">This is the modal content. You can add any information here.</p>\n                <div style="text-align: right;">\n                    <button id="modal-ok-btn" style="padding: 10px 20px; background-color: var(--color-primary); color: white; border: none; border-radius: 5px; cursor: pointer;">OK</button>\n                </div>\n            ',e.appendChild(t),t.querySelector("#modal-ok-btn").addEventListener("click",(()=>{e.remove(),this.modalAdded=!1})),e},toggleSwitch:()=>{const e=document.createElement("div");e.className="toggle-switch-container";const t=document.createElement("span");t.textContent="Off",t.style.cssText="margin-right: 10px; cursor: pointer;",t.setAttribute("contenteditable","true");const n=document.createElement("div");n.className="toggle-switch";const o=document.createElement("div");o.className="toggle-slider round";const a=document.createElement("div");a.className="toggle-thumb round";const s=document.createElement("span");s.textContent="On",s.style.cssText="margin-left: 10px; cursor: pointer;",s.setAttribute("contenteditable","true");let r=!1;const i=()=>{r=!r,r?(o.style.backgroundColor="var(--color-primary)",a.style.left="30px"):(o.style.backgroundColor="var(--neutral-gray)",a.style.left="4px")};return o.appendChild(a),n.appendChild(o),n.addEventListener("click",i),t.addEventListener("click",(()=>{r=!0,i()})),s.addEventListener("click",(()=>{r=!1,i()})),e.appendChild(t),e.appendChild(n),e.appendChild(s),e},progressBar:e=>{let t;return e?t=e.cloneNode(!0):(t=document.createElement("div"),t.style.cssText="width: 100%; text-align: center; padding: 10px 0;",t.innerHTML=setupVariants("progressBar")[0]),t},avatar(e){const t=document.createElement("div");t.className="avatar-container",t.style.width="100%",t.innerHTML=e?e.outerHTML:setupVariants("avatar")[0];let n=t.querySelector(".component-content");if(!n){for(n=document.createElement("div"),n.className="component-content";t.firstChild;)n.appendChild(t.firstChild);t.appendChild(n)}const o=createAlignmentControls(n);return n.alignmentControls=o,t},tabs:e=>{let t;if(e)return t=e.cloneNode(!0),this.setupTabs(t),t;{t=document.createElement("div"),t.className="tabs-container";const e=document.createElement("div");e.className="tabs-wrapper",e.style.cssText="display: flex; width: 100%;";const n=document.createElement("div");n.className="tabs-controls";const o=document.createElement("button");o.textContent="+",o.className="tabs-add-btn";const a=document.createElement("button");a.textContent="-",a.className="tabs-remove-btn";for(let t=1;t<=3;t++){const n=document.createElement("div");n.textContent=`Tab ${t}`,n.setAttribute("contentEditable","true"),n.className="ui-tab",n.style.cssText=`\n                background-color: ${1===t?"var(--color-primary)":"var(--neutral-gray)"};\n                color: ${1===t?"white":"var(--basic-txt-color)"};\n                border: none;\n                margin-right: 1px;\n                padding: 10px 8px;\n                cursor: pointer;\n\n                flex: 1;\n            `,1===t&&n.classList.add("selected"),e.appendChild(n)}n.appendChild(a),n.appendChild(o),t.appendChild(e),t.appendChild(n)}return this.setupTabs(t),t},accordion:()=>{const e=document.createElement("div");e.style.cssText="width: 100%; border-radius: 8px; overflow: hidden; border: .12rem solid var(--color-primary)",e.innerHTML='\n            <button class="accordion-header">\n                <span contenteditable>Section Title</span>\n                <i class="fas fa-chevron-down" style="transition: transform 0.3s ease;"></i>\n            </button>\n            <div class="accordion-content">\n                <div class="placeholder" style="padding: 18px 0;">\n                    <div>\n                    <p class="non-editable" style="margin: 0 24px; color: #666;">Content for this section can be added here.</p>\n                    </div>\n            </div>\n            </div>\n        ';const t=e.querySelector(".accordion-content");new MutationObserver((()=>{"0px"!==t.style.height&&""!==t.style.height?(t.style.padding="8px 12px 0 12px",t.style.height=t.scrollHeight-8+"px"):t.style.padding="0 12px";const e=t.querySelector(".component-container"),n=t.querySelector(".placeholder");e&&n?n.remove():e||n||(t.innerHTML='\n        <div class="placeholder" style="padding: 18px 0;">\n            <div>\n                <p class="non-editable" style="margin: 0 24px; color: #666;">Content for this section can be added here.</p>\n            </div>\n        </div>\n        ')})).observe(t,{childList:!0,subtree:!0,attributes:!0}),t.addEventListener("mouseover",(e=>{e.target.closest('[data-component-variant^="accordion-"]');const n=e.target.closest(".component-container");t.querySelectorAll(".component-container").forEach((e=>{e.classList.add("controls-hidden")})),n&&n.classList.remove("controls-hidden")})),t.addEventListener("mouseleave",(()=>{t.querySelectorAll(".component-container").forEach((e=>{e.classList.add("controls-hidden")}))}));const n=e.querySelector(".accordion-header"),o=e.querySelector(".fa-chevron-down");return n.addEventListener("click",(()=>{"0px"!==t.style.height&&""!==t.style.height?(t.style.height="0",o.style.transform="rotate(0)"):(t.style.height=t.scrollHeight+"px",o.style.transform="rotate(180deg)")})),this.initializeSortable(t),e},slider:()=>{const e=document.createElement("div");e.style.cssText="width: 100%; padding: 10px 0; display: flex; align-items: center;";const t=document.createElement("input");t.type="range",t.min="0",t.max="100",t.value="50",t.className="custom-range-slider",t.style.flex="1";const n=document.createElement("span");return n.className="range-value",n.style.cssText="color: var(--basic-txt-color); margin: 0 6px 0 4px; font-weight: bold; min-width: 30px; text-align: right;",n.textContent="50",e.appendChild(t),e.appendChild(n),t.addEventListener("input",(()=>{n.textContent=t.value})),e},datePicker:()=>{const e=document.createElement("div");e.style.cssText="\n                width: 100%;\n                padding: 10px 18px 10px 10px;\n                border: 1px solid var(--color-primary);\n                border-radius: 5px;\n                display: flex;\n                justify-content: space-between;\n                align-items: center;\n                font-family: Arial, sans-serif;\n                font-size: 14px;\n                color: var(--basic-txt-color);\n                background-color: var(--input-bg-color);\n                position: relative;\n            ";const t=document.createElement("span");t.textContent="DD/MM/YYYY",t.style.cssText="opacity: 0.7;",t.setAttribute("contenteditable","true"),t.setAttribute("spellcheck","false"),t.addEventListener("input",(()=>{t.style.opacity="1"}));const n=document.createElement("i");n.className="fas fa-calendar-alt",n.style.cssText="\n                color: var(--color-primary);\n                font-size: 18px;\n                cursor: pointer;\n            ";const o=document.createElement("div");o.style.cssText="\n                position: absolute;\n                top: 101%;\n                right: 0;\n                width: 200px;\n                padding: 10px;\n                border: 1px solid #ddd;\n                border-radius: 5px;\n                background-color: var(--input-bg-color);\n                display: none; /* Initially hidden */\n                box-shadow: 0 2px 8px rgba(0,0,0,0.15);\n                z-index: 9;\n            ";const a=document.createElement("div");a.textContent="January",a.setAttribute("contenteditable","true"),a.style.cssText="\n                text-align: center;\n                font-weight: bold;\n                margin-bottom: 6px;\n            ";const s=document.createElement("div");s.textContent="2025",s.setAttribute("contenteditable","true"),s.style.cssText="\n                text-align: center;\n                font-weight: bold;\n                margin-bottom: 8px;\n            ";const r=document.createElement("div");r.style.cssText="\n                display: grid;\n                grid-template-columns: repeat(7, 1fr);\n                gap: 4px;\n                text-align: center;\n                font-size: 12px;\n            ";for(let e=1;e<=31;e++){const n=document.createElement("span");n.textContent=e,n.style.cssText="\n            padding: 5px;\n            border-radius: 3px;\n            cursor: pointer;\n            background-color: var(--neutral-gray);\n        ",n.addEventListener("click",(()=>{t.textContent=`${a.textContent} ${e}, ${s.textContent}`,o.style.display="none",t.style.opacity="1"})),r.appendChild(n)}return o.appendChild(a),o.appendChild(s),o.appendChild(r),n.addEventListener("click",(()=>{o.style.display="none"===o.style.display?"block":"none"})),e.appendChild(t),e.appendChild(n),e.appendChild(o),e},fileUpload:()=>{const e=document.createElement("div");e.style.cssText="width: 100%; position: relative;";const t=document.createElement("input");t.type="file",t.id="file-upload",t.style.cssText="width: 100%; height: 100%; opacity: 0; position: absolute; cursor: pointer;";const n=document.createElement("label");return n.htmlFor="file-upload",n.className="file-upload-label",n.innerHTML='<i class="fas fa-cloud-upload-alt"></i> Choose a file',e.appendChild(t),e.appendChild(n),e},bottomNav:()=>{const e=document.createElement("nav");e.className="bottomNavContain max-items";const t=document.createElement("div");t.style.cssText="background-color: rgba(0,0,0,0.12); width: 100%; height: 3px; position: absolute; top:-3px; left: 0;";const n=document.createElement("div");n.className="bottomNav bottom-navbar",n.innerHTML='\n                <div class="nav-item-container">\n                    <button class="nav-delete-btn">×</button>\n                    <a href="#" style="text-align: center; color: var(--color-primary); text-decoration: none; display: flex; flex-direction: column; align-items: center;">\n                        <i class="fas fa-home" style="font-size: 20px; margin-bottom: 4px;"></i>\n                        <span style="font-size: 12px;">Home</span>\n                    </a>\n                </div>\n                <div class="nav-item-container">\n                    <button class="nav-delete-btn">×</button>\n                    <a href="#" style="text-align: center; color: var(--color-primary); text-decoration: none; display: flex; flex-direction: column; align-items: center;">\n                        <i class="fas fa-search" style="font-size: 20px; margin-bottom: 4px;"></i>\n                        <span style="font-size: 12px;">Search</span>\n                    </a>\n                </div>\n                <div class="nav-item-container">\n                    <button class="nav-delete-btn">×</button>\n                    <a href="#" style="text-align: center; color: var(--color-primary); text-decoration: none; display: flex; flex-direction: column; align-items: center;">\n                        <i class="fas fa-plus" style="font-size: 20px; margin-bottom: 4px;"></i>\n                        <span style="font-size: 12px;">Add</span>\n                    </a>\n                </div>\n                <div class="nav-item-container">\n                    <button class="nav-delete-btn">×</button>\n                    <a href="#" style="text-align: center; color: var(--color-primary); text-decoration: none; display: flex; flex-direction: column; align-items: center;">\n                        <i class="fas fa-heart" style="font-size: 20px; margin-bottom: 4px;"></i>\n                        <span style="font-size: 12px;">Like</span>\n                    </a>\n                </div>\n                <div class="nav-item-container">\n                    <button class="nav-delete-btn">×</button>\n                    <a href="#" style="text-align: center; color: var(--color-primary); text-decoration: none; display: flex; flex-direction: column; align-items: center;">\n                        <i class="fas fa-user" style="font-size: 20px; margin-bottom: 4px;"></i>\n                        <span style="font-size: 12px;">Profile</span>\n                    </a>\n                </div>\n                <button class="nav-add-btn"><i class="fas fa-plus"></i></button>\n            ',n.querySelectorAll(".nav-delete-btn").forEach((t=>{t.addEventListener("click",(function(){n.querySelectorAll(".nav-item-container").length>1&&(this.closest(".nav-item-container").remove(),a(e))}))}));const o=n.querySelector(".nav-add-btn");function a(e){e.querySelectorAll(".nav-item-container").length>=5?e.classList.add("max-items"):e.classList.remove("max-items")}return o.addEventListener("click",(()=>{if(n.querySelectorAll(".nav-item-container").length<5){const t=document.createElement("div");t.className="nav-item-container",t.innerHTML='\n                        <button class="nav-delete-btn">×</button>\n                        <a href="#" style="text-align: center; color: var(--color-primary); text-decoration: none; display: flex; flex-direction: column; align-items: center;">\n                            <i class="fa-solid fa-bolt-lightning" style="font-size: 20px; margin-bottom: 4px;"></i>\n                            <span style="font-size: 12px;">New</span>\n                        </a>\n                    ',t.querySelector(".nav-delete-btn").addEventListener("click",(function(){n.querySelectorAll(".nav-item-container").length>1&&(this.closest(".nav-item-container").remove(),a(e))})),t.querySelector("i").addEventListener("click",(e=>{e.preventDefault(),showIconPicker(e.target)})),this.makeTextEditable(t.querySelector("span")),n.insertBefore(t,o),a(e)}})),n.querySelectorAll("span").forEach((e=>this.makeTextEditable(e))),n.querySelectorAll(".nav-item-container i").forEach((e=>{e.style.cursor="pointer",e.addEventListener("click",(t=>{t.preventDefault(),showIconPicker(e)}))})),e.appendChild(t),e.appendChild(n),e},heading(e,t="h1",n="Heading"){const o=["h1","h2","h3","h4","h5","h6"];let a=o.indexOf(t.toLowerCase());-1===a&&(a=0);const s=document.createElement("div");s.className="heading-wrapper",s.style.cssText="width: 100%; position: relative;";const r=document.createElement("div");r.className="heading-controls",r.style.cssText="\n        position: absolute;\n        top: -24px;\n        left: 14px;\n        opacity: 0;\n        transition: opacity 0.2s ease;\n        display: none;\n        gap: 2px;\n        display: flex;\n    ";const i=document.createElement("button"),l=document.createElement("i");l.className="fas fa-minus",i.appendChild(l),i.style.cssText="\n        padding: 6px 9px;\n        border: 1px solid var(--input-bg-color);\n        border-radius: 4px;\n        background: var(--interface-color);\n        color: #e8e8e8;\n        cursor: pointer;\n        font-size: 13px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        opacity: 0;\n    ";const c=document.createElement("button"),d=document.createElement("i");d.className="fas fa-angle-right",c.appendChild(d),c.style.cssText=i.style.cssText;const p=document.createElement("span");let u;if(p.className="level-indicator",p.style.cssText="\n        padding: 7px 4px 4px 4px;\n        border: 1px solid var(--input-bg-color);\n        border-radius: 4px;\n        background: var(--interface-color);\n        color: #e8e8e8;\n        font-size: 13px;\n        line-height: 1;\n        min-width: 22px;\n        max-width: 22px;\n        text-align: center;\n        opacity: 0;\n    ",e){const t=e.querySelector("h1, h2, h3, h4, h5, h6");if(t){const e=t.tagName.toLowerCase();a=o.indexOf(e),-1===a&&(a=0),u=document.createElement(e),u.textContent=t.textContent,u.style.cssText=t.style.cssText||"margin: 0;",u.setAttribute("contentEditable","true")}}else u=document.createElement(o[a]),u.textContent=n,u.setAttribute("contentEditable","true"),u.style.cssText="margin: 0;";const m=e=>{a=(e+o.length)%o.length;const t=o[a],n=document.createElement(t);n.textContent=u.textContent,n.setAttribute("contentEditable","true"),n.style.cssText=u.style.cssText,p.textContent=t.toUpperCase(),u.replaceWith(n),u=n};return i.addEventListener("click",(()=>m(a-1))),c.addEventListener("click",(()=>m(a+1))),s.addEventListener("mouseenter",(()=>{r.style.display="flex",setTimeout((()=>{r.style.opacity="1",c.style.opacity="1",i.style.opacity="1",p.style.opacity="1"}),0)})),s.addEventListener("mouseleave",(()=>{r.style.opacity="0",c.style.opacity="0",i.style.opacity="0",p.style.opacity="0",setTimeout((()=>{r.style.display="none"}),200)})),p.textContent=o[a].toUpperCase(),r.appendChild(p),r.appendChild(c),s.appendChild(r),s.appendChild(u),s},paragraph(e,t="This is a paragraph. Click to edit."){const n=document.createElement("div");n.className="component-wrapper",n.style.cssText="width: 100%;";const o=document.createElement("div");let a;return e?a=e.cloneNode(!0):(a=document.createElement("p"),a.textContent=t,a.style.cssText="color: var(--basic-txt-color); line-height: 1.6; margin-bottom: 15px;",a.setAttribute("contentEditable","true"),a.addEventListener("input",(()=>{n.dataset.paragraphText=a.textContent}))),o.appendChild(a),n.appendChild(o),n},blockquote(e){const t=document.createElement("div");t.className="component-wrapper",t.style.cssText="width: 100%;";const n=document.createElement("div");let o;return e?o=e.cloneNode(!0):(o=document.createElement("blockquote"),o.textContent="This is a block-quote. Click to edit.",o.style.cssText="color: #555; font-style: italic; border-left: 5px solid var(--color-primary); padding: 8px 18px; margin: 12px 0; background-color: var(--input-bg-color);",o.setAttribute("contentEditable","true"),o.addEventListener("input",(()=>{t.dataset.blockquoteText=o.textContent}))),n.appendChild(o),t.appendChild(n),t},label(e){let t;return e?t=e.cloneNode(!0):(t=document.createElement("label"),t.textContent="Label Text",t.style.cssText="\n                display: block;\n                color: var(--basic-txt-color);\n                font-weight: 500;\n                margin: 10px 0 -4px 4px;\n                font-size: 14px;\n                width: 100%;\n              ",t.setAttribute("contentEditable","true")),t},graph:()=>{const e=document.createElement("div");e.classList.add("resizeable"),e.style.cssText="width: 100%; height: 260px; background: var(--input-bg-color); padding: 34px 12px 14px 14px; border-radius: 8px; border: 0.12rem solid var(--neutral-gray); border-bottom: 3px solid rgba(0,0,0,.12); position: relative;";const t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n=[{label:"Jan",value:30},{label:"Feb",value:45},{label:"Mar",value:25},{label:"Apr",value:60},{label:"May",value:40}],o=document.createElement("div");o.style.cssText="\n        width: 100%;\n        height: 100%;\n        position: relative;\n    ";const a=document.createElement("div");a.style.cssText="\n        position: absolute;\n        left: 20px;\n        right: 0;\n        top: 0;\n        bottom: 30px;\n        display: flex;\n        flex-direction: column;\n        justify-content: space-between;\n        pointer-events: none;\n    ";const s=document.createElement("div");function r(){s.innerHTML="";const e=Math.max(...n.map((e=>e.value)),1);a.innerHTML="";for(let t=0;t<=5;t++){const n=document.createElement("div");n.style.cssText="\n                width: 100%;\n                height: 1px;\n                background: var(--neutral-gray);\n                position: relative;\n            ";const o=document.createElement("div");o.textContent=Math.round(e*(1-t/5)),o.style.cssText="\n                position: absolute;\n                right: 100%;\n                transform: translateY(-50%);\n                font-size: 12px;\n                color: var(--basic-txt-color);\n                margin-right: 8px;\n            ",n.appendChild(o),a.appendChild(n)}n.forEach(((t,o)=>{const a=document.createElement("div");a.style.cssText="\n                flex: 1;\n                height: 100%;\n                display: flex;\n                flex-direction: column;\n                align-items: center;\n                justify-content: flex-end;\n                position: relative;\n            ";const i=document.createElement("div"),l=t.value/e*100;i.style.cssText=`\n                width: 100%;\n                height: ${l}%;\n                background: var(--color-primary);\n                border-radius: 4px 4px 0 0;\n                cursor: pointer;\n                transition: background-color 0.2s;\n            `;const c=document.createElement("div");c.textContent=t.value,c.style.cssText=`\n                font-size: 12px;\n                color: var(--basic-txt-color);\n                position: absolute;\n                bottom: ${l}%; \n                margin-bottom: 4px;         \n            `;const d=document.createElement("div");d.textContent=t.label,d.style.cssText="\n                font-size: 12px;\n                color: var(--basic-txt-color);\n                position: absolute;\n                bottom: -25px;\n            ";let p=!1;i.addEventListener("mousedown",(()=>{p=!0,i.style.backgroundColor="var(--interface-color)"})),document.addEventListener("mousemove",(t=>{if(!p)return;const a=s.getBoundingClientRect(),r=Math.max(0,Math.min(a.height,a.bottom-t.clientY)),l=Math.round(r/a.height*e);l!==n[o].value&&(n[o].value=l,c.textContent=l,i.style.height=l/e*100+"%")})),document.addEventListener("mouseup",(()=>{p&&(p=!1,i.style.backgroundColor="var(--color-primary)",r())})),a.appendChild(c),a.appendChild(i),a.appendChild(d),s.appendChild(a)}))}s.style.cssText="\n        position: absolute;\n        left: 30px;\n        right: 0;\n        bottom: 30px;\n        top: 0;\n        display: flex;\n        align-items: flex-end;\n        gap: 10px;\n    ";const i=document.createElement("div");i.className="bar-graph-controls",i.style.cssText="\n        position: absolute;\n        top: -28px;\n        left: 50%;\n        transform: translateX(-50%);\n        display: flex;\n        gap: 8px;\n        padding: 4px;\n        background: var(--interface-color);\n        border-radius: 4px;\n        opacity: 0;\n        transition: opacity 0.3s;\n        z-index: 87940;\n    ";const l=document.createElement("button");l.innerHTML='<i class="fas fa-plus"></i>',l.style.cssText="\n        padding: 4px 8px;\n        border: none;\n        border-radius: 4px;\n        background: none;\n        color: white;\n        cursor: pointer;\n    ";const c=document.createElement("button");return c.innerHTML='<i class="fas fa-minus"></i>',c.style.cssText=l.style.cssText,l.onclick=()=>{n.length<12&&(n.push({label:t[n.length],value:Math.floor(80*Math.random())+10}),r())},c.onclick=()=>{n.length>2&&(n.pop(),r())},e.addEventListener("mouseenter",(()=>i.style.opacity="1")),e.addEventListener("mouseleave",(()=>i.style.opacity="0")),i.appendChild(c),i.appendChild(l),e.appendChild(i),o.appendChild(a),o.appendChild(s),e.appendChild(o),r(),e},pieGraph:()=>{const e=document.createElement("div");e.style.cssText="width: 100%; height: auto; min-height: 200px; padding: 14px; border-radius: 8px; position: relative;";const t=[{label:"Segment A",value:35,color:"#5D0BB5"},{label:"Segment B",value:15,color:"#027BD1"},{label:"Segment C",value:15,color:"#00CD67"},{label:"Segment D",value:35,color:"#F23A0C"}],n=["#5D0BB5","#027BD1","#00CD67","#F23A0C","#CE1590","#FF5722","#E0CE28","#84898B"],o=document.createElement("div");o.style.cssText="\n         display: none;\n         position: fixed;\n         top: 0;\n         left: 0;\n         width: 100%;\n         height: 100%;\n         background: rgba(0, 0, 0, 0.3);\n         z-index: 1000;\n         justify-content: center;\n         align-items: center;\n     ";const a=document.createElement("div");a.style.cssText="\n         background: var(--input-bg-color);\n         padding: 18px;\n         border-radius: 8px;\n         position: relative;\n         width: 90%;\n         max-width: 190px;\n     ";const s=document.createElement("button");s.innerHTML="×",s.style.cssText="\n         position: absolute;\n         right: 10px;\n         top: 10px;\n         background: none;\n         border: none;\n         font-size: 24px;\n         cursor: pointer;\n         color: var(--basic-txt-color);\n         z-index: 1001;\n     ",s.onclick=()=>o.style.display="none";const r=document.createElement("div");r.id="segment-color-picker";const i=document.createElement("div");let l;function c(){if(o.style.display="flex",l){for(;l.colors.length>t.length;)l.removeColor(l.colors.length-1);for(;l.colors.length<t.length;)l.addColor(t[l.colors.length].color);t.forEach(((e,t)=>{l.colors[t].hexString=e.color}))}else l?l.colors=t.map((e=>e.color)):(l=new iro.ColorPicker("#segment-color-picker",{width:190,colors:t.map((e=>e.color)),handleRadius:7,borderWidth:1,activeHandleRadius:11,borderColor:"#fff",wheelAngle:90,sliderSize:22}),l.on(["mount","color:change"],(function(){i.innerHTML="",l.colors.forEach(((e,n)=>{if(n<t.length){const o=e.hexString,a=document.createElement("div");a.style.cssText="\n                            display: flex;\n                            align-items: center;\n                            gap: 10px;\n                            cursor: pointer;\n                        ",a.innerHTML=`\n                            <div style="\n                                width: 20px;\n                                height: 20px;\n                                background: ${o};\n                                border-radius: 4px;\n                            "></div>\n                            <span style="color: var(--basic-txt-color);">${t[n].label}</span>\n                            <span style="color: gray; font-size: smaller; margin-left: auto;">${o}</span>\n                        `,a.onclick=()=>l.setActiveColor(n),i.appendChild(a)}}))})),l.on("color:change",(function(e){e.index<t.length&&(t[e.index].color=e.hexString,u())})))}i.style.cssText="\n         margin-top: 20px;\n         display: flex;\n         flex-direction: column;\n         gap: 10px;\n     ",a.appendChild(s),a.appendChild(r),a.appendChild(i),o.appendChild(a),document.body.appendChild(o);const d=document.createElement("div");d.style.cssText="\n         width: 100%;\n         display: flex;\n         flex-wrap: wrap;\n         gap: 10px;\n         justify-content: center;\n     ";const p=200;function u(){d.innerHTML="";const e=t.reduce(((e,t)=>e+t.value),0),o=document.createElement("div");o.style.cssText=`\n            flex: 0 0 ${p}px;\n            height: ${p}px;\n            position: relative;\n        `;const a="http://www.w3.org/2000/svg",s=document.createElementNS(a,"svg");s.setAttribute("width",p),s.setAttribute("height",p),s.setAttribute("viewBox","-100 -100 200 200");const r=document.createElementNS(a,"defs"),i=document.createElementNS(a,"filter");i.setAttribute("id","hover-shadow"),i.innerHTML='\n            <feDropShadow dx="0" dy="0" stdDeviation="3" flood-opacity="0.3"/>\n        ',r.appendChild(i),s.appendChild(r);let l=0;t.forEach(((t,o)=>{const r=t.value/e,i=360*r,c=l+i,d=(l-90)*Math.PI/180,p=(c-90)*Math.PI/180,m=100*Math.cos(d),h=100*Math.sin(d),y=100*Math.cos(p),x=100*Math.sin(p),g=document.createElementNS(a,"path"),v=`M 0 0 L ${m} ${h} A 100 100 0 ${i>180?1:0} 1 ${y} ${x} Z`;g.setAttribute("d",v),g.setAttribute("fill",t.color||n[o]),g.style.cursor="pointer",g.style.transition="filter 0.2s",g.addEventListener("mouseenter",(()=>{g.style.filter="url(#hover-shadow)",g.style.opacity="0.9"})),g.addEventListener("mouseleave",(()=>{g.style.filter="none",g.style.opacity="1"})),g.addEventListener("click",(()=>{const e=prompt(`Enter new value for ${t.label}:`,t.value);e&&!isNaN(e)&&(t.value=Number(e),u())})),s.appendChild(g);const f=(l+i/2-90)*Math.PI/180,b=70*Math.cos(f),E=70*Math.sin(f),C=document.createElementNS(a,"g");C.setAttribute("transform",`translate(${b} ${E})`);const w=document.createElementNS(a,"text");w.textContent=`${Math.round(100*r)}%`,w.setAttribute("text-anchor","middle"),w.setAttribute("fill","white"),C.appendChild(w),s.appendChild(C),l=c})),o.appendChild(s),d.appendChild(o);const m=document.createElement("div");m.style.cssText="\n            flex: 1;\n            display: flex;\n            flex-wrap: wrap;\n            gap: 8px;\n            padding: 8px;\n            min-width: 180px;\n            max-width: 300px;\n        ",t.forEach(((e,t)=>{const o=document.createElement("div");o.style.cssText="\n                display: flex;\n                align-items: center;\n                gap: 6px;\n            ";const a=document.createElement("div");a.style.cssText=`\n                width: 16px;\n                height: 16px;\n                background: ${e.color||n[t]};\n                flex-shrink: 0;\n                position: relative;\n                cursor: pointer;\n            `,a.addEventListener("click",c);const s=document.createElement("input");s.value=e.label,s.style.cssText="\n                border: none;\n                background: transparent;\n                color: var(--basic-txt-color);\n                font-size: 14px;\n                flex: 1;\n                min-width: 0;\n                cursor: pointer;\n            ",s.addEventListener("change",(()=>{e.label=s.value,u()})),o.appendChild(a),o.appendChild(s),m.appendChild(o)})),d.appendChild(m)}const m=document.createElement("div");m.className="pie-graph-controls",m.style.cssText="\n        position: absolute;\n        top: -28px;\n        left: 50%;\n        transform: translateX(-50%);\n        display: flex;\n        gap: 8px;\n        padding: 4px;\n        background: var(--interface-color);\n        border-radius: 4px;\n        opacity: 0;\n        transition: opacity 0.3s;\n        z-index: 8989898;\n    ";const h=document.createElement("button");h.innerHTML='<i class="fas fa-plus"></i>',h.style.cssText="\n        padding: 4px 8px;\n        border: none;\n        border-radius: 4px;\n        background: none;\n        color: white;\n        cursor: pointer;\n    ";const y=document.createElement("button");return y.innerHTML='<i class="fas fa-minus"></i>',y.style.cssText=h.style.cssText,h.onclick=()=>{t.length<8&&(t.push({label:`Segment ${String.fromCharCode(65+t.length)}`,value:Math.floor(30*Math.random())+10,color:n[t.length]}),u(),l&&l.addColor(n[t.length-1]))},y.onclick=()=>{t.length>2&&(t.pop(),u(),l&&l.removeColor(l.colors.length-1))},e.addEventListener("mouseenter",(()=>m.style.opacity="1")),e.addEventListener("mouseleave",(()=>m.style.opacity="0")),m.appendChild(y),m.appendChild(h),e.appendChild(m),e.appendChild(d),u(),e},leftChat:()=>{const e=document.createElement("div");e.style.cssText="width: 100%; display: flex; align-items: flex-start; gap: 10px; margin-bottom: 12px; position: relative;";const t=document.createElement("div");t.innerHTML="AV",t.style.cssText="width: 40px; height: 40px; background-color: var(--color-primary); color: #ffffff; border-radius: 50%; display: flex; justify-content: center; align-items: center; font-weight: bold; flex-shrink: 0;",t.setAttribute("contentEditable","true");const n=document.createElement("div");n.style.cssText="flex-grow: 1; max-width: 80%;";const o=document.createElement("div");o.classList="leftChat",o.style.cssText="background-color: var(--neutral-gray); padding: 12px 16px; border-radius: 18px; border-top-left-radius: 4px; width: fit-content; word-wrap: break-word;";const a=document.createElement("div");a.className="chat-content",a.innerHTML="Click to edit this message.",a.setAttribute("contentEditable","true");const s=document.createElement("div");s.className="chat-image-container",s.style.cssText="margin-top: 8px; cursor: pointer; display: none;",o.addEventListener("mouseenter",(()=>{s.style.display="block"})),o.addEventListener("mouseleave",(()=>{const e=s.querySelector("img");e&&"none"!==e.style.display||(s.style.display="none")}));const r=document.createElement("img");r.style.cssText="max-width: 200px; max-height: 200px; border-radius: 12px; display: none;",r.alt="Chat image";const i=document.createElement("div");i.className="image-placeholder",i.style.cssText="display: flex; align-items: center; justify-content: center; color: #666; padding: 8px; border: 0.12rem dashed #ccc; border-radius: 8px;";const l=document.createElement("i");l.className="fas fa-image",l.style.marginRight="8px",i.appendChild(l),i.appendChild(document.createTextNode("Add Image"));const c=document.createElement("div");return c.textContent="1 minute ago",c.style.cssText="font-size: 12px; color: #666; margin-top: 4px;",c.setAttribute("contentEditable","true"),s.addEventListener("click",(()=>{const e=document.createElement("input");e.type="file",e.accept="image/*",e.onchange=e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{r.src=e.target.result,r.style.display="block",i.style.display="none",s.style.display="block"},e.readAsDataURL(t)}},e.click()})),s.appendChild(r),s.appendChild(i),o.appendChild(a),o.appendChild(s),n.appendChild(o),n.appendChild(c),e.appendChild(t),e.appendChild(n),e},rightChat:()=>{const e=document.createElement("div");e.style.cssText="width: 100%; display: flex; flex-direction: row-reverse; align-items: flex-start; gap: 10px; margin-bottom: 12px;";const t=document.createElement("div");t.innerHTML="ME",t.style.cssText="width: 40px; height: 40px; background-color: var(--color-primary); color: white; border-radius: 50%; display: flex; justify-content: center; align-items: center; font-weight: bold; flex-shrink: 0;",t.setAttribute("contentEditable","true");const n=document.createElement("div");n.style.cssText="flex-grow: 1; display: flex; flex-direction: column; align-items: flex-end;";const o=document.createElement("div");o.classList="rightChat",o.style.cssText="background-color: var(--color-primary); color: white; padding: 12px 16px; border-radius: 18px; border-top-right-radius: 4px; max-width: 82%; display: inline-block; word-wrap: break-word;";const a=document.createElement("div");a.className="chat-content",a.innerHTML="Click to edit this message.",a.setAttribute("contentEditable","true");const s=document.createElement("div");s.className="chat-image-container",s.style.cssText="margin-top: 8px; cursor: pointer; display: none;",o.addEventListener("mouseenter",(()=>{s.style.display="block"})),o.addEventListener("mouseleave",(()=>{const e=s.querySelector("img");e&&"none"!==e.style.display||(s.style.display="none")}));const r=document.createElement("img");r.style.cssText="max-width: 200px; max-height: 200px; border-radius: 12px; display: none;",r.alt="Chat image";const i=document.createElement("div");i.className="image-placeholder",i.style.cssText="display: flex; align-items: center; justify-content: center; color: #eee; padding: 8px; border: 0.12rem dashed #ccc; border-radius: 8px;";const l=document.createElement("i");l.className="fas fa-image",l.style.marginRight="8px",i.appendChild(l),i.appendChild(document.createTextNode("Add Image"));const c=document.createElement("div");c.textContent="1 minute ago",c.style.cssText="font-size: 12px; color: #666; margin-top: 4px;";o.querySelector(".chat-content");return c.setAttribute("contentEditable","true"),s.addEventListener("click",(()=>{const e=document.createElement("input");e.type="file",e.accept="image/*",e.onchange=e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{r.src=e.target.result,r.style.display="block",i.style.display="none",s.style.display="block"},e.readAsDataURL(t)}},e.click()})),s.appendChild(r),s.appendChild(i),o.appendChild(a),o.appendChild(s),n.appendChild(o),n.appendChild(c),e.appendChild(t),e.appendChild(n),e},chatInput:e=>{let t;return e?t=e.cloneNode(!0):(t=document.createElement("div"),t.style.cssText="width: 100%; padding: 10px 0;",t.innerHTML=setupVariants("chatInput")[0]),t},notificationBanner:e=>{let t,n,o,a,s,r,i,l;return e?(t=e.cloneNode(!0),n=t.querySelector("div:first-child"),o=n.querySelector("i"),a=t.querySelector("div:nth-child(2)"),s=a.querySelector("div:nth-child(1)"),r=a.querySelector("div:nth-child(2)"),i=a.querySelector(".notification-action"),l=t.querySelector(".visibility-toggle")):(t=document.createElement("div"),t.classList.add("notification-banner"),t.style.cssText="width: 100%; background-color: var(--neutral-gray); border-left: 4px solid var(--color-primary); padding: 12px 8px; margin: 6px 0; display: flex; align-items: flex-start; gap: 12px; border-radius: 4px; position: relative;",n=document.createElement("div"),n.classList.add("icon-container"),n.style.cssText="flex-shrink: 0;",o=document.createElement("i"),o.className="fas fa-bell",o.style.cssText="font-size: 20px; color: var(--color-accent); cursor: pointer;",n.appendChild(o),a=document.createElement("div"),a.style.cssText="flex-grow: 1; display: flex; flex-direction: column; gap: 4px;",s=document.createElement("div"),s.textContent="Click to edit this important notification message.",s.style.cssText="font-weight: 500; color: var(--basic-txt-color);",s.setAttribute("contentEditable","true"),r=document.createElement("div"),r.textContent="Additional details can go here.",r.style.cssText="font-size: 14px; color: #666;",r.setAttribute("contentEditable","true"),i=document.createElement("div"),i.className="notification-action",i.textContent="Action",i.style.cssText="\n        background-color: var(--color-primary);\n        color: var(--basic-txt-color);\n        padding: 6px 8px;\n        border-radius: 4px;\n        cursor: pointer;\n        font-weight: 500;\n        display: block;\n        margin-top: 6px;\n        width: fit-content;\n        font-size: small;\n      ",i.setAttribute("contentEditable","true"),i.dataset.alwaysVisible="true",l=document.createElement("div"),l.className="visibility-toggle",l.innerHTML='<i class="fas fa-eye"></i>',l.style.cssText="\n        position: absolute;\n        bottom: 16px;\n        left: 6px;\n        cursor: pointer;\n        background-color: rgba(0, 0, 0, 0.1);\n        padding: 4px;\n        border-radius: 4px;\n        font-size: 14px;\n      ",a.appendChild(s),a.appendChild(r),a.appendChild(i),t.appendChild(n),t.appendChild(a),t.appendChild(l)),this.setupNotificationBanner(t),t},progressTracker:e=>{let t;if(e)return t=e.cloneNode(!0),this.setupProgressTracker(t),t;{t=document.createElement("div"),t.className="progress-tracker-container";const e=document.createElement("div");e.className="progress-tracker-controls";const n=document.createElement("button");n.innerHTML='<i class="fas fa-plus pt-add-step"></i>',n.style.cssText="\n            background-color: var(--interface-color);\n            color: white;\n            border: none;\n            border-radius: 4px;\n            width: 24px;\n            height: 24px;\n            cursor: pointer;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n        ";const o=document.createElement("button");o.innerHTML='<i class="fas fa-minus pt-remove-step"></i>',o.style.cssText=n.style.cssText,o.style.opacity="0.5",e.appendChild(o),e.appendChild(n);const a=document.createElement("div");a.style.cssText="display: flex; flex-direction: column; align-items: center; gap: 8px; z-index: 2; flex: 0 1 auto; text-align: center;",a.setAttribute("data-step","");const s=document.createElement("div");s.className="step-circle",s.style.cssText="background-color: var(--primary-color);",s.textContent="1",s.setAttribute("contentEditable","true");const r=document.createElement("div");r.textContent="Step 1",r.style.cssText="font-size: 14px; color: #666; font-weight: 500;",r.setAttribute("contentEditable","true"),a.appendChild(s),a.appendChild(r);const i=document.createElement("div");i.className="steps-container",i.style.cssText="display: flex; align-items: center; justify-content: center; width: 100%; position: relative;",i.appendChild(a),t.appendChild(i),t.appendChild(e)}return this.setupProgressTracker(t),t},featureComparisonCard:()=>{const e=document.createElement("div");e.style.cssText="width: 100%; border: 1px solid var(--neutral-gray); border-radius: var(--standard-radius); overflow: visible; position: relative;";const t=document.createElement("div");t.style.cssText="padding: 14px; background-color: var(--color-primary); color: var(--basic-txt-color); border-radius: var(--standard-radius) var(--standard-radius) 0 0";const n=document.createElement("div");n.classList.add("heading-wrapper");const o=document.createElement("h4");o.textContent="Feature Comparison",o.style.cssText="margin: 0; font-size: 18px; font-weight: bold;",this.makeTextEditable(o),n.appendChild(o);const a=document.createElement("div");a.style.cssText="padding: 16px; background-color: var(--input-bg-color); border-radius: var(--standard-radius)";const s=document.createElement("div");s.style.cssText="display: grid; grid-template-columns: 2fr 1fr 1fr; gap: 12px; align-items: center;";const r=document.createElement("button");r.innerHTML='<i class="fas fa-plus"></i> Add Feature',r.style.cssText="\n            background-color: var(--interface-color);\n            color: white;\n            border: none;\n            border-radius: 4px;\n            padding: 6px 12px;\n            cursor: pointer;\n            display: none;\n            align-items: center;\n            gap: 4px;\n            font-size: 14px;\n            position: absolute;\n            top: -18px;\n            left: 50%;\n            transform: translateX(-50%);\n            z-index: 920110;\n        ";["Features","Basic","Pro"].map(((e,t)=>{const n=document.createElement("div");return n.textContent=e,n.style.cssText="font-weight: bold; color: #777; padding: 8px 0; "+(t>0?"text-align: center;":""),this.makeTextEditable(n),n})).forEach((e=>s.appendChild(e)));const i=(e="New Feature",t=!1)=>{const n=document.createElement("div");n.style.cssText="color: var(--basic-txt-color); display: flex; align-items: center; gap: 8px;";const o=document.createElement("button");o.innerHTML='<i class="fas fa-trash"></i>',o.style.cssText="\n                background: none;\n                border: none;\n                color: #ff4444;\n                cursor: pointer;\n                padding: 0px 4px;\n                display: none;\n                font-size: 12px;\n            ";const a=document.createElement("div");a.style.cssText="display: flex; align-items: center; gap: 8px; width: 100%;";const r=document.createElement("span");r.textContent=e,this.makeTextEditable(r),a.appendChild(r),a.appendChild(o),n.appendChild(a),n.addEventListener("mouseenter",(()=>o.style.display="block")),n.addEventListener("mouseleave",(()=>o.style.display="none"));const i=document.createElement("div");i.innerHTML=t?'<i class="fas fa-times" style="color: #999;"></i>':'<i class="fas fa-check" style="color: green;"></i>',i.style.cssText="text-align: center; cursor: pointer;";const l=document.createElement("div");l.innerHTML='<i class="fas fa-check" style="color: green;"></i>',l.style.cssText="text-align: center; cursor: pointer;",[i,l].forEach((e=>{e.onclick=()=>{const t=null!==e.querySelector(".fa-check");e.innerHTML=t?'<i class="fas fa-times" style="color: #999;"></i>':'<i class="fas fa-check" style="color: green;"></i>'}})),o.onclick=e=>{e.stopPropagation(),[n,i,l].forEach((e=>e.remove()))},s.appendChild(n),s.appendChild(i),s.appendChild(l)};return["Feature 1","Feature 2","Feature 3"].forEach((e=>{i(e)})),r.onclick=()=>{i("New Feature",!0)},t.appendChild(n),a.appendChild(s),e.appendChild(t),e.appendChild(a),e.appendChild(r),{container:e,setup:()=>{const t=e.closest(".component-container");t&&(t.addEventListener("mouseenter",(()=>{r.style.display="block"})),t.addEventListener("mouseleave",(()=>{r.style.display="none"})))}}},columns:()=>{const e=document.createElement("div");e.className="columns-wrapper";const t=document.createElement("div");t.className="columns-controls",t.style.cssText="\n        position: absolute;\n        top: -28px;\n        left: 50%;\n        transform: translateX(-50%);\n        display: none;\n        gap: 0px;\n        background: var(--interface-color);\n        padding: 2px;\n        border-radius: 4px;\n        z-index: 91000;\n    ";const n=document.createElement("div");n.style.cssText="\n        display: flex;\n        align-items: center;\n        gap: 6px;\n        padding-left: 8px;\n        margin-left: 1px;\n        border-left: 1px solid rgba(255, 255, 255, 0.2);\n    ";const o=document.createElement("input");o.type="range",o.min="2",o.max="42",o.value="2",o.style.cssText="\n        width: 60px;\n        height: 4px;\n        border-radius: 2px;\n        -webkit-appearance: none;\n        background: rgba(255, 255, 255, 0.2);\n    ";const a=document.createElement("style");a.textContent="\n        gapRange::-webkit-slider-thumb {\n            -webkit-appearance: none;\n            width: 12px;\n            height: 12px;\n            border-radius: 50%;\n            background: white;\n            cursor: pointer;\n            border: none;\n        }\n        gapRange::-moz-range-thumb {\n            width: 12px;\n            height: 12px;\n            border-radius: 50%;\n            background: white;\n            cursor: pointer;\n            border: none;\n        }\n    ",document.head.appendChild(a);const s=document.createElement("span");s.style.cssText="\n        color: white;\n        font-size: 12px;\n        min-width: 20px;\n    ",s.textContent="2",o.addEventListener("input",(t=>{const n=t.target.value;s.textContent=`${n}`,e.style.gap=`${n}px`})),n.appendChild(o),n.appendChild(s),e.style.cssText=`\n    width: 100%;\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(90px, 1fr));\n    gap: ${o.value}px;\n    min-height: 20px;\n    position: relative;\n    `;const r=document.createElement("button");r.innerHTML='<i class="fas fa-minus"></i>',r.style.cssText="\n        background: none;\n        border: none;\n        color: white;\n        cursor: pointer;\n        padding: 4px 8px;\n        border-radius: 3px;\n    ";const i=document.createElement("button");i.innerHTML='<i class="fas fa-plus"></i>',i.style.cssText=r.style.cssText;const l=document.createElement("span");l.style.cssText="\n        color: white;\n        padding: 4px 0;\n        min-width: 20px;\n        text-align: center;\n    ",l.textContent="2",t.appendChild(r),t.appendChild(l),t.appendChild(i),t.appendChild(n);const c=()=>{const t=document.createElement("div");t.className="column-container pulseAnim",t.style.cssText="\n            min-height: 60px;\n            max-height: 2000px;\n            border-radius: 4px;\n            transition: outline 0.2s;\n            padding: 2px;\n            min-width: min-content;\n        ",e.addEventListener("mouseover",(t=>{const n=t.target.closest(".component-container");if(!n)return;e.querySelectorAll(".component-container").forEach((e=>{e.classList.add("controls-hidden")})),n.classList.remove("controls-hidden")})),e.addEventListener("mouseleave",(()=>{e.querySelectorAll(".component-container").forEach((e=>{e.classList.remove("controls-hidden")}))})),["dragenter","dragover","dragleave","drop"].forEach((t=>{e.addEventListener(t,(e=>{e.preventDefault(),e.stopPropagation()}))}));const n=t=>{e.querySelectorAll(".column-container").forEach((e=>{e.style.outline=t?"2px dashed var(--color-primary)":"none",e.style.outlineOffset=t?"-2px":"0"}))};return e.addEventListener("dragenter",(e=>{e.target.closest(".column-container")&&e.dataTransfer.types.includes("text/plain")&&n(!0)})),e.addEventListener("dragover",(e=>{e.target.closest(".column-container")&&e.dataTransfer.types.includes("text/plain")&&n(!0)})),e.addEventListener("dragleave",(t=>{const o=!e.contains(t.relatedTarget),a=!t.target.closest(".column-container");(o||a)&&n(!1)})),e.addEventListener("drop",(()=>{n(!1)})),this.initializeSortable(t),t};e.innerHTML="",e.appendChild(c()),e.appendChild(c());const d=t=>{const n=e.querySelectorAll(".column-container"),o=n.length;if(t!==o){if(e.style.gridTemplateColumns="repeat(auto-fit, minmax(90px, 1fr))",l.textContent=t,t>o)for(let n=o;n<t;n++)e.appendChild(c());else{const e=n[0];for(let a=o-1;a>=t;a--){const t=n[a];for(;t.firstChild;)e.appendChild(t.firstChild);t.remove()}}r.disabled=t<=1,i.disabled=t>=5}};r.addEventListener("click",(()=>{const e=parseInt(l.textContent);e>1&&d(e-1)})),i.addEventListener("click",(()=>{const e=parseInt(l.textContent);e<5&&d(e+1)})),e.addEventListener("mouseenter",(()=>{t.style.display="flex"})),e.addEventListener("mouseleave",(()=>{t.style.display="none"})),e.appendChild(t);return new MutationObserver((()=>{(()=>{const t=e.querySelectorAll(".column-container");let n=50;t.forEach((e=>{const t=e.cloneNode(!0);t.style.position="absolute",t.style.visibility="hidden",t.style.width="min-content",document.body.appendChild(t);const o=t.offsetWidth;n=Math.max(n,o),document.body.removeChild(t)})),e.style.gridTemplateColumns=`repeat(auto-fit, minmax(${n}px, 1fr))`})()})).observe(e,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),e},chipGroup:e=>{let t;if(e)return t=e.cloneNode(!0),this.setupChipGroup(t),t;{t=document.createElement("div"),t.className="chip-group-wrapper";const e=document.createElement("div");e.className="chip-group-container";const n=document.createElement("button");n.className="add-chip-btn",n.innerHTML='<i class="fas fa-plus"></i>&nbsp; add pill',["Design","Development","Marketing"].forEach((t=>{const n=document.createElement("div");n.className="chip";const o=document.createElement("span");o.textContent=t;const a=document.createElement("i");a.className="fas fa-times remove-chip",n.appendChild(o),n.appendChild(a),e.appendChild(n)})),t.appendChild(n),t.appendChild(e)}return this.setupChipGroup(t),t},floatingActionButton:()=>{const e=document.createElement("div");e.classList.add("fab"),e.style.cssText="\n      position: absolute;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      width: 46px;\n      height: 46px;\n      background-color: var(--color-primary);\n      border-radius: 50%;\n      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);\n      cursor: pointer;\n      transition: all 0.2s ease;\n      bottom: 27px;\n      right: 17px;\n      z-index: 3847;\n    ";const t=document.createElement("i");return t.className="fas fa-plus",t.style.cssText="\n      font-size: 18px;\n      color: #fff;\n    ",e.appendChild(t),e.addEventListener("click",(e=>{e.preventDefault(),showIconPicker(t)})),e.addEventListener("mouseenter",(()=>{e.style.transform="scale(1.1)",e.style.boxShadow="0 6px 12px rgba(0, 0, 0, 0.2)"})),e.addEventListener("mouseleave",(()=>{e.style.transform="scale(1)",e.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.15)"})),e.addEventListener("click",(()=>{})),e},bulletedList:()=>{const e=document.createElement("div");e.style.cssText="\n        display: flex;\n        flex-direction: column;\n        gap: 6px;\n        padding: 12px;\n        width: 100%;\n        min-height: 48px;\n    ";const t=(t="New item")=>{const o=document.createElement("div");o.style.cssText="\n            display: flex;\n            align-items: flex-start;\n            margin-left: 0px;\n            transition: margin-left 0.2s ease;\n        ";const a=document.createElement("div");a.style.cssText="\n            display: flex;\n            align-items: center;\n            padding: 4px 8px;\n            cursor: pointer;\n        ";const s=document.createElement("i");s.className="fas fa-circle",s.style.cssText="\n            font-size: 12px;\n            margin-top: 1px;\n            color: var(--basic-txt-color);\n        ",a.appendChild(s),a.addEventListener("click",(e=>{e.preventDefault(),showIconPicker(s)}));const r=document.createElement("div");r.style.cssText="\n            flex-grow: 1;\n            color: var(--basic-txt-color);\n            min-height: 24px;\n            padding: 2px 0;\n        ",r.setAttribute("contenteditable","true"),r.textContent=t;const i=document.createElement("div");i.style.cssText="\n            display: none;\n            gap: 8px;\n            padding: 0 4px;\n        ";const l=document.createElement("i");l.className="fas fa-indent",l.style.cssText="\n            font-size: 14px;\n            color: var(--interface-color);\n            cursor: pointer;\n            padding: 4px;\n        ";const c=document.createElement("i");c.className="fas fa-outdent",c.style.cssText="\n            font-size: 14px;\n            color: var(--interface-color);\n            cursor: pointer;\n            padding: 4px;\n        ";const d=document.createElement("i");return d.className="fas fa-times",d.style.cssText="\n            font-size: 14px;\n            color: var(--interface-color);\n            cursor: pointer;\n            padding: 4px;\n        ",i.appendChild(l),i.appendChild(c),i.appendChild(d),o.appendChild(a),o.appendChild(r),o.appendChild(i),o.addEventListener("mouseenter",(()=>{i.style.display="flex"})),o.addEventListener("mouseleave",(()=>{i.style.display="none"})),l.addEventListener("click",(()=>{const e=parseInt(o.style.marginLeft||"0");e<160&&(o.style.marginLeft=`${e+40}px`)})),c.addEventListener("click",(()=>{const e=parseInt(o.style.marginLeft||"0");e>=40&&(o.style.marginLeft=e-40+"px")})),d.addEventListener("click",(()=>{o.remove(),1===e.children.length&&(n.style.display="flex")})),o},n=document.createElement("div");n.style.cssText="\n        display: flex;\n        align-items: center;\n        padding: 8px;\n        cursor: pointer;\n        border-radius: 4px;\n        transition: background-color 0.2s ease;\n    ";const o=document.createElement("i");o.className="fas fa-plus",o.style.cssText="\n        font-size: 12px;\n        color: var(--interface-color);\n        margin-right: 8px;\n    ";const a=document.createElement("span");return a.textContent="Add item",a.style.cssText="\n        font-size: 14px;\n        color: var(--interface-color);\n    ",n.appendChild(o),n.appendChild(a),n.addEventListener("mouseenter",(()=>{n.style.backgroundColor="var(--neutral-gray)"})),n.addEventListener("mouseleave",(()=>{n.style.backgroundColor="transparent"})),n.addEventListener("click",(()=>{const o=t();e.insertBefore(o,n),e.children.length>20&&(n.style.display="none")})),e.appendChild(n),e.insertBefore(t("First item"),n),e.insertBefore(t("Second item"),n),{container:e,setup:()=>{const t=e.closest(".component-container");t&&(t.addEventListener("mouseenter",(()=>{n.style.display="flex"})),t.addEventListener("mouseleave",(()=>{e.children.length>1&&(n.style.display="none")})))}}},table:()=>{const e=document.createElement("div");e.style.cssText="\n        width: min-content;\n        overflow-x: auto;\n        position: relative;\n    ";const t=document.createElement("div");t.style.cssText="\n        margin-top: 6px;\n        display: inline-block; \n        min-width: min-content;\n        position: relative;\n        width: max-content;\n        min-width: 100%;\n    ";const n=document.createElement("table");n.style.cssText="\n        border-collapse: collapse;\n        font-size: 14px;\n        table-layout: fixed;\n        position: relative;\n        z-index: 2;\n        width: max-content;\n        min-width: 100%; \n    ";const o={CHECKBOX:"checkbox",TEXT:"text",LINK:"link",ACTION:"action"},a={hasCheckboxColumn:!1,columns:[],rows:[],activeControls:null,isResizing:!1,currentResizer:null,startX:0,startWidth:0,initialRightEdge:0},s=(e="New Column",t=o.TEXT)=>{const n=document.createElement("th");n.style.cssText="\n            padding: 12px 0;\n            text-align: left;\n            font-weight: 600;\n            color: var(--basic-txt-color);\n            border-bottom: 1px solid var(--neutral-gray);\n            position: relative;\n            min-width: 36px;\n            width: 128px;\n            border-right: 1px solid var(--neutral-gray);\n            white-space: nowrap;\n        ";const s=document.createElement("div");s.style.cssText="\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n            pointer-events: none;\n            margin-left: 16px;\n        ";const r=document.createElement("span");r.textContent=e,r.setAttribute("contenteditable","true"),r.style.pointerEvents="all",s.appendChild(r);const i=document.createElement("i");i.className="fas fa-sort",i.style.cssText="\n            font-size: 12px;\n            color: var(--basic-txt-color);\n            cursor: pointer;\n            pointer-events: all;\n            margin-right: 16px;\n        ",i.addEventListener("click",(e=>{e.preventDefault(),showIconPicker(i)})),s.appendChild(i);const d=document.createElement("div");d.className="column-resizer",d.style.cssText="\n            position: absolute;\n            right: 0;\n            top: 0;\n            bottom: 0;\n            width: 4px;\n            background: transparent;\n            cursor: col-resize;\n            z-index: 550;\n            pointer-events: all;\n        ";d.addEventListener("mousedown",(e=>{a.isResizing=!0,a.currentResizer=d,a.startX=e.pageX,a.startWidth=n.offsetWidth;const t=n.getBoundingClientRect();a.initialRightEdge=t.right;const o=document.createElement("div");o.style.cssText="\n                position: fixed;\n                top: 0;\n                left: 0;\n                right: 0;\n                bottom: 0;\n                z-index: 1000;\n                cursor: col-resize;\n            ",o.id="resize-overlay",document.body.appendChild(o);const s=document.createElement("div");s.style.cssText=`\n                position: fixed;\n                top: 0;\n                bottom: 0;\n                width: 2px;\n                background: var(--interface-color);\n                opacity: 0.5;\n                left: ${t.right}px;\n                pointer-events: none;\n                z-index: 1001;\n            `,s.id="resize-line",document.body.appendChild(s)})),d.addEventListener("mouseenter",(()=>{a.isResizing||(d.style.background="var(--interface-color)")})),d.addEventListener("mouseleave",(()=>{a.isResizing||(d.style.background="transparent")}));const p=document.createElement("div");p.className="column-controls",p.style.cssText="\n            display: none;\n            position: absolute;\n            left: -2px;\n            top: 136%;\n            border: 1px solid var(--neutral-gray);\n            transform: translateY(-50%);\n            background: var(--interface-color);\n            color: var(--basic-txt-color);\n            padding: 4px;\n            border-radius: 4px;\n            gap: 4px;\n            z-index: 108;\n            pointer-events: all;\n        ";const u=document.createElement("select");u.style.cssText="\n            padding: 2px 4px;\n            border: 1px solid var(--neutral-gray);\n            border-radius: 4px;\n            background: var(--input-bg-color);\n            color: var(--text-color);\n            font-size: 12px;\n            cursor: pointer;\n        ",Object.values(o).forEach((e=>{const t=document.createElement("option");t.value=e,t.textContent=e.charAt(0).toUpperCase()+e.slice(1),u.appendChild(t)})),u.value=t,u.addEventListener("mousedown",(e=>{e.stopPropagation(),p.style.display="flex",a.activeControls=p})),u.addEventListener("change",(e=>{e.stopPropagation(),l(n,u.value),setTimeout((()=>{a.activeControls===p&&(p.style.display="none",a.activeControls=null)}),200)})),u.addEventListener("blur",(()=>{setTimeout((()=>{a.activeControls===p&&(p.style.display="none",a.activeControls=null)}),200)})),p.appendChild(u);const m=document.createElement("i");return m.className="fas fa-times",m.setAttribute("title","delete column"),m.style.cssText="\n            font-size: 12px;\n            color: var(--error-danger-delete);\n            cursor: pointer;\n            padding: 4px;\n        ",m.addEventListener("click",(()=>{const e=Array.from(n.parentElement.children).indexOf(n);c(e)})),p.appendChild(m),n.appendChild(s),n.appendChild(p),n.appendChild(d),n.addEventListener("mouseenter",(()=>{a.activeControls||a.isResizing||(p.style.display="flex")})),n.addEventListener("mouseleave",(e=>{p.contains(e.relatedTarget)||a.activeControls===p||(p.style.display="none")})),n},r=(e=o.TEXT)=>{const t=document.createElement("td");switch(t.style.cssText="\n            padding: 12px 16px;\n            border-bottom: 1px solid var(--neutral-gray);\n            color: var(--basic-txt-color);\n            box-sizing: border-box;\n        ",e){case o.CHECKBOX:const e=document.createElement("div");e.className="fa-regular fa-square",e.style.cssText="\n                    margin: -2px 10px 0 10px;\n                    border-radius: 4px;\n                    cursor: pointer;\n                    position: relative;\n                    font-size: 18px;\n                    color: #a0a0a0;\n                ";const n=document.createElement("i");n.className="fa-solid fa-square-check",n.style.cssText="\n                    font-size: 18px;\n                    color: var(--primary-color);\n                    display: none; \n                    position: absolute;\n                    top: 0px;\n                    left: 0px;\n                    border: none;\n                ",e.appendChild(n),e.addEventListener("click",(()=>{const e="none"===n.style.display;n.style.display=e?"block":"none"})),t.appendChild(e);break;case o.LINK:const a=document.createElement("span");a.textContent="Link Text",a.style.cssText="\n                    color: #0d87d8;\n                    cursor: pointer;\n                ",a.setAttribute("contenteditable","true"),t.appendChild(a);break;case o.ACTION:const s=document.createElement("i");s.className="fas fa-bolt",s.style.cssText="\n                    font-size: 14px;\n                    color: var(--basic-txt-color);\n                    cursor: pointer;\n                ",s.addEventListener("click",(e=>{e.preventDefault(),showIconPicker(s)})),t.appendChild(s);break;default:t.setAttribute("contenteditable","true"),t.textContent="Cell Text"}return t},i=e=>{const t=document.createElement("tr");t.style.cssText="\n            transition: background-color 0.2s ease;\n            position: relative;\n        ",t.addEventListener("mouseenter",(()=>{t.style.backgroundColor="var(--neutral-gray-light)",t.querySelector(".row-controls").style.display="flex"})),t.addEventListener("mouseleave",(()=>{t.style.backgroundColor="transparent",t.querySelector(".row-controls").style.display="none"}));const n=e.children;Array.from(n).forEach((e=>{const n=e.querySelector("select").value;t.appendChild(r(n))}));const o=document.createElement("i");return o.className="fas fa-trash row-controls",o.setAttribute("title","delete row"),o.style.cssText="\n            font-size: 12px;\n            color: var(--error-danger-delete);\n            cursor: pointer;\n            position: absolute;\n            right: 14px;\n            top: 8px;\n            display: none;\n        ",o.addEventListener("click",(()=>{t.remove(),E()})),t.appendChild(o),t},l=(e,t)=>{const o=Array.from(e.parentElement.children).indexOf(e);n.querySelectorAll("tbody tr").forEach((e=>{const n=e.children[o],a=r(t);e.replaceChild(a,n)}))},c=e=>{n.querySelectorAll("tr").forEach((t=>{t.deleteCell(e)}))},d=document.createElement("div");d.style.cssText="\n        display: flex;\n        gap: 8px;\n        margin-top: 8px;\n\n    ";const p=document.createElement("button");p.style.cssText="\n        padding: 8px 16px;\n        margin: 8px 0;\n        background: transparent;\n        border: 1px solid var(--neutral-gray);\n        border-radius: 4px;\n        color: var(--interface-color);\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        gap: 8px;\n        transition: all 0.2s ease;\n    ";const u=document.createElement("i");u.className="fas fa-plus",p.appendChild(u);const m=document.createElement("span");m.textContent="Add Column",p.appendChild(m);const h=document.createElement("button");h.style.cssText=p.style.cssText;const y=document.createElement("i");y.className="fas fa-plus",h.appendChild(y);const x=document.createElement("span");x.textContent="Add Row",h.appendChild(x),d.appendChild(p),d.appendChild(h);const g=document.createElement("div");g.style.cssText="\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        height: 43px;\n        background-color: var(--color-primary);\n        z-index: 1;\n    ";new ResizeObserver((()=>{const e=v.scrollWidth;g.style.width=`calc(${e} - 2px)`})).observe(n);const v=document.createElement("thead"),f=document.createElement("tr");f.appendChild(s("Check",o.CHECKBOX)),f.appendChild(s("ID",o.LINK)),f.appendChild(s("Name",o.TEXT)),f.appendChild(s("Action",o.ACTION)),v.appendChild(f);const b=document.createElement("tbody");b.appendChild(i(f)),b.appendChild(i(f)),b.appendChild(i(f)),n.appendChild(v),n.appendChild(b),t.appendChild(g),t.appendChild(n),e.appendChild(t),e.appendChild(d),p.addEventListener("click",(()=>{n.querySelector("thead tr").appendChild(s());n.querySelectorAll("tbody tr").forEach((e=>{e.insertBefore(r(),e.lastElementChild)}))})),h.addEventListener("click",(()=>{const e=n.querySelector("thead tr");b.appendChild(i(e)),E()}));const E=()=>{const e=b.children.length;h.style.display=e>=20?"none":"flex"};return[p,h].forEach((e=>{e.addEventListener("mouseenter",(()=>{e.style.backgroundColor="var(--neutral-gray)",e.style.borderColor="var(--basic-txt-color)",e.style.color="var(--basic-txt-color)"})),e.addEventListener("mouseleave",(()=>{e.style.backgroundColor="transparent",e.style.borderColor="var(--neutral-gray)",e.style.color="var(--interface-color)"}))})),{container:e,setup:()=>{const t=e.closest(".component-container");t&&(t.addEventListener("mouseenter",(()=>{d.style.display="flex"})),t.addEventListener("mouseleave",(()=>{d.style.display="none"}))),document.addEventListener("mousemove",(e=>{if(a.isResizing){document.querySelectorAll(".column-resizer").forEach((e=>{e.style.background="transparent"}));const t=e.pageX-a.startX,n=Math.max(60,a.startWidth+t);a.currentResizer.parentElement.style.width=`${n}px`;const o=document.getElementById("resize-line");if(o){a.initialRightEdge;o.style.transform=`translateX(${t}px)`}}})),document.addEventListener("mouseup",(()=>{if(a.isResizing){a.isResizing=!1,a.currentResizer=null,a.startX=0,a.startWidth=0;const e=document.getElementById("resize-overlay"),t=document.getElementById("resize-line");e&&e.remove(),t&&t.remove()}})),document.addEventListener("click",(e=>{a.activeControls&&!a.activeControls.contains(e.target)&&(a.activeControls.style.display="none",a.activeControls=null)}))}}},hzDivider:e=>{let t,n,o;e?(t=e.cloneNode(!0),n=t.querySelector("div:nth-child(2)"),o=n.querySelector(".divider-line")):(t=document.createElement("div"),t.className="hzRule",t.style.cssText="\n        width: 100%;\n        padding: 6px 0;\n        position: relative;\n    ",n=document.createElement("div"),n.style.cssText="\n        width: 100%;\n        min-height: 24px;\n        display: flex;\n        align-items: center;\n        gap: 12px;\n        position: relative;\n    ",o=document.createElement("div"),o.classList.add("divider-line"),o.style.cssText="\n        flex: 1;\n        border-width: 2px 0 0 0;\n        border-style: solid;\n        border-color: var(--color-transparent-blk);\n        transition: all 0.3s ease;\n    ",n.appendChild(o));const a=document.createElement("div");a.classList.add("hzRuleControls"),a.style.cssText="\n        position: absolute;\n        top: -28px;\n        left: 50%;\n        transform: translateX(-50%);\n        gap: 6px;\n        background: var(--interface-color);\n        padding: 2px 4px;\n        border-radius: 4px;\n        z-index: 56100;\n    ";const s=[{icon:"minus",title:"Solid"},{icon:"ellipsis-h",title:"Dotted"},{icon:"grip-lines",title:"Double"}].map((({icon:e,title:t})=>{const n=document.createElement("i");return n.className=`fas fa-${e}`,n.title=t,n.style.cssText="\n            padding: 6px;\n            cursor: pointer;\n            color: var(--basic-txt-color);\n            transition: color 0.2s ease;\n        ",n.addEventListener("mouseenter",(()=>{n.style.color="var(--color-primary)"})),n.addEventListener("mouseleave",(()=>{n.style.color="var(--basic-txt-color)"})),n})),r=document.createElement("input");r.type="range",r.min="1",r.max="8",r.value="2",r.style.cssText="\n        width: 66px;\n        height: 12px;\n        margin-left: 6px;\n    ",s[0].addEventListener("click",(()=>{const e=r.value;o.style.borderStyle="solid",o.style.borderWidth=`${e}px 0 0 0`,o.style.borderColor="var(--color-transparent-blk)",o.style.background="none",o.style.height="0",n.style.flexDirection="row"})),s[1].addEventListener("click",(()=>{const e=r.value;o.style.borderStyle="dotted",o.style.background="none",o.style.height="0",o.style.borderWidth=`${e}px 0 0 0`,o.style.borderColor="var(--color-transparent-blk)",n.style.flexDirection="row"})),s[2].addEventListener("click",(()=>{const e=r.value;o.style.borderStyle="double",o.style.background="none",o.style.height="0",o.style.borderWidth=`${e}px 0 0 0`,o.style.borderColor="var(--color-transparent-blk)",n.style.flexDirection="row"})),r.addEventListener("input",(e=>{o.style.borderWidth=`${e.target.value}px 0 0 0`}));const i=document.createElement("div");i.style.cssText="\n        display: flex;\n        align-items: center;\n        gap: 8px;\n    ";const l=document.createElement("div");return l.style.cssText="\n        display: flex;\n        gap: 8px;\n    ",s.forEach((e=>l.appendChild(e))),i.appendChild(l),i.appendChild(r),a.appendChild(i),t.appendChild(a),t.appendChild(n),t},colorBlock:e=>{let t,n;return e?(t=e.cloneNode(!0),n=t.querySelector(".colorBlock-inner")):(t=document.createElement("div"),t.style.cssText="width: 100%; position: relative;",t.classList.add("colorBlock-container"),n=document.createElement("div"),n.classList.add("colorBlock-inner"),n.style.cssText="\n        width: 100%; \n        transform: translatex(-10px); \n        padding: 0px 10px 16px 10px; \n        min-height: 40px; \n        background-color: var(--color-secondary);\n        position: relative;\n    "),n.addEventListener("mouseover",(e=>{const t=e.target.closest(".component-container");if(!t)return;n.querySelectorAll(".component-container").forEach((e=>{e.classList.add("controls-hidden")})),t.classList.remove("controls-hidden")})),n.addEventListener("mouseleave",(()=>{n.querySelectorAll(".component-container").forEach((e=>{e.classList.remove("controls-hidden")}))})),this.initializeSortable(n),t.appendChild(n),resizer.makeResizable(n),t},footer:()=>{const e=document.createElement("footer");e.innerHTML='\n            <div style="width: 100%; background-color: var(--color-primary); position: absolute; top: 0; right: 0; left: -10; bottom: -12; z-index: 1; padding: 0 10px; "></div>\n            <div style="display: flex; justify-content: space-between; width: 100%; padding: 20px 0; z-index: 2; position: relative;">\n                <div style="text-align: left;">\n                    <div class="footer-image-container" style="margin-bottom: 10px; background-color: #f0f0f0;">\n                        <div onclick="this.querySelector(\'input\').click()" class="trash" style="width: 60px; height: 60px; display: flex; justify-content: center; align-items: center; cursor: pointer; margin-bottom: 10px;">\n                            <span style="color: #333;">Logo</span>\n                            <input type="file" accept="image/*" onchange="handleFooterImageUpload(this)" style="display: none;">\n                            <img style="display: none; max-width: 60px; height: auto;" class="footer-logo">\n                        </div>\n                    </div>\n                    <div>\n                    <h3 spellcheck="false" contenteditable style="margin: 0;">Brand</h3>\n                    </div>\n                </div>\n                <div style="display: flex; gap: 28px; font-size: 14px; padding: 2px 8px;">\n                    <ul style="list-style: none; padding: 0; margin: 0;">\n                        <li contenteditable style="margin-bottom: 8px;"><a href="#" style="color: inherit; text-decoration: none;">About Us</a></li>\n                        <li contenteditable style="margin-bottom: 8px;"><a href="#" style="color: inherit; text-decoration: none;">Contact</a></li>\n                        <li contenteditable style="margin-bottom: 8px;"><a href="#" style="color: inherit; text-decoration: none;">Careers</a></li>\n                    </ul>\n                    <ul style="list-style: none; padding: 0; margin: 0;">\n                        <li contenteditable style="margin-bottom: 8px;"><a href="#" style="color: inherit; text-decoration: none;">Support</a></li>\n                        <li contenteditable style="margin-bottom: 8px;"><a href="#" style="color: inherit; text-decoration: none;">Privacy Policy</a></li>\n                        <li contenteditable style="margin-bottom: 8px;"><a href="#" style="color: inherit; text-decoration: none;">Terms of Use</a></li>\n                    </ul>\n                </div>\n            </div>\n        ';const t=document.createElement("div");t.classList.add("socialFooter"),t.style.cssText="display: flex; justify-content: center; gap: 40px; padding: 24px 0 68px 0; border-top: 1px solid var(--neutral-gray); z-index: 2; position: relative; z-index: 3; color: #333;";return["fas fa-seedling","fas fa-bolt-lightning","fas fa-skull"].forEach((e=>{const n=document.createElement("div");n.classList.add("icon-container"),n.style.cssText="flex-shrink: 0;";const o=document.createElement("i");o.className=e,o.style.cssText="font-size: 20px; cursor: pointer;",n.appendChild(o),t.appendChild(n)})),e.append(t),e.style.cssText="width: 100%; color: var(--text-on-primary); padding: 20px 0; margin-bottom: -68px; position: relative;",e}}}function handleFooterImageUpload(e){if(e.files&&e.files[0]){const t=new FileReader,n=e.parentElement,o=n.querySelector(".footer-logo"),a=n.closest(".footer-image-container"),s=n.querySelector("span");t.onload=function(e){o.src=e.target.result,o.style.display="block",s.style.display="none",a.style.backgroundColor="transparent"},t.readAsDataURL(e.files[0])}}const editor=window.editor||new MobileUIEditor;class Resizer{constructor(){this.isResizing=!1,this.currentElement=null,this.startY=0,this.startHeight=0,this.initialRightEdge=0,this.resizeOverlay=this.createOverlay(),this.setupListeners()}createOverlay(){const e=document.createElement("div");return e.style.cssText="\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            background: transparent;\n            display: none;\n            z-index: 1000;\n            cursor: ns-resize;\n          ",document.body.appendChild(e),e}createHandle(e){const t=document.createElement("div");t.className="resize-handle",t.style.cssText="\n            position: absolute;\n            right: 2px;\n            bottom: 2px;\n            width: 24px;\n            height: 24px;\n            cursor: ns-resize;\n            display: none;\n            pointer-events: all;\n            padding: 2px;\n            z-index: 20;\n          ";const n=document.createElement("div");return n.style.cssText="\n            width: 0;\n            height: 0;\n            box-shadow: 1px 1px 0px white;\n            border-style: solid;\n            border-width: 0 0 14px 14px;\n            border-color: transparent transparent #333 transparent;\n          ",t.appendChild(n),t.addEventListener("mousedown",(t=>this.startResize(t,e))),t.addEventListener("mouseenter",(()=>t.style.display="flex")),t}startResize(e,t){this.isResizing=!0,this.currentElement=t,this.startY=e.pageY,this.startHeight=parseInt(window.getComputedStyle(t).height);const n=t.getBoundingClientRect();this.initialRightEdge=n.right,this.resizeOverlay.style.display="block",e.preventDefault(),e.stopPropagation()}setupListeners(){document.addEventListener("mousemove",(e=>{if(!this.isResizing)return;const t=Math.max(0,this.startHeight+(e.pageY-this.startY));this.currentElement.style.height=`${t}px`})),document.addEventListener("mouseup",(()=>{this.isResizing&&(this.isResizing=!1,this.currentElement=null,this.resizeOverlay.style.display="none")}))}makeResizable(e,t=!0){const n=this.createHandle(e);return e.appendChild(n),t&&(e.addEventListener("mouseenter",(()=>{this.isResizing||(n.style.display="flex")})),e.addEventListener("mouseleave",(()=>{this.isResizing||(n.style.display="none")}))),n}}const resizer=new Resizer;